<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>APOXI: DrmAsset Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul></div>
<h1>DrmAsset Class Reference<br>
<small>
[<a class="el" href="group__Auxiliary.html">Auxiliary</a>]</small>
</h1><!-- doxytag: class="DrmAsset" --><code>#include &lt;<a class="el" href="DrmAsset_8hpp-source.html">Apoxi/Auxiliary/DrmAsset.hpp</a>&gt;</code>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmAsset.html#8fa3a781f39992a52ae485dbad9e1a34">DeleteDrmRights</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmAsset.html#a3da78569b9d9266199babf07cccc66b">DrmAsset</a> (<a class="el" href="group__Auxiliary.html#g1636ba41b4ff8890cdcad97ed10fb4af">DrmLocalId</a> id=<a class="el" href="group__Auxiliary.html#g20c0538a1314f420e00e79622c59a124">c_drm_invalid_local_id</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmAsset.html#2e375ce23eff3faa70ccce1763967cff">GetCount</a> (<a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a> op, INT32 &amp;cnt) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__Auxiliary.html#g1636ba41b4ff8890cdcad97ed10fb4af">DrmLocalId</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmAsset.html#c2fab00caf334281ce85a193344b5168">GetDrmLocalId</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmAsset.html#76c5ba45c99a8c2c332e8a79214c94b4">GetEndDate</a> (<a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a> op, <a class="el" href="classDate.html">Date</a> &amp;end_date) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmAsset.html#a142f2b494f554128c83b0e40857a7a0">GetStartDate</a> (<a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a> op, <a class="el" href="classDate.html">Date</a> &amp;start_date) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classString.html">DrmUid</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmAsset.html#8ad3aaa2c585cbdf20aa81877b84d753">GetUid</a> (<a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> &amp;status) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmAsset.html#d7dd4047ce176fbee3ad23f7dec4a205">GetValidityPeriod</a> (<a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a> op, <a class="el" href="classTimeSpan.html">TimeSpan</a> &amp;validity_period) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmAsset.html#b6db05ff3537c862c6bab7dfae87ff0e">IncrementRefCount</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmAsset.html#2f34f40b30ac4fe182cd030e239a75de">OnContentConsumedEnd</a> (<a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a> op) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmAsset.html#610a19a054d1388e543dfcc540660ade">OnContentConsumedStart</a> (<a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a> op) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmAsset.html#47b7d302c8c0e5c4953b363456b1d590">OnRollback</a> (<a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a> op) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmAsset.html#2b0b672207ad0b5f87c72ec7184391ad">SetLocalDrmId</a> (<a class="el" href="group__Auxiliary.html#g1636ba41b4ff8890cdcad97ed10fb4af">DrmLocalId</a> id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmAsset.html#d3b7a7e95dccb82bc92244ca25e521bc">ValidateAsset</a> (<a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a> op) const </td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmAsset.html#ef9c189a0d3cd4034f0b998271f42046">CreateContainer</a> (<a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a> op, <a class="el" href="classDrmRightsObjectContainer.html">DrmRightsObjectContainer</a> &amp;ro_holder) const </td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
DRM enabled applications can invoke the member functions on DRM enabled assets to process and validate DRM constraints and permissions. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a3da78569b9d9266199babf07cccc66b"></a><!-- doxytag: member="DrmAsset::DrmAsset" ref="a3da78569b9d9266199babf07cccc66b" args="(DrmLocalId id=c_drm_invalid_local_id)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">DrmAsset::DrmAsset           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g1636ba41b4ff8890cdcad97ed10fb4af">DrmLocalId</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>id</em> = <code><a class="el" href="group__Auxiliary.html#g20c0538a1314f420e00e79622c59a124">c_drm_invalid_local_id</a></code>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>Local ID of the object. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="ef9c189a0d3cd4034f0b998271f42046"></a><!-- doxytag: member="DrmAsset::CreateContainer" ref="ef9c189a0d3cd4034f0b998271f42046" args="(DrmOperation op, DrmRightsObjectContainer &amp;ro_holder) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> DrmAsset::CreateContainer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>op</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classDrmRightsObjectContainer.html">DrmRightsObjectContainer</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>ro_holder</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"> const<code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a container for the Rights Objects of the asset. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>op</em>&nbsp;</td><td>Operation for which the Rights objects are necessary </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ro_holder</em>&nbsp;</td><td>Container for the Rights Objects </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="8fa3a781f39992a52ae485dbad9e1a34"></a><!-- doxytag: member="DrmAsset::DeleteDrmRights" ref="8fa3a781f39992a52ae485dbad9e1a34" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> DrmAsset::DeleteDrmRights           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Deletes the Drm Rights information from the rights store <dl compact><dt><b>Returns:</b></dt><dd>INT error code </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="2e375ce23eff3faa70ccce1763967cff"></a><!-- doxytag: member="DrmAsset::GetCount" ref="2e375ce23eff3faa70ccce1763967cff" args="(DrmOperation op, INT32 &amp;cnt) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> DrmAsset::GetCount           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>op</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>INT32 &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>cnt</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
GetCount<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>op</em>&nbsp;</td><td>Operation which consumes content </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cnt</em>&nbsp;</td><td>Output parameter, which contains the count if the operation has been successful. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>DrmStatus to indicate error type or success. Returns DrmSuccess to indicate success in getting count value. Returns DrmDefaultConstraints to indicate count constraint is holding maximum possible value. Returns DrmUnknown or other to indicate count constraint not being present in rights XML. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="c2fab00caf334281ce85a193344b5168"></a><!-- doxytag: member="DrmAsset::GetDrmLocalId" ref="c2fab00caf334281ce85a193344b5168" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g1636ba41b4ff8890cdcad97ed10fb4af">DrmLocalId</a> DrmAsset::GetDrmLocalId           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the device local id of the asset. <dl compact><dt><b>Returns:</b></dt><dd>c_drm_invalid_local_id if no DRM rights object is existent. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="76c5ba45c99a8c2c332e8a79214c94b4"></a><!-- doxytag: member="DrmAsset::GetEndDate" ref="76c5ba45c99a8c2c332e8a79214c94b4" args="(DrmOperation op, Date &amp;end_date) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> DrmAsset::GetEndDate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>op</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classDate.html">Date</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>end_date</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>op</em>&nbsp;</td><td>Operation which consumes content </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>end_date</em>&nbsp;</td><td>Output parameter, which contains the end-date if the operation has been successful. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>DrmStatus to indicate error type or success. Returns DrmSuccess to indicate success in getting end date value. Returns DrmDefaultConstraints to indicate end date is holding maximum possible date. Returns DrmUnknown to indicate datetime constraint not being present in rights XML. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a142f2b494f554128c83b0e40857a7a0"></a><!-- doxytag: member="DrmAsset::GetStartDate" ref="a142f2b494f554128c83b0e40857a7a0" args="(DrmOperation op, Date &amp;start_date) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> DrmAsset::GetStartDate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>op</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classDate.html">Date</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>start_date</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>op</em>&nbsp;</td><td>Operation which consumes content </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>start_date</em>&nbsp;</td><td>Output parameter, which contains the start-date if the operation has been successful. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>DrmStatus to indicate error type or success. Returns DrmSuccess to indicate success in getting start date value. Returns DrmDefaultConstraints to indicate start date is holding minimum possible date. Returns DrmUnknown or other to indicate datetime constraint not being present in rights XML. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="8ad3aaa2c585cbdf20aa81877b84d753"></a><!-- doxytag: member="DrmAsset::GetUid" ref="8ad3aaa2c585cbdf20aa81877b84d753" args="(DrmStatus &amp;status) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classString.html">DrmUid</a> DrmAsset::GetUid           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>status</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the Content URI (Uses the DcfParser) <dl compact><dt><b>Returns:</b></dt><dd>DrmUid string </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="d7dd4047ce176fbee3ad23f7dec4a205"></a><!-- doxytag: member="DrmAsset::GetValidityPeriod" ref="d7dd4047ce176fbee3ad23f7dec4a205" args="(DrmOperation op, TimeSpan &amp;validity_period) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> DrmAsset::GetValidityPeriod           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>op</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classTimeSpan.html">TimeSpan</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>validity_period</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>op</em>&nbsp;</td><td>Operation which consumes content </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>validity_period</em>&nbsp;</td><td>Output parameter, which contains the validity-period if the operation has been successful. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>DrmStatus to indicate error type or success. Returns DrmSuccess to indicate success in getting validity period value. Returns DrmDefaultConstraints to indicate interval constraint is holding maximum possible value. Returns DrmUnknown or other to indicate interval constraint not being present in rights XML. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="b6db05ff3537c862c6bab7dfae87ff0e"></a><!-- doxytag: member="DrmAsset::IncrementRefCount" ref="b6db05ff3537c862c6bab7dfae87ff0e" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> DrmAsset::IncrementRefCount           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
IncrementRefCount - Increments the reference count for the asset It indicates the existence of an asset and the number of times the asset is copied. Each time a DRM Asset is copied the reference count must be increased by the copying application. A reference count greater than 0 indicates a copy of the asset has been made. All rights associated with the Asset can be deleted when reference count is 0 (only one copy of an asset is existing in the system) <dl compact><dt><b>Returns:</b></dt><dd>DrmStatus - Status of the operation - DrmSuccess on proper increment </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="2f34f40b30ac4fe182cd030e239a75de"></a><!-- doxytag: member="DrmAsset::OnContentConsumedEnd" ref="2f34f40b30ac4fe182cd030e239a75de" args="(DrmOperation op) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN DrmAsset::OnContentConsumedEnd           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>op</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
If content has been consumed, OnContentConsumedEnd will update constraint internal state.<p>
Note : Content will be considered consumed either when the application calls OnContentConsumedStart or OnContentConsumedEnd, which depends on DRM configuration information (operator specific)<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>op</em>&nbsp;</td><td>Operation which consumes content </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TRUE on updation of internal constraint state </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="610a19a054d1388e543dfcc540660ade"></a><!-- doxytag: member="DrmAsset::OnContentConsumedStart" ref="610a19a054d1388e543dfcc540660ade" args="(DrmOperation op) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN DrmAsset::OnContentConsumedStart           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>op</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
If content has been consumed, OnContentConsumedStart will update constraint internal state to indicate start of content consumption.<p>
Note : Content will be considered consumed either when the application calls OnContentConsumedStart or OnContentConsumedEnd, which depends on DRM configuration information (operator specific)<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>op</em>&nbsp;</td><td>Operation which consumes content </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TRUE on updation of internal constraint state to indicate start of consumption </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="47b7d302c8c0e5c4953b363456b1d590"></a><!-- doxytag: member="DrmAsset::OnRollback" ref="47b7d302c8c0e5c4953b363456b1d590" args="(DrmOperation op) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN DrmAsset::OnRollback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>op</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
If content has been consumed, OnRollback will revert constraint internal state.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>op</em>&nbsp;</td><td>Operation which consumes content </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TRUE on updation(reverting) of internal constraint state </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="2b0b672207ad0b5f87c72ec7184391ad"></a><!-- doxytag: member="DrmAsset::SetLocalDrmId" ref="2b0b672207ad0b5f87c72ec7184391ad" args="(DrmLocalId id)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void DrmAsset::SetLocalDrmId           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g1636ba41b4ff8890cdcad97ed10fb4af">DrmLocalId</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>id</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Intializes the local ID of the asset. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>local ID of the object </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="d3b7a7e95dccb82bc92244ca25e521bc"></a><!-- doxytag: member="DrmAsset::ValidateAsset" ref="d3b7a7e95dccb82bc92244ca25e521bc" args="(DrmOperation op) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> DrmAsset::ValidateAsset           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>op</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Validates the permissions of the <a class="el" href="classDrmAsset.html">DrmAsset</a> based on the local ID To be called before rendering / consuming content <dl compact><dt><b>Returns:</b></dt><dd>status of validation or error code </dd></dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>Auxiliary/<a class="el" href="DrmAsset_8hpp-source.html">DrmAsset.hpp</a><li>Auxiliary/<a class="el" href="DrmAsset_8cpp.html">DrmAsset.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jan 25 01:12:11 2006 for APOXI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO </small></address>
</body>
</html>
