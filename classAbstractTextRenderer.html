<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>APOXI: AbstractTextRenderer Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul></div>
<h1>AbstractTextRenderer Class Reference<br>
<small>
[<a class="el" href="group__GUI.html">GUI</a>]</small>
</h1><!-- doxytag: class="AbstractTextRenderer" --><code>#include &lt;<a class="el" href="AbstractTextRenderer_8hpp-source.html">Apoxi/Gui/AbstractTextRenderer.hpp</a>&gt;</code>
<p>
Inheritance diagram for AbstractTextRenderer:<p><center><img src="classAbstractTextRenderer__inherit__graph.png" border="0" usemap="#AbstractTextRenderer__inherit__map" alt="Inheritance graph"></center>
<map name="AbstractTextRenderer__inherit__map">
<area href="classArabicTextRenderer.html" shape="rect" coords="7,82,148,108" alt="">
<area href="classHindiTextRenderer.html" shape="rect" coords="172,82,305,108" alt="">
<area href="classJapaneseTextRenderer.html" shape="rect" coords="329,82,489,108" alt="">
<area href="classSimpleTextRenderer.html" shape="rect" coords="513,82,657,108" alt="">
<area href="classThaiTextRenderer.html" shape="rect" coords="681,82,809,108" alt="">
<area href="classVietnameseTextRenderer.html" shape="rect" coords="833,82,1007,108" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for AbstractTextRenderer:<p><center><img src="classAbstractTextRenderer__coll__graph.png" border="0" usemap="#AbstractTextRenderer__coll__map" alt="Collaboration graph"></center>
<map name="AbstractTextRenderer__coll__map">
<area href="classMutex.html" shape="rect" coords="12,175,71,202" alt="">
<area href="classNonCloneable.html" shape="rect" coords="50,7,156,34" alt="">
<area href="classSemaphore.html" shape="rect" coords="58,84,148,111" alt="">
<area href="classFont.html" shape="rect" coords="106,175,154,202" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual XYDIM&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractTextRenderer.html#dcdde2bac2e03f6da42ff76c04eb65c5">DrawText</a> (<a class="el" href="classDeviceContext.html">DeviceContext</a> *dc, const <a class="el" href="classRect.html">Rect</a> &amp;clip_rect, XYDIM x, XYDIM <a class="el" href="ScrollHorizontal__Planes_8cpp.html#e3cd76392e6b1870170c274ff8936b33">y</a>, const WCHAR *text, INT from, INT char_count)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual INT&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractTextRenderer.html#25c7deec3512c61a4cf295a392f84014">GetTextWidth</a> (const WCHAR *text, const <a class="el" href="classFont.html">Font</a> &amp;font, <a class="el" href="group__GUI.html#g043d2b0480bfb82f3ecb73b3bcb056b2">TextAttr</a> text_attr, INT from, INT char_count, BOOLEAN include_gap=<a class="el" href="Kernel_2Types_8hpp.html#bf218ebc7e2ed90798d1f23a29b7ad09">FALSE</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractTextRenderer.html#404b3e4c1739771e52318d5f3a3f0d2c">IsStandaloneCharacter</a> (const WCHAR *text, INT <a class="el" href="VCard_8cpp.html#312c2cad451d6bb0536fb9ec2863be59">index</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual INT&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractTextRenderer.html#63a465be37fffaf1c53048911d223080">WrapLine</a> (const WCHAR *text, const <a class="el" href="classFont.html">Font</a> &amp;font, <a class="el" href="group__GUI.html#g043d2b0480bfb82f3ecb73b3bcb056b2">TextAttr</a> text_attr, INT char_count, XYDIM max_width=-1, <a class="el" href="classEditorDocument.html#f48e99a86cbbd26e1174f9f049a623d0">WrapPolicy</a> policy=(<a class="el" href="classEditorDocument.html#f48e99a86cbbd26e1174f9f049a623d0">WrapPolicy</a>) 0, BOOLEAN include_gap_at_end=<a class="el" href="Kernel_2Types_8hpp.html#bf218ebc7e2ed90798d1f23a29b7ad09">FALSE</a>, <a class="el" href="classSize.html">Size</a> *total_size=0, INT *ws_at_eol_count=0, XYDIM *ws_at_eol_width=0, INT *last_whitespace_index=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractTextRenderer.html#0dd280f0dcb5d13b5bb6d01931535b62">~AbstractTextRenderer</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static XYDIM&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractTextRenderer.html#11d67018688ec1195d9e11fcffb2fed9">GetItalicIncrement</a> (INT font_height)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classVector.html">Vector</a>&lt; INT &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractTextRenderer.html#f28f8a501511e33183182348fb2fc6be">GetWrapPositions</a> (const WCHAR *text, const <a class="el" href="classFont.html">Font</a> &amp;font, <a class="el" href="group__GUI.html#g043d2b0480bfb82f3ecb73b3bcb056b2">TextAttr</a> text_attr, <a class="el" href="classEditorDocument.html#f48e99a86cbbd26e1174f9f049a623d0">WrapPolicy</a> policy, XYDIM width)</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractTextRenderer.html#7542c5ed3b9379e5e5c3671820209d86">AbstractTextRenderer</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor. It is protected because text renderers are singletons.  <a href="#7542c5ed3b9379e5e5c3671820209d86"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractTextRenderer.html#4bcf4541affc6b5ce9571f6c5bc8bbcf">BeginGlyphRetrieval</a> (const WCHAR *text_start, const <a class="el" href="classFont.html">Font</a> &amp;font, <a class="el" href="group__GUI.html#g043d2b0480bfb82f3ecb73b3bcb056b2">TextAttr</a> text_attr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractTextRenderer.html#02db242b556952a06eb8237a70c8d2e9">DrawGlyphInItalic</a> (<a class="el" href="classVirtualDisplay.html">VirtualDisplay</a> *display, INT font_height, const <a class="el" href="structGlyph.html">Glyph</a> &amp;glyph, XYDIM x, XYDIM <a class="el" href="ScrollHorizontal__Planes_8cpp.html#e3cd76392e6b1870170c274ff8936b33">y</a>, const <a class="el" href="classRect.html">Rect</a> &amp;clip_rect)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractTextRenderer.html#a8d024d8e9630f92e54c9f3a5f552984">EndGlyphRetrieval</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classSize.html">Size</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractTextRenderer.html#87e39c52fc034846bf227843331194f1">GetGlyph</a> (const WCHAR *cur_text_pos, const WCHAR *substitution_char, INT char_count, GlyphPtr glyph, INT &amp;parsed_glyphs, BOOLEAN &amp;is_diacritic)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractTextRenderer.html#c6f8ebb213b8cb828d490a0fec9b3e1c">ObtainMutex</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Obtains the mutex.  <a href="#c6f8ebb213b8cb828d490a0fec9b3e1c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractTextRenderer.html#033861b0c8e436bd7ccc1bb8d1f4463b">ReleaseMutex</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Releases the mutex.  <a href="#033861b0c8e436bd7ccc1bb8d1f4463b"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classFont.html">Font</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractTextRenderer.html#5e2742a3ef336db50571f6d3890d9f88">m_font</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pointer to the current font  <a href="#5e2742a3ef336db50571f6d3890d9f88"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__GUI.html#g043d2b0480bfb82f3ecb73b3bcb056b2">TextAttr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractTextRenderer.html#72485061c2586b202f497d320c4e2855">m_text_attr</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Current text attributes.  <a href="#72485061c2586b202f497d320c4e2855"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const WCHAR *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractTextRenderer.html#696c4cefc0f073da766c851f89bd1f76">m_text_start</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pointer to the text start  <a href="#696c4cefc0f073da766c851f89bd1f76"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The <a class="el" href="classAbstractTextRenderer.html">AbstractTextRenderer</a> is the abstract base class used to implement text drawing. TextRenderers are implemented as singletons, i.e. they must have a static GetInstance() method.<p>
In order to implement a text renderer for a language, usually all that has to be done is override the GetGlyph method.<p>
Before text rendering is started, the BeginGlyphRetrieval method is called to initialize some start parameters. The DrawText method then iterates over all characters in a given text, calls GetGlyph to retrieve the correct glyph, and draws it. Afterwards EndGlyphRetrieval is invoked.<p>
The GetTextWidth and WrapLine methods work analog to the DrawText method, without rendering the text on the display.<p>
The GetGlyph method is used to retrieve the correct glyph for a given language and a character's position within the text. It is an abstract method that subclasses must override. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="0dd280f0dcb5d13b5bb6d01931535b62"></a><!-- doxytag: member="AbstractTextRenderer::~AbstractTextRenderer" ref="0dd280f0dcb5d13b5bb6d01931535b62" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">AbstractTextRenderer::~AbstractTextRenderer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="7542c5ed3b9379e5e5c3671820209d86"></a><!-- doxytag: member="AbstractTextRenderer::AbstractTextRenderer" ref="7542c5ed3b9379e5e5c3671820209d86" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">AbstractTextRenderer::AbstractTextRenderer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor. It is protected because text renderers are singletons. 
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="4bcf4541affc6b5ce9571f6c5bc8bbcf"></a><!-- doxytag: member="AbstractTextRenderer::BeginGlyphRetrieval" ref="4bcf4541affc6b5ce9571f6c5bc8bbcf" args="(const WCHAR *text_start, const Font &amp;font, TextAttr text_attr)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN AbstractTextRenderer::BeginGlyphRetrieval           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const WCHAR *&nbsp;</td>
          <td class="mdname" nowrap> <em>text_start</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classFont.html">Font</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>font</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__GUI.html#g043d2b0480bfb82f3ecb73b3bcb056b2">TextAttr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>text_attr</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Before iterating over the characters to retrieve the appropriate glyphs, this method must be called. Its parameters are stored in member variables, as they are needed with every call of <a class="el" href="classAbstractTextRenderer.html#87e39c52fc034846bf227843331194f1">GetGlyph()</a>.<p>
When this class is extended, this method can be used to e.g. allocate memory, etc.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>text_start</em>&nbsp;</td><td>Pointer to the start of the text. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>font</em>&nbsp;</td><td>The font used for the glyphs. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>text_attr</em>&nbsp;</td><td>The current text attributes. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TRUE if everything was ok, FALSE otherwise. </dd></dl>

<p>
Reimplemented in <a class="el" href="classThaiTextRenderer.html#0876d0137d11e920c96e06f4fe51743c">ThaiTextRenderer</a>.    </td>
  </tr>
</table>
<a class="anchor" name="02db242b556952a06eb8237a70c8d2e9"></a><!-- doxytag: member="AbstractTextRenderer::DrawGlyphInItalic" ref="02db242b556952a06eb8237a70c8d2e9" args="(VirtualDisplay *display, INT font_height, const Glyph &amp;glyph, XYDIM x, XYDIM y, const Rect &amp;clip_rect)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void AbstractTextRenderer::DrawGlyphInItalic           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classVirtualDisplay.html">VirtualDisplay</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>display</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>INT&nbsp;</td>
          <td class="mdname" nowrap> <em>font_height</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="structGlyph.html">Glyph</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>glyph</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>XYDIM&nbsp;</td>
          <td class="mdname" nowrap> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>XYDIM&nbsp;</td>
          <td class="mdname" nowrap> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classRect.html">Rect</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>clip_rect</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Draws a glyph in italic style if no italic glyph table is available.     </td>
  </tr>
</table>
<a class="anchor" name="dcdde2bac2e03f6da42ff76c04eb65c5"></a><!-- doxytag: member="AbstractTextRenderer::DrawText" ref="dcdde2bac2e03f6da42ff76c04eb65c5" args="(DeviceContext *dc, const Rect &amp;clip_rect, XYDIM x, XYDIM y, const WCHAR *text, INT from, INT char_count)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">XYDIM AbstractTextRenderer::DrawText           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classDeviceContext.html">DeviceContext</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classRect.html">Rect</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>clip_rect</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>XYDIM&nbsp;</td>
          <td class="mdname" nowrap> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>XYDIM&nbsp;</td>
          <td class="mdname" nowrap> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const WCHAR *&nbsp;</td>
          <td class="mdname" nowrap> <em>text</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>INT&nbsp;</td>
          <td class="mdname" nowrap> <em>from</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>INT&nbsp;</td>
          <td class="mdname" nowrap> <em>char_count</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A generic method for drawing text. It iterates over all characters in the text, retrieves the glyph for each character and draws it.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dc</em>&nbsp;</td><td>the <a class="el" href="classDeviceContext.html">DeviceContext</a> where the text must be drawn. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>clip_rect</em>&nbsp;</td><td>the clipping rectangle of the device context. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd>DeviceContext::DrawRawText calls the <a class="el" href="classAbstractTextRenderer.html#dcdde2bac2e03f6da42ff76c04eb65c5">DrawText</a> method with its internal clip_rect, because the absolute coordinates are needed, and it is faster than retrieving the clipping rectangle from the <a class="el" href="classDeviceContext.html">DeviceContext</a>, and restoring the absolute coordinates. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>the x position of the text </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y</em>&nbsp;</td><td>the y position of the text </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>text</em>&nbsp;</td><td>a pointer to the text. Text must be 0 terminated. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>from</em>&nbsp;</td><td>position of the first character in the text to be drawn </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>char_count</em>&nbsp;</td><td>the number of character starting from from to be drawn. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the x position behind the last drawn character. The value is relative to the devicecontext, and not an absolute (display) value. </dd></dl>

<p>
Reimplemented in <a class="el" href="classArabicTextRenderer.html#d27f8b1a2d631175b3ab0e2bc0bb5d5d">ArabicTextRenderer</a>, <a class="el" href="classSimpleTextRenderer.html#eff330af97e2b97e2979df2d94173c2b">SimpleTextRenderer</a>, and <a class="el" href="classThaiTextRenderer.html#312ad11766c25eb334c3dc68f472e410">ThaiTextRenderer</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8d024d8e9630f92e54c9f3a5f552984"></a><!-- doxytag: member="AbstractTextRenderer::EndGlyphRetrieval" ref="a8d024d8e9630f92e54c9f3a5f552984" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void AbstractTextRenderer::EndGlyphRetrieval           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
After retrieving glyphs is finished, this method is called. It resets the member variables.<p>
When this class is extended, this method can be used to e.g. free memory allocated in<dl compact><dt><b>See also:</b></dt><dd>BeginGlyphEncoding. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="87e39c52fc034846bf227843331194f1"></a><!-- doxytag: member="AbstractTextRenderer::GetGlyph" ref="87e39c52fc034846bf227843331194f1" args="(const WCHAR *cur_text_pos, const WCHAR *substitution_char, INT char_count, GlyphPtr glyph, INT &amp;parsed_glyphs, BOOLEAN &amp;is_diacritic)=0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual <a class="el" href="classSize.html">Size</a> AbstractTextRenderer::GetGlyph           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const WCHAR *&nbsp;</td>
          <td class="mdname" nowrap> <em>cur_text_pos</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const WCHAR *&nbsp;</td>
          <td class="mdname" nowrap> <em>substitution_char</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>INT&nbsp;</td>
          <td class="mdname" nowrap> <em>char_count</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>GlyphPtr&nbsp;</td>
          <td class="mdname" nowrap> <em>glyph</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>INT &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>parsed_glyphs</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>BOOLEAN &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>is_diacritic</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the correct glyph for a character. This may depend on its position within in the text, the characters preceding and/or following it. This method, in essence, implements the brunt work for correctly rendering text.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cur_text_pos</em>&nbsp;</td><td>Pointer to the current character position within the text. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>substitution_char</em>&nbsp;</td><td>Pointer to a character that should be used instead of the character at cur_text_pos. If it is 0, then the character pointed to by cur_text_pos is used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>char_count</em>&nbsp;</td><td>Number of remaining characters. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>glyph</em>&nbsp;</td><td>A GlyphPointer where the glyph data is stored (output parameter). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>parsed_glyph</em>&nbsp;</td><td>Stores the number of parsed glyphs (output parameter). This is used by DrawText to determine if characters can be skipped, e.g. if an 'a' is followed by an '`', and the implementing renderer unifies the character to 'ß', then parsed_glyphs is 2. The DrawText algorithm will then not attempt to get a glyph for the '`' character, but skip it and continue with the one following it. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>is_diacritic</em>&nbsp;</td><td>After calling the method, is_diacritic will reflect whether the character for the glyph is a diacritic or not. This must be respected by callers insofar as diacritics are drawn in the previous character's cell and thus those characters' width must not be considered when drawing text or calculating the text width. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The x/y offset for the current glyph. This is used to change the position of the drawn glyph. Thus, using the example above, if the 'a' and '`' are not unified as one character, then the 'a' can be drawn on its own, and the '`' is drawn on its own at a position above the 'a', where the position is specified by the returned <a class="el" href="classSize.html">Size</a> value. Usually, however, it is (0,0). </dd></dl>

<p>
Implemented in <a class="el" href="classArabicTextRenderer.html#e48aa7470bc5c8637e0dc09b6b6c92c7">ArabicTextRenderer</a>, <a class="el" href="classHindiTextRenderer.html#c6f11c173595d0776103c62f38b52a78">HindiTextRenderer</a>, <a class="el" href="classJapaneseTextRenderer.html#8ec0ce708d4b8725d988784bb7ed5a20">JapaneseTextRenderer</a>, <a class="el" href="classSimpleTextRenderer.html#564906d8214711ef05c3348eee72b757">SimpleTextRenderer</a>, <a class="el" href="classThaiTextRenderer.html#ac283999d19fd99d5dfcd914b053b402">ThaiTextRenderer</a>, and <a class="el" href="classVietnameseTextRenderer.html#ea99144e3084048a98d4cec775918730">VietnameseTextRenderer</a>.    </td>
  </tr>
</table>
<a class="anchor" name="11d67018688ec1195d9e11fcffb2fed9"></a><!-- doxytag: member="AbstractTextRenderer::GetItalicIncrement" ref="11d67018688ec1195d9e11fcffb2fed9" args="(INT font_height)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">XYDIM AbstractTextRenderer::GetItalicIncrement           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">INT&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>font_height</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the number of pixels a glyph is incremented horizontally if the glyph should be shown in italic.     </td>
  </tr>
</table>
<a class="anchor" name="25c7deec3512c61a4cf295a392f84014"></a><!-- doxytag: member="AbstractTextRenderer::GetTextWidth" ref="25c7deec3512c61a4cf295a392f84014" args="(const WCHAR *text, const Font &amp;font, TextAttr text_attr, INT from, INT char_count, BOOLEAN include_gap=FALSE)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">INT AbstractTextRenderer::GetTextWidth           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const WCHAR *&nbsp;</td>
          <td class="mdname" nowrap> <em>text</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classFont.html">Font</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>font</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__GUI.html#g043d2b0480bfb82f3ecb73b3bcb056b2">TextAttr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>text_attr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>INT&nbsp;</td>
          <td class="mdname" nowrap> <em>from</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>INT&nbsp;</td>
          <td class="mdname" nowrap> <em>char_count</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>include_gap</em> = <code><a class="el" href="Kernel_2Types_8hpp.html#bf218ebc7e2ed90798d1f23a29b7ad09">FALSE</a></code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A generic method for getting a text's width.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>text</em>&nbsp;</td><td>Pointer to the text. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>font</em>&nbsp;</td><td><a class="el" href="classFont.html">Font</a> which is used for the text. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>text_attr</em>&nbsp;</td><td>Text attributes (e.g. bold increases the text width) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>from</em>&nbsp;</td><td>Start index for counting (index starts at 0). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>char_count</em>&nbsp;</td><td>Number of characters to count. A value &lt;= 0 means counting all characters. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>include_gap</em>&nbsp;</td><td>If set to TRUE, the gap after the last character of the text is included to the length. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The width of the text in pixels. </dd></dl>

<p>
Reimplemented in <a class="el" href="classArabicTextRenderer.html#f48c965048554a7e3a566c12441b8bed">ArabicTextRenderer</a>, <a class="el" href="classSimpleTextRenderer.html#e0e72b3df76b59f68da56336565b4b8b">SimpleTextRenderer</a>, and <a class="el" href="classThaiTextRenderer.html#a2c04d18f2bc7c50a691bd7f62aa58d6">ThaiTextRenderer</a>.    </td>
  </tr>
</table>
<a class="anchor" name="f28f8a501511e33183182348fb2fc6be"></a><!-- doxytag: member="AbstractTextRenderer::GetWrapPositions" ref="f28f8a501511e33183182348fb2fc6be" args="(const WCHAR *text, const Font &amp;font, TextAttr text_attr, WrapPolicy policy, XYDIM width)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classVector.html">Vector</a>&lt; INT &gt; AbstractTextRenderer::GetWrapPositions           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const WCHAR *&nbsp;</td>
          <td class="mdname" nowrap> <em>text</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classFont.html">Font</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>font</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__GUI.html#g043d2b0480bfb82f3ecb73b3bcb056b2">TextAttr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>text_attr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classEditorDocument.html#f48e99a86cbbd26e1174f9f049a623d0">WrapPolicy</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>policy</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>XYDIM&nbsp;</td>
          <td class="mdname" nowrap> <em>width</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Helper methods for getting the wrap positions of a text which should fit into a given width. The method uses the currently activated text renderer for the wrapping. Sample code: <div class="fragment"><pre class="fragment"><span class="keywordtype">void</span> MyWindow::OnPaint(<span class="keyword">const</span> <a class="code" href="classRect.html">Rect</a>&amp; repaint_rect)
{
    <a class="code" href="classControl.html#908ee8e29bc6a037aa9c9224e03606bf">Window::OnPaint</a>(repaint_rect);

    <a class="code" href="classPaintDc.html">PaintDc</a> pdc(GetDeviceContext());
    <span class="keyword">const</span> <a class="code" href="NucInc_8hpp.html#a3151d7628e3bbdbc940b87d165eac10">WCHAR</a>* text = L<span class="stringliteral">"This is the text which should get wrapped."</span>;
    <span class="keyword">const</span> <a class="code" href="classFont.html">Font</a>&amp; font = pdc.GetFont();
    <a class="code" href="classVector.html">Vector&lt;INT&gt;</a> wrap_positions = <a class="code" href="classAbstractTextRenderer.html#f28f8a501511e33183182348fb2fc6be">AbstractTextRenderer::GetWrapPositions</a>(text,
                                                                        font,
                                                                        pdc.GetTextAttr(),
                                                                        <a class="code" href="classEditorDocument.html#f48e99a86cbbd26e1174f9f049a623d064f9c7fcb284159042a51b35ec122794">EditorDocument::LeftJustifiedWrap</a>,
                                                                        GetClientWidth());

    XYDIM <a class="code" href="FillRect__Planes_8cpp.html#556a7e193d99aa171c5a9d22982e7594">y</a> = 0;
    <span class="keyword">const</span> <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> count = wrap_positions.<a class="code" href="classVector.html#ad3b63eee46628179e2284801d63b3b6">GetSize</a>();
    <span class="keywordflow">for</span> (<a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> <a class="code" href="BitBlit__Planes_8cpp.html#65a8886d814fb9bf73f9d4f0fd64d162">i</a> = 0; <a class="code" href="BitBlit__Planes_8cpp.html#65a8886d814fb9bf73f9d4f0fd64d162">i</a> &lt; count; ++<a class="code" href="BitBlit__Planes_8cpp.html#65a8886d814fb9bf73f9d4f0fd64d162">i</a>) {
        <span class="keyword">const</span> <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> start = wrap_positions[<a class="code" href="BitBlit__Planes_8cpp.html#65a8886d814fb9bf73f9d4f0fd64d162">i</a>];
        <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> end = -1;
        <span class="keywordflow">if</span> (<a class="code" href="BitBlit__Planes_8cpp.html#65a8886d814fb9bf73f9d4f0fd64d162">i</a> &lt; count - 1) {
            end = wrap_positions[<a class="code" href="BitBlit__Planes_8cpp.html#65a8886d814fb9bf73f9d4f0fd64d162">i</a> + 1] - start;
        }
        pdc.DrawText(0, y, text, start, end);
        y += font.<a class="code" href="classFont.html#a4ed1a23b66d21489d5217659cc08a74">GetHeight</a>();
    }
}
</pre></div> <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>text</em>&nbsp;</td><td>Text which should get wrapped. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>font</em>&nbsp;</td><td><a class="el" href="classFont.html">Font</a> of the text used for the wrapping. It is recommended that the same font is used for drawing the text. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>text_attr</em>&nbsp;</td><td>Text attribute of the text. It is recommended that the same text attribute is used for drawing the text. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>policy</em>&nbsp;</td><td>Wrap policy (see <a class="el" href="classEditorDocument.html#f48e99a86cbbd26e1174f9f049a623d0">EditorDocument::WrapPolicy</a>). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width</em>&nbsp;</td><td>Available width in pixels used for the wrapping. If -1 is used, the current display width is used. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A vector containing the start indicess for each wrapped line. The number of lines can be retrieved by <a class="el" href="classVector.html#ad3b63eee46628179e2284801d63b3b6">Vector::GetSize()</a>. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="404b3e4c1739771e52318d5f3a3f0d2c"></a><!-- doxytag: member="AbstractTextRenderer::IsStandaloneCharacter" ref="404b3e4c1739771e52318d5f3a3f0d2c" args="(const WCHAR *text, INT index)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN AbstractTextRenderer::IsStandaloneCharacter           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const WCHAR *&nbsp;</td>
          <td class="mdname" nowrap> <em>text</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>INT&nbsp;</td>
          <td class="mdname" nowrap> <em>index</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Tests if a given character is rendered standalone in the text, or whether it is a diacritic that modifies preceding characters.<p>
This needs only to be implemented by complex text renderers that do some glyph/character rearrangement or work with diacritic characters, e.g. Thai, Vietnamese, etc. The default implementation in <a class="el" href="classAbstractTextRenderer.html">AbstractTextRenderer</a> will always return TRUE, which is sufficient and true for all simple scripts (Latin, Cyrillic,...).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>text</em>&nbsp;</td><td>pointer to the text </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>the index of the character that is tested </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TRUE if the character is can rendered standalone, FALSE otherwise </dd></dl>

<p>
Reimplemented in <a class="el" href="classThaiTextRenderer.html#489dc6afa31d75fa48cc2e46c1864efe">ThaiTextRenderer</a>, and <a class="el" href="classVietnameseTextRenderer.html#806a0c3c565e21dae573d6cd2cfea812">VietnameseTextRenderer</a>.    </td>
  </tr>
</table>
<a class="anchor" name="c6f8ebb213b8cb828d490a0fec9b3e1c"></a><!-- doxytag: member="AbstractTextRenderer::ObtainMutex" ref="c6f8ebb213b8cb828d490a0fec9b3e1c" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN AbstractTextRenderer::ObtainMutex           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Obtains the mutex. 
<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classMutex.html#6eecf57c20e9daf59f1feb54ac18b9fa">Mutex::Obtain</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="033861b0c8e436bd7ccc1bb8d1f4463b"></a><!-- doxytag: member="AbstractTextRenderer::ReleaseMutex" ref="033861b0c8e436bd7ccc1bb8d1f4463b" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void AbstractTextRenderer::ReleaseMutex           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Releases the mutex. 
<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classMutex.html#ac1f1ce8590239373e84782126711b83">Mutex::Release</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="63a465be37fffaf1c53048911d223080"></a><!-- doxytag: member="AbstractTextRenderer::WrapLine" ref="63a465be37fffaf1c53048911d223080" args="(const WCHAR *text, const Font &amp;font, TextAttr text_attr, INT char_count, XYDIM max_width=-1, WrapPolicy policy=(WrapPolicy) 0, BOOLEAN include_gap_at_end=FALSE, Size *total_size=0, INT *ws_at_eol_count=0, XYDIM *ws_at_eol_width=0, INT *last_whitespace_index=0)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">INT AbstractTextRenderer::WrapLine           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const WCHAR *&nbsp;</td>
          <td class="mdname" nowrap> <em>text</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classFont.html">Font</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>font</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__GUI.html#g043d2b0480bfb82f3ecb73b3bcb056b2">TextAttr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>text_attr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>INT&nbsp;</td>
          <td class="mdname" nowrap> <em>char_count</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>XYDIM&nbsp;</td>
          <td class="mdname" nowrap> <em>max_width</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classEditorDocument.html#f48e99a86cbbd26e1174f9f049a623d0">WrapPolicy</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>policy</em> = <code>(<a class="el" href="classEditorDocument.html#f48e99a86cbbd26e1174f9f049a623d0">WrapPolicy</a>)&nbsp;0</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>include_gap_at_end</em> = <code><a class="el" href="Kernel_2Types_8hpp.html#bf218ebc7e2ed90798d1f23a29b7ad09">FALSE</a></code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classSize.html">Size</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>total_size</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>INT *&nbsp;</td>
          <td class="mdname" nowrap> <em>ws_at_eol_count</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>XYDIM *&nbsp;</td>
          <td class="mdname" nowrap> <em>ws_at_eol_width</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>INT *&nbsp;</td>
          <td class="mdname" nowrap> <em>last_whitespace_index</em> = <code>0</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Finds the index in the text where wrapping is possible given the maximum width of the line and the wrapping policy.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>text</em>&nbsp;</td><td>Pointer to the text. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>font</em>&nbsp;</td><td><a class="el" href="classFont.html">Font</a> which is used for the text. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>text_attr</em>&nbsp;</td><td>Text attributes (e.g. bold increases the text width) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>char_count</em>&nbsp;</td><td>maximum number of characters to parse </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max_width</em>&nbsp;</td><td>maximum width for textline. Is display width per default </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>policy</em>&nbsp;</td><td>is WhitespaceWrap per default. For options, see</td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classEditorDocument.html#f48e99a86cbbd26e1174f9f049a623d0">EditorDocument::WrapPolicy</a> </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>include_gap_at_end</em>&nbsp;</td><td>if TRUE, then the font's font gap will be included at the end of the line </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>total_size</em>&nbsp;</td><td>Optionally contains width and height of text line </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ws_at_eol_count</em>&nbsp;</td><td>Optionally contains number of whitespaces on end of line </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ws_at_eol_width</em>&nbsp;</td><td>Optionally contains width of whitespaces on end of line </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>last_whitespace_index</em>&nbsp;</td><td>Optionally containes the index of the last whitespace before the wrapping index, or -1 if no whitespace was found </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the index in the text where it can be wrapped </dd></dl>

<p>
Reimplemented in <a class="el" href="classArabicTextRenderer.html#56877269c2fff8f9c0fa24faa0a33d4e">ArabicTextRenderer</a>, <a class="el" href="classJapaneseTextRenderer.html#1c2d6630830f605b069063a4824579fb">JapaneseTextRenderer</a>, <a class="el" href="classSimpleTextRenderer.html#1e11ebb7965d685ff3c636629aef1e08">SimpleTextRenderer</a>, and <a class="el" href="classThaiTextRenderer.html#14e034ebff303bdd91fdf9a9ece06c48">ThaiTextRenderer</a>.    </td>
  </tr>
</table>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="5e2742a3ef336db50571f6d3890d9f88"></a><!-- doxytag: member="AbstractTextRenderer::m_font" ref="5e2742a3ef336db50571f6d3890d9f88" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const <a class="el" href="classFont.html">Font</a>* <a class="el" href="classAbstractTextRenderer.html#5e2742a3ef336db50571f6d3890d9f88">AbstractTextRenderer::m_font</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
pointer to the current font 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="72485061c2586b202f497d320c4e2855"></a><!-- doxytag: member="AbstractTextRenderer::m_text_attr" ref="72485061c2586b202f497d320c4e2855" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__GUI.html#g043d2b0480bfb82f3ecb73b3bcb056b2">TextAttr</a> <a class="el" href="classAbstractTextRenderer.html#72485061c2586b202f497d320c4e2855">AbstractTextRenderer::m_text_attr</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Current text attributes. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="696c4cefc0f073da766c851f89bd1f76"></a><!-- doxytag: member="AbstractTextRenderer::m_text_start" ref="696c4cefc0f073da766c851f89bd1f76" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const WCHAR* <a class="el" href="classAbstractTextRenderer.html#696c4cefc0f073da766c851f89bd1f76">AbstractTextRenderer::m_text_start</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
pointer to the text start 
<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>Gui/<a class="el" href="AbstractTextRenderer_8hpp-source.html">AbstractTextRenderer.hpp</a><li>Gui/<a class="el" href="AbstractTextRenderer_8cpp.html">AbstractTextRenderer.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jan 25 00:55:15 2006 for APOXI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO </small></address>
</body>
</html>
