<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>APOXI: AddOns/SerialSocket/SerialIoAdapter.hpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>AddOns/SerialSocket/SerialIoAdapter.hpp</h1><a href="SerialIoAdapter_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* ============================================================================</span>
<a name="l00002"></a>00002 <span class="comment">** Copyright (C) 2004-2005 COMNEON GmbH &amp; Co. OHG. All rights reserved.</span>
<a name="l00003"></a>00003 <span class="comment">** ============================================================================</span>
<a name="l00004"></a>00004 <span class="comment">**</span>
<a name="l00005"></a>00005 <span class="comment">** This document contains proprietary information belonging to COMNEON.</span>
<a name="l00006"></a>00006 <span class="comment">** Passing on and copying of this document, use and communication of its</span>
<a name="l00007"></a>00007 <span class="comment">** contents is not permitted without prior written authorisation.</span>
<a name="l00008"></a>00008 <span class="comment">**</span>
<a name="l00009"></a>00009 <span class="comment">** ============================================================================</span>
<a name="l00010"></a>00010 <span class="comment">** Revision Information :</span>
<a name="l00011"></a>00011 <span class="comment">**    File name: SerialIoAdapter.h</span>
<a name="l00012"></a>00012 <span class="comment">**    Version:</span>
<a name="l00013"></a>00013 <span class="comment">**    Date: 2005-08-31    14:48:26</span>
<a name="l00014"></a>00014 <span class="comment">**</span>
<a name="l00015"></a>00015 <span class="comment">** ============================================================================</span>
<a name="l00016"></a>00016 <span class="comment">**</span>
<a name="l00017"></a>00017 <span class="comment">** Project:     VenusU</span>
<a name="l00018"></a>00018 <span class="comment">** Block:       SerialIoAdapter</span>
<a name="l00019"></a>00019 <span class="comment">** Process:</span>
<a name="l00020"></a>00020 <span class="comment">** File name:   SerialIoAdapter.h</span>
<a name="l00021"></a>00021 <span class="comment">**</span>
<a name="l00022"></a>00022 <span class="comment">** ============================================================================</span>
<a name="l00023"></a>00023 <span class="comment">**</span>
<a name="l00024"></a>00024 <span class="comment">**</span>
<a name="l00025"></a>00025 <span class="comment">** ============================================================================</span>
<a name="l00026"></a>00026 <span class="comment">** History:</span>
<a name="l00027"></a>00027 <span class="comment">**</span>
<a name="l00028"></a>00028 <span class="comment">** Date       Author                Comment</span>
<a name="l00029"></a>00029 <span class="comment">** ----------------------------------------------------------------------------</span>
<a name="l00030"></a>00030 <span class="comment">**</span>
<a name="l00031"></a>00031 <span class="comment">** 31.08.05   Murugan/Balan         created.</span>
<a name="l00032"></a>00032 <span class="comment">** ============================================================================</span>
<a name="l00033"></a>00033 <span class="comment">*/</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="preprocessor">#ifndef SERIALIO_ADAPTER_H</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span><span class="preprocessor">#define SERIALIO_ADAPTER_H</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span>
<a name="l00040"></a>00040 
<a name="l00041"></a><a class="code" href="group__SerialSocket.html#gf071b11d98654943bc19ce431b9f3678">00041</a> <span class="preprocessor">#define SIO_USE_SOCKET_CONCEPT 1</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span>
<a name="l00043"></a>00043 <span class="comment">// TODO: remove this define after receiving write_fd support from SIO</span>
<a name="l00044"></a>00044 <span class="comment">// #define SIO_STUB_SELECT_WRITE_SUPPORT</span>
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 <span class="preprocessor">#include &lt;<a class="code" href="Socket_8hpp.html">Socket/Socket.hpp</a>&gt;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &lt;<a class="code" href="Condition_8hpp.html">Kernel/Condition.hpp</a>&gt;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &lt;sio_sock.h&gt;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &lt;sio_dev.h&gt;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include "<a class="code" href="SockAddress_8hpp.html">SockAddress.hpp</a>"</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &lt;iodriver.h&gt;</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include &lt;iolib.h&gt;</span>
<a name="l00053"></a>00053 
<a name="l00054"></a>00054 <span class="preprocessor">#if defined ( SIO_STUB_SELECT_WRITE_SUPPORT )</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span><span class="preprocessor">#define SIO_SIGNAL_DATA_SENT    SIO_SIGNAL_LAST + 1</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00057"></a><a class="code" href="group__SerialSocket.html#g00c1b67236d1c44d73a43cbbd69d1564">00057</a> <span class="preprocessor"></span><span class="preprocessor">#define SIO_SIGNAL_DATA_SENT    SIO_SIGNAL_LAST_BIT_SENT</span>
<a name="l00058"></a>00058 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span>
<a name="l00060"></a>00060 <span class="keyword">class </span><a class="code" href="classSerialSocket.html">SerialSocket</a>;
<a name="l00061"></a>00061 <span class="keyword">class </span><a class="code" href="classSerialSocketData.html">SerialSocketData</a>;
<a name="l00063"></a><a class="code" href="classSerialIoSet.html">00063</a> <span class="keyword">class </span><a class="code" href="classSerialIoSet.html">SerialIoSet</a>
<a name="l00064"></a>00064 {
<a name="l00065"></a>00065 <span class="keyword">public</span>:
<a name="l00066"></a>00066     <a class="code" href="classSerialIoSet.html#23effda39b15509445b3704f7d17b428">SerialIoSet</a> ();
<a name="l00067"></a>00067     <a class="code" href="group__SerialSocket.html#g3eeb2134c1c48fbdae57f70b8e6ef98e">~SerialIoSet</a> ();
<a name="l00068"></a>00068 
<a name="l00069"></a><a class="code" href="group__SerialSocket.html#g47113d6a286c4dcc55f873d38b5b607d">00069</a>     <span class="keyword">enum</span> <a class="code" href="group__SerialSocket.html#g47113d6a286c4dcc55f873d38b5b607d">SerialSocketEvent</a>
<a name="l00070"></a>00070     {
<a name="l00071"></a>00071             <a class="code" href="group__SerialSocket.html#gg47113d6a286c4dcc55f873d38b5b607d7a400747203bfd935aade2fb3509c273">NONE</a>            <span class="comment">/* No events */</span>
<a name="l00072"></a>00072         ,   <a class="code" href="group__SerialSocket.html#gg47113d6a286c4dcc55f873d38b5b607d8802b1e7a707818e04bf2090683ffcfd">ABORT</a>           <span class="comment">/* Event for the received ETX char. */</span>
<a name="l00073"></a>00073         ,   <a class="code" href="group__SerialSocket.html#gg47113d6a286c4dcc55f873d38b5b607df0b57f05dcec2786604e8df7814aadb5">CLOSE_REQ</a>       <span class="comment">/* Close the descriptor. */</span>
<a name="l00074"></a>00074         ,   <a class="code" href="group__SerialSocket.html#gg47113d6a286c4dcc55f873d38b5b607dea4b44fb9245d6a713d3ca8e98e27085">CONNECT_REQ</a>     <span class="comment">/* Signal to a server socket. */</span>
<a name="l00075"></a>00075         ,   <a class="code" href="group__SerialSocket.html#gg47113d6a286c4dcc55f873d38b5b607d9b4c45fb516f6da3787a989e28c377ec">CONNECT_SUCCESS</a> <span class="comment">/* Connect success. */</span>
<a name="l00076"></a>00076         ,   <a class="code" href="group__SerialSocket.html#gg47113d6a286c4dcc55f873d38b5b607d1d2352c5700a26c28eb45a9362f0f454">CONNECT_FAIL</a>    <span class="comment">/* Connect fail. */</span>
<a name="l00077"></a>00077         ,   <a class="code" href="group__SerialSocket.html#gg47113d6a286c4dcc55f873d38b5b607d143ef2492a81f27d386be9df30677af3">DATA_RECEIVED</a>   <span class="comment">/* Received data from the serial device. */</span>
<a name="l00078"></a>00078         ,   <a class="code" href="group__SerialSocket.html#gg47113d6a286c4dcc55f873d38b5b607dae397740cc228e19043f43f28b4d4120">DATA_SENT</a>       <span class="comment">/* Data is sent via the serial device. */</span>
<a name="l00079"></a>00079         ,   <a class="code" href="group__SerialSocket.html#gg47113d6a286c4dcc55f873d38b5b607dee3d4f2f6c7667c6f1a714d5fc585293">DISCONNECT_IND</a>  <span class="comment">/* Signal to a client socket. */</span>
<a name="l00080"></a>00080         ,   <a class="code" href="group__SerialSocket.html#gg47113d6a286c4dcc55f873d38b5b607d26e23ae1ff305633524736d5573d6bb6">UNKNOWN</a>         <span class="comment">/* Unknown socket */</span>
<a name="l00081"></a>00081     };
<a name="l00082"></a>00082 
<a name="l00083"></a>00083     <a class="code" href="NucInc_8hpp.html#50168fdbaa52d4a0b1c287d476050f12">BOOLEAN</a> <a class="code" href="group__SerialSocket.html#gc49cc1615731724b974bf7928747f0df">Init</a>();
<a name="l00084"></a>00084 
<a name="l00087"></a><a class="code" href="group__SerialSocket.html#g510ae11e40dc75e7d13951158f074463">00087</a>     <a class="code" href="NucInc_8hpp.html#50168fdbaa52d4a0b1c287d476050f12">BOOLEAN</a> <a class="code" href="group__SerialSocket.html#g510ae11e40dc75e7d13951158f074463">Add</a>( <span class="keyword">const</span> <a class="code" href="classSerialSocketData.html">SerialSocketData</a> *s ) { <a class="code" href="NucInc_8hpp.html#50168fdbaa52d4a0b1c287d476050f12">BOOLEAN</a> ret; ret = !<a class="code" href="group__SerialSocket.html#g68ed2747de79d6ad7ce129b65ecabbaf">AddToReadList</a> ( s ); ret |= !<a class="code" href="group__SerialSocket.html#g98b09a5f90be96f643df1403dd1d7fdb">AddToWriteList</a> ( s ); <span class="keywordflow">return</span> ( ret ); }
<a name="l00088"></a>00088 
<a name="l00091"></a><a class="code" href="group__SerialSocket.html#g5d9c726db73e6b9c52b60467acb21ba3">00091</a>     <a class="code" href="NucInc_8hpp.html#50168fdbaa52d4a0b1c287d476050f12">BOOLEAN</a> <a class="code" href="group__SerialSocket.html#g5d9c726db73e6b9c52b60467acb21ba3">Remove</a>( <span class="keyword">const</span> <a class="code" href="classSerialSocketData.html">SerialSocketData</a> *s ) { <a class="code" href="NucInc_8hpp.html#50168fdbaa52d4a0b1c287d476050f12">BOOLEAN</a> ret; ret = !<a class="code" href="group__SerialSocket.html#g6257cd5f8dc8e68c2b09cba7a3884656">RemoveFromReadList</a> ( s ); ret |= !<a class="code" href="group__SerialSocket.html#g2f52897cf4830a9a7c573d8cc7cca5f5">RemoveFromWriteList</a> ( s ); <span class="keywordflow">return</span> ( ret ); }
<a name="l00092"></a>00092 
<a name="l00095"></a>00095     <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> <a class="code" href="group__SerialSocket.html#g68ed2747de79d6ad7ce129b65ecabbaf">AddToReadList</a>(<span class="keyword">const</span> <a class="code" href="classSerialSocketData.html">SerialSocketData</a> *sockdata);
<a name="l00096"></a>00096 
<a name="l00099"></a>00099     <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> <a class="code" href="group__SerialSocket.html#g6257cd5f8dc8e68c2b09cba7a3884656">RemoveFromReadList</a>(<span class="keyword">const</span> <a class="code" href="classSerialSocketData.html">SerialSocketData</a> *sockdata );
<a name="l00100"></a>00100 
<a name="l00103"></a>00103     <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> <a class="code" href="group__SerialSocket.html#g98b09a5f90be96f643df1403dd1d7fdb">AddToWriteList</a>(<span class="keyword">const</span> <a class="code" href="classSerialSocketData.html">SerialSocketData</a> *sockdata);
<a name="l00104"></a>00104 
<a name="l00107"></a>00107     <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> <a class="code" href="group__SerialSocket.html#g2f52897cf4830a9a7c573d8cc7cca5f5">RemoveFromWriteList</a>(<span class="keyword">const</span> <a class="code" href="classSerialSocketData.html">SerialSocketData</a> *sockdata );
<a name="l00108"></a>00108 
<a name="l00111"></a>00111     <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> <a class="code" href="group__SerialSocket.html#g17abe8b72fdbfb81bd44392c62161e61">Select</a>( <span class="keyword">const</span> <a class="code" href="classTicks.html">Ticks</a> *t_timeout );
<a name="l00112"></a>00112 
<a name="l00115"></a>00115     <a class="code" href="NucInc_8hpp.html#50168fdbaa52d4a0b1c287d476050f12">BOOLEAN</a> <a class="code" href="group__SerialSocket.html#ged28b72c2933df20e29d643318ea6e61">SignalSelect</a> ();
<a name="l00116"></a>00116 
<a name="l00119"></a>00119     <a class="code" href="NucInc_8hpp.html#50168fdbaa52d4a0b1c287d476050f12">BOOLEAN</a> <a class="code" href="group__SerialSocket.html#g65712409d3b2744cc17cf6935f07a759">TestFor</a> ( <span class="keyword">const</span> <a class="code" href="classSerialSocketData.html">SerialSocketData</a> *sockdata ) <span class="keyword">const</span>;
<a name="l00120"></a>00120 
<a name="l00124"></a>00124 <span class="preprocessor">#if defined ( USE_STUB )</span>
<a name="l00125"></a>00125 <span class="preprocessor"></span>    <a class="code" href="group__SerialSocket.html#g47113d6a286c4dcc55f873d38b5b607d">SerialSocketEvent</a> <a class="code" href="group__SerialSocket.html#g7ae3cda9b6876a80bb70e0ad7a6b9ab0">GetEvent</a> ( <span class="keyword">const</span> <a class="code" href="classSerialSocketData.html">SerialSocketData</a> *sockdata );
<a name="l00126"></a>00126 <span class="preprocessor">#else</span>
<a name="l00127"></a>00127 <span class="preprocessor"></span>    <a class="code" href="group__SerialSocket.html#g47113d6a286c4dcc55f873d38b5b607d">SerialSocketEvent</a> <a class="code" href="group__SerialSocket.html#g7ae3cda9b6876a80bb70e0ad7a6b9ab0">GetEvent</a> ( <span class="keyword">const</span> <a class="code" href="classSerialSocketData.html">SerialSocketData</a> *sockdata ) <span class="keyword">const</span>;
<a name="l00128"></a>00128 <span class="preprocessor">#endif</span>
<a name="l00129"></a>00129 <span class="preprocessor"></span>
<a name="l00130"></a>00130 <span class="keyword">public</span>:
<a name="l00131"></a>00131 <span class="preprocessor">#if defined ( USE_STUB )</span>
<a name="l00132"></a>00132 <span class="preprocessor"></span>    <a class="code" href="classSerialSocket.html">SerialSocket</a>    *m_sock1;
<a name="l00133"></a>00133     <a class="code" href="classSerialSocket.html">SerialSocket</a>    *m_sock2;
<a name="l00134"></a>00134 
<a name="l00135"></a>00135     <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a>             m_signal1;
<a name="l00136"></a>00136     <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a>             m_signal2;
<a name="l00137"></a>00137 <span class="preprocessor">#else</span>
<a name="l00138"></a><a class="code" href="group__SerialSocket.html#g9dfd7ea72ec49bb99f5d5d3428171bdd">00138</a> <span class="preprocessor"></span>    fd_set_t    <a class="code" href="group__SerialSocket.html#g9dfd7ea72ec49bb99f5d5d3428171bdd">m_read_fdset</a>;
<a name="l00139"></a><a class="code" href="group__SerialSocket.html#gf5dc6accf47dc3d621234459d39ef060">00139</a>     fd_set_t    <a class="code" href="group__SerialSocket.html#gf5dc6accf47dc3d621234459d39ef060">m_write_fdset</a>;
<a name="l00140"></a><a class="code" href="group__SerialSocket.html#g6352d8cc8cfacb22bf34702ec38433ee">00140</a>     <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a>         <a class="code" href="group__SerialSocket.html#g6352d8cc8cfacb22bf34702ec38433ee">m_selectid</a>;
<a name="l00141"></a>00141 <span class="preprocessor">#endif</span>
<a name="l00142"></a>00142 <span class="preprocessor"></span>};
<a name="l00143"></a>00143 
<a name="l00144"></a>00144 
<a name="l00145"></a><a class="code" href="classSerialIoAdapter.html">00145</a> <span class="keyword">class </span><a class="code" href="classSerialIoAdapter.html">SerialIoAdapter</a>
<a name="l00146"></a>00146 {
<a name="l00147"></a>00147 <span class="keyword">public</span>:
<a name="l00148"></a><a class="code" href="classSerialIoAdapter.html#8649d8a6f63a86fc8a883ef951ff27ee">00148</a>     <span class="keyword">friend</span> <a class="code" href="classSerialSocket.html">SerialSocket</a>;
<a name="l00149"></a><a class="code" href="group__SerialSocket.html#gce51e2edd368b7019111ed3b2d0d8cca">00149</a>     <span class="keyword">friend</span> <a class="code" href="classSerialIoSet.html">SerialIoSet</a>;
<a name="l00150"></a>00150 
<a name="l00151"></a>00151     <span class="comment">// Error structures</span>
<a name="l00152"></a><a class="code" href="group__SerialSocket.html#gb3e9521f333ee62c37dec96d8ce0e524">00152</a>     <span class="keyword">enum</span> <a class="code" href="group__SerialSocket.html#gb3e9521f333ee62c37dec96d8ce0e524">ErrorCode</a>
<a name="l00153"></a>00153     {
<a name="l00154"></a>00154         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e524bc2dcf509ce4ea5034b240a03cfe8591">c_sio_err_none</a>          =   SIO_ERR_NONE,
<a name="l00155"></a>00155         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e524cbf17f18b9288b9142fc702850594462">c_sio_err_acces</a>         =   SIO_ERR_ACCES,           <span class="comment">/* 1   Permission denied. */</span>
<a name="l00156"></a>00156         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e524246e41cb62a18c273ca6de9075016728">c_sio_err_addrnnotvail</a>  =   SIO_ERR_ADDRNOTAVAIL,    <span class="comment">/* 2   Cannot assign requested address. */</span>
<a name="l00157"></a>00157         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e524c0b48497e9a595ce795940f29eaa3f86">c_sio_err_afnosupport</a>   =   SIO_ERR_AFNOSUPPORT,     <span class="comment">/* 3   Address family not supported by protocol */</span>
<a name="l00158"></a>00158         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e52474c6330fa37ef7a3ddddfeb14ee6e629">c_sio_err_again</a>         =   SIO_ERR_AGAIN,           <span class="comment">/* 4   Try again. */</span>
<a name="l00159"></a>00159         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e524fb7c5ed90e75bb4a3a3c704983ba71f5">c_sio_err__already</a>      =   SIO_ERR_ALREADY,         <span class="comment">/* 5   Operation already in progress. */</span>
<a name="l00160"></a>00160         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e52437e8e9efad611c71dacfbe6b69c1ad9f">c_sio_err_badf</a>          =   SIO_ERR_BADF,            <span class="comment">/* 6   Invalid file descriptor. */</span>
<a name="l00161"></a>00161         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e524f02d0b0d4c58e94f6277a4577e25328f">c_sio_err_busy</a>          =   SIO_ERR_BUSY,            <span class="comment">/* 7   Device or resource busy. */</span>
<a name="l00162"></a>00162         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e524bebbbba8f826f78f446de6b93a5fcb49">c_sio_err_connrefused</a>   =   SIO_ERR_CONNREFUSED,     <span class="comment">/* 8   Connection refused. */</span>
<a name="l00163"></a>00163         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e5242e5bd41cf62282534d82ea7f18b9f703">c_sio_err_fault</a>         =   SIO_ERR_FAULT,           <span class="comment">/* 9   Bad address. */</span>
<a name="l00164"></a>00164         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e524921ece3d089e89f57543cbb3c18ce684">c_sio_err_inprogress</a>    =   SIO_ERR_INPROGRESS,      <span class="comment">/* 10  Operation now in progress. */</span>
<a name="l00165"></a>00165         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e5249d2be0ec714dfc8471a4eefbac742a51">c_sio_err_inval</a>         =   SIO_ERR_INVAL,           <span class="comment">/* 11  Invalid argument. */</span>
<a name="l00166"></a>00166         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e524b066774487951af33999491a79890081">c_sio_err_nametoolong</a>   =   SIO_ERR_NAMETOOLONG,     <span class="comment">/* 12  File name too long. */</span>
<a name="l00167"></a>00167         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e524162d39581247610bf84098ac605a4420">c_sio_err_nfile</a>         =   SIO_ERR_NFILE,           <span class="comment">/* 13  File table overflow. */</span>
<a name="l00168"></a>00168         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e524b38a56d01114e88c8a15c6b7e327d552">c_sio_err_noact</a>         =   SIO_ERR_NOACT,           <span class="comment">/* 14  No device action handler. */</span>
<a name="l00169"></a>00169         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e524b8a288203bc76c4a3f6014bd24a3e8c9">c_sio_err_nodev</a>         =   SIO_ERR_NODEV,           <span class="comment">/* 15  No such device. */</span>
<a name="l00170"></a>00170         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e524376928d33d7e82e2846f5edb8ace9832">c_sio_err_nomem</a>         =   SIO_ERR_NOMEM,           <span class="comment">/* 16  Out of memory. */</span>
<a name="l00171"></a>00171         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e524c7f5ab005c03c67af30b7c1af976a947">c_sio_err_noopt</a>         =   SIO_ERR_NOOPT,           <span class="comment">/* 17  Option not implemented. */</span>
<a name="l00172"></a>00172         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e52498505a6a863ef68c5b154833a84c6bd0">c_sio_err_noprotoopt</a>    =   SIO_ERR_NOPROTOOPT,      <span class="comment">/* 18  Protocol not available. */</span>
<a name="l00173"></a>00173         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e524167a7a3de408b5ac9efb7883df7f42b1">c_sio_err_nosubdev</a>      =   SIO_ERR_NOSUBDEV,        <span class="comment">/* 19  No such device sub structure. */</span>
<a name="l00174"></a>00174         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e524940a2a8b7302e91e07d55d2a76583de1">c_sio_err_nosys</a>         =   SIO_ERR_NOSYS,           <span class="comment">/* 20  Function not implemented. */</span>
<a name="l00175"></a>00175         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e52437457c46c979de48d245346f6bd03d11">c_sio_err_notsock</a>       =   SIO_ERR_NOTSOCK,         <span class="comment">/* 21  Argument descriptor is not a socket. */</span>
<a name="l00176"></a>00176         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e524d8fa9fd15faceff8aec2556d8e27d439">c_sio_err_nscan</a>         =   SIO_ERR_NSCAN,           <span class="comment">/* 22  Scanner list overflow. */</span>
<a name="l00177"></a>00177         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e524590241c3efb340319493ae080a0ba393">c_sio_err_opnotsupp</a>     =   SIO_ERR_OPNOTSUPP,       <span class="comment">/* 23  Operation not supported. */</span>
<a name="l00178"></a>00178         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e524dd9d80a968a3007330adb26c0a659dbb">c_sio_err_protonosupport</a>    =   SIO_ERR_PROTONOSUPPORT,  <span class="comment">/* 24  Protocol not supported. */</span>
<a name="l00179"></a>00179         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e524c153e440bb1e8480bf0c3382ce86f425">c_sio_err_sockstate</a>     =   SIO_ERR_SOCKSTATE,       <span class="comment">/* 25  The  socket is in the wrong state. */</span>
<a name="l00180"></a>00180         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e5242141c44a619423e9822fb7a712725666">c_sio_err_timeout</a>       =   SIO_ERR_TIMEDOUT,        <span class="comment">/* 26  Connection timed out. */</span>
<a name="l00181"></a>00181         <a class="code" href="group__SerialSocket.html#ggb3e9521f333ee62c37dec96d8ce0e5243e87023e74f32c4a9ecc887a28756f92">c_sio_err_max</a>           =   SIO_ERR_MAX
<a name="l00182"></a>00182 
<a name="l00183"></a>00183     };
<a name="l00184"></a>00184 
<a name="l00185"></a><a class="code" href="structSerialIoAdapter_1_1SioErrorDesc.html">00185</a>     <span class="keyword">struct </span><a class="code" href="structSerialIoAdapter_1_1SioErrorDesc.html">SioErrorDesc</a>
<a name="l00186"></a>00186     {
<a name="l00187"></a><a class="code" href="structSerialIoAdapter_1_1SioErrorDesc.html#859a3cc2b8a7ffe8c29b9ea102b7868f">00187</a>         <a class="code" href="group__SerialSocket.html#gb3e9521f333ee62c37dec96d8ce0e524">ErrorCode</a>   <a class="code" href="structSerialIoAdapter_1_1SioErrorDesc.html#859a3cc2b8a7ffe8c29b9ea102b7868f">c_sio_errno</a>;     <span class="comment">/* Number of last error. */</span>
<a name="l00188"></a><a class="code" href="group__SerialSocket.html#g7be269334696098c53749a128c4f6e38">00188</a>         <a class="code" href="group__SerialSocket.html#gb3e9521f333ee62c37dec96d8ce0e524">ErrorCode</a>   <a class="code" href="group__SerialSocket.html#g7be269334696098c53749a128c4f6e38">c_global_errno</a>;  <span class="comment">/* Number of last error. */</span>
<a name="l00189"></a><a class="code" href="group__SerialSocket.html#g05ba69cc0cd9203c5468d40f4ece1078">00189</a>         <a class="code" href="NucInc_8hpp.html#35cd67ba7bb0db8105eb6267467535d7">CHAR</a>        *<a class="code" href="group__SerialSocket.html#g05ba69cc0cd9203c5468d40f4ece1078">file_name</a>;     <span class="comment">/* Location of the error. */</span>
<a name="l00190"></a><a class="code" href="group__SerialSocket.html#gc6280b23f80ec1545f28081b7e9051bb">00190</a>         <a class="code" href="NucInc_8hpp.html#caa7b8a7167a8214f499c71c413ddcca">LONG</a>        <a class="code" href="group__SerialSocket.html#gc6280b23f80ec1545f28081b7e9051bb">line_no</a>;       <span class="comment">/* Location of the error. */</span>
<a name="l00191"></a>00191     };
<a name="l00192"></a>00192 
<a name="l00193"></a>00193     <span class="comment">//maintain the order as present in Enum sock_pf_t in sio_sock.h</span>
<a name="l00194"></a><a class="code" href="group__SerialSocket.html#ge8764ed04b2974b6f679c4b7463d9b65">00194</a>     <span class="keyword">enum</span> <a class="code" href="group__SerialSocket.html#ge8764ed04b2974b6f679c4b7463d9b65">SocketFamily</a>
<a name="l00195"></a>00195     {
<a name="l00196"></a>00196         <a class="code" href="group__SerialSocket.html#gge8764ed04b2974b6f679c4b7463d9b65fc0eafc38bdda05fa64bd7561ea8cf1a">c_sock_pf_undef</a> = 0,
<a name="l00197"></a>00197         <a class="code" href="group__SerialSocket.html#gge8764ed04b2974b6f679c4b7463d9b65ced34d6f7f36d1ee102adb6a1bee77ec">c_sock_pf_termio</a>,           <span class="comment">/* Modem terminal. */</span>
<a name="l00198"></a>00198         <a class="code" href="group__SerialSocket.html#gge8764ed04b2974b6f679c4b7463d9b653beb528eb381db69ce8af443efae535f">c_sock_pf_bt</a>,               <span class="comment">/* Bluetooth. */</span>
<a name="l00199"></a>00199         <a class="code" href="group__SerialSocket.html#gge8764ed04b2974b6f679c4b7463d9b65bfd8b298940266c2e5797af390e14124">c_sock_pf_max</a>               <span class="comment">/* For now..  */</span>
<a name="l00200"></a>00200     };
<a name="l00201"></a>00201 
<a name="l00202"></a>00202 <span class="preprocessor">#if defined ( USE_STUB )</span>
<a name="l00203"></a>00203 <span class="preprocessor"></span>    <a class="code" href="group__SerialSocket.html#g89bfd81fb192aec5bb98f57dfde0d2bc">SerialIoAdapter</a> ( <a class="code" href="classSerialSocket.html">SerialSocket</a> *pSerialSocket );
<a name="l00204"></a>00204 <span class="preprocessor">#else</span>
<a name="l00205"></a>00205 <span class="preprocessor"></span>    <a class="code" href="group__SerialSocket.html#g89bfd81fb192aec5bb98f57dfde0d2bc">SerialIoAdapter</a>();
<a name="l00206"></a>00206 <span class="preprocessor">#endif</span>
<a name="l00207"></a>00207 <span class="preprocessor"></span>
<a name="l00208"></a>00208     <a class="code" href="group__SerialSocket.html#g88e89450797d0cc9c940ab1d8c8f29ae">~SerialIoAdapter</a>();
<a name="l00209"></a>00209 
<a name="l00214"></a>00214     <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> <a class="code" href="group__SerialSocket.html#gc86edc3a2431a04dd53154df922f6293">Open</a> (<a class="code" href="group__SerialSocket.html#ge8764ed04b2974b6f679c4b7463d9b65">SocketFamily</a> fam, <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> protocol );
<a name="l00215"></a>00215 
<a name="l00222"></a>00222     <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> <a class="code" href="group__SerialSocket.html#gf83f8bb0f1e60c2adebc38712d5f4c93">Accept</a>(<a class="code" href="classSerialSocket.html">SerialSocket</a>&amp; clientSock, <a class="code" href="classSocketAddr.html">SocketAddr</a>&amp; sock_addr);
<a name="l00223"></a>00223 
<a name="l00227"></a>00227     <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> <a class="code" href="group__SerialSocket.html#g59e4ea7abfcf9e577088aafb8a7cdbb1">Bind</a>(<a class="code" href="classSocketAddr.html">SocketAddr</a>&amp; sock_addr);
<a name="l00228"></a>00228 
<a name="l00232"></a>00232     <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> <a class="code" href="group__SerialSocket.html#g5b8b8d4c4ba68ad7e821f9d2dd9ea236">Connect</a>(<a class="code" href="classSocketAddr.html">SocketAddr</a>&amp; serv_addr);
<a name="l00233"></a>00233 
<a name="l00237"></a>00237     <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> <a class="code" href="group__SerialSocket.html#g3351609b1044360d4b856cc41a8cf0f4">Close</a>();
<a name="l00238"></a>00238 
<a name="l00243"></a>00243     <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> <a class="code" href="group__SerialSocket.html#g3ebcf469ac7e4d6dbbb97e9cfabce6a9">GetErrorNumber</a>(SioErrorDesc&amp; errorinfo);
<a name="l00244"></a>00244 
<a name="l00245"></a>00245     <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> <a class="code" href="group__SerialSocket.html#g8da5e3764bc119076995b22b900e23d2">IoCtl</a>(<a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> requestcode, <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> argument);
<a name="l00246"></a>00246 
<a name="l00249"></a>00249     <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> <a class="code" href="group__SerialSocket.html#gfc7d5dde42f0ffd12a97f47e65b3c019">Listen</a>(<a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> backlog);
<a name="l00250"></a>00250 
<a name="l00256"></a>00256     <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> <a class="code" href="group__SerialSocket.html#ge229ef0a646544644d62731069f4fbb5">OptGet</a>(<a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> optname, <span class="keywordtype">void</span>* optval, <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a>&amp; optlen);
<a name="l00257"></a>00257 
<a name="l00263"></a>00263     <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> <a class="code" href="group__SerialSocket.html#g7aa829da654db8edafab9c7c1b664e30">OptSet</a>(<a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> optname, <span class="keywordtype">void</span>* optval, <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> optlen);
<a name="l00264"></a>00264 
<a name="l00269"></a>00269     <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> <a class="code" href="group__SerialSocket.html#gb44e6f4c14fb06d00c034cf399f3725f">Read</a>(<span class="keywordtype">void</span>* buf, <a class="code" href="NucInc_8hpp.html#caa7b8a7167a8214f499c71c413ddcca">LONG</a> length);
<a name="l00270"></a>00270 
<a name="l00275"></a>00275     <a class="code" href="NucInc_8hpp.html#feeffe52c8fd59db7c61cf8b02042dbf">INT</a> <a class="code" href="group__SerialSocket.html#g46841da9fe584107d0b1eeb488d86dcf">Write</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* buf, <a class="code" href="NucInc_8hpp.html#caa7b8a7167a8214f499c71c413ddcca">LONG</a> count);
<a name="l00276"></a>00276 
<a name="l00277"></a>00277 <span class="keyword">private</span>:
<a name="l00278"></a>00278     <a class="code" href="NucInc_8hpp.html#caa7b8a7167a8214f499c71c413ddcca">LONG</a> m_sd;
<a name="l00279"></a>00279     <a class="code" href="NucInc_8hpp.html#caa7b8a7167a8214f499c71c413ddcca">LONG</a> m_fd;
<a name="l00280"></a>00280 
<a name="l00281"></a>00281 <span class="preprocessor">#if defined (USE_STUB )</span>
<a name="l00282"></a>00282 <span class="preprocessor"></span>    <a class="code" href="classSerialSocket.html">SerialSocket</a> *m_remote_socket;
<a name="l00283"></a>00283     <span class="comment">//BOOLEAN        bConnected;</span>
<a name="l00284"></a>00284     <span class="keyword">static</span> <a class="code" href="classBooleanCondition.html">BooleanCondition</a> m_connected_cond;
<a name="l00285"></a>00285 <span class="preprocessor">#endif</span>
<a name="l00286"></a>00286 <span class="preprocessor"></span>
<a name="l00287"></a>00287 };
<a name="l00288"></a>00288 
<a name="l00289"></a>00289 <span class="preprocessor">#endif //SERIALIO_ADAPTER_H</span>
<a name="l00290"></a>00290 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Jan 24 14:45:08 2006 for APOXI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO </small></address>
</body>
</html>
