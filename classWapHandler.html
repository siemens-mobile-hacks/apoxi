<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>APOXI: WapHandler Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul></div>
<h1>WapHandler Class Reference<br>
<small>
[<a class="el" href="group__HTTPWAPIF.html">HTTPWAPIF</a>]</small>
</h1><!-- doxytag: class="WapHandler" --><!-- doxytag: inherits="UserDispatcher" --><code>#include &lt;<a class="el" href="WapHandler_8hpp-source.html">Apoxi/AddOns/HttpWapInterface/HttpWap/WapHandler.hpp</a>&gt;</code>
<p>
Inheritance diagram for WapHandler:<p><center><img src="classWapHandler__inherit__graph.png" border="0" usemap="#WapHandler__inherit__map" alt="Inheritance graph"></center>
<map name="WapHandler__inherit__map">
<area href="classUserDispatcher.html" shape="rect" coords="7,81,119,108" alt="">
<area href="classDispatcher.html" shape="rect" coords="20,7,105,33" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for WapHandler:<p><center><img src="classWapHandler__coll__graph.png" border="0" usemap="#WapHandler__coll__map" alt="Collaboration graph"></center>
<map name="WapHandler__coll__map">
<area href="classUserDispatcher.html" shape="rect" coords="7,175,119,202" alt="">
<area href="classDispatcher.html" shape="rect" coords="20,84,106,111" alt="">
<area href="classHttpWapMgr.html" shape="rect" coords="212,175,308,202" alt="">
<area href="classHttpWapMgrPlugin.html" shape="rect" coords="194,84,327,111" alt="">
<area href="classHttpWapMgrBase.html" shape="rect" coords="196,7,324,34" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWapHandler.html#429196ac1e0538d8820c569b6c28cb0a">WapSessionStatus</a> { <a class="el" href="classWapHandler.html#429196ac1e0538d8820c569b6c28cb0a6b2f27a48921ff631cfee839a19b044d">WapSessionConnected</a>, 
<a class="el" href="classWapHandler.html#429196ac1e0538d8820c569b6c28cb0aee5f08212bc05cb0614223170bad9018">WapSessionSuspended</a>
 }</td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWapHandler.html#7722d2283ea3c8b824eb09bbd6b87b4c">AddRootCertificate</a> (INT conn_id, const <a class="el" href="structcomm__root__cert.html">COMM_ROOT_CERT</a> *pRootCert)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWapHandler.html#f1e5e35c2ab5e2a6aa039674e6de3e76">AddUserCertificate</a> (INT conn_id, const <a class="el" href="structcomm__user__cert.html">COMM_USER_CERT</a> *pUserCert)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWapHandler.html#92a8c34be6ce77404b0f729cf483d53b">ClearRootCertificate</a> (INT conn_id, const <a class="el" href="structcomm__root__cert.html">COMM_ROOT_CERT</a> *pRootCert)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWapHandler.html#e948a6b65f62260575fe0658f665ed68">ClearUserCertificate</a> (INT conn_id, const <a class="el" href="structcomm__user__cert.html">COMM_USER_CERT</a> *pUserCert)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWapHandler.html#5e7d446f195ee2338d318b6bed115410">GetCipherSuiteName</a> (INT conn_id, const UINT8 **pCipherSuiteName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual INT&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWapHandler.html#65b7455eae56474e611f9581221ea678">GetConnIdWap</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classWapHandler.html#429196ac1e0538d8820c569b6c28cb0a">WapSessionStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWapHandler.html#57b553b8c2902588d201079274744ed6">GetSessionStatusWap</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWapHandler.html#09e4bffbe7bad89b359d22fb45073736">ReadRootCertificate</a> (INT conn_id, UINT8 **certData, UINT32 *certLen)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWapHandler.html#d17e261a378d4c8fb289c99d9bed9a4b">ReadUserCertificate</a> (INT conn_id, UINT8 **certData, UINT32 *certLen, UINT8 **certKey, UINT32 *certKeyLen)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWapHandler.html#4cd14bbe68b6626d1624ed75b9d82773">RegisterWap</a> (INT pr_id, <a class="el" href="classWString.html">WString</a> &amp;mime, INT app_id=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWapHandler.html#fa71ee92822ec10c9b25450ee1b5ce40">ResumeWap</a> (INT conn_id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWapHandler.html#5c5a6abdf2df7973e232dbce47ac31a3">SuspendWap</a> (INT conn_id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWapHandler.html#e50f1277d202c0dfaa17e6b558ebe132">UnregisterWap</a> (INT pr_id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWapHandler.html#15dada51406f9da9eeafd04efd34ab36">WapHandler</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWapHandler.html#36584cb8b7d59491a2dc96861fcec23b">~WapHandler</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWapHandler.html#923df04a97e713db42c9f89023802c5a">DecodeMessage</a> (const <a class="el" href="classMessage.html">Message</a> &amp;msg, INT &amp;conn_id, INT &amp;requ_id, INT &amp;status, <a class="el" href="classWString.html">WString</a> &amp;header, <a class="el" href="classBinData.html">BinData</a> **body, INT &amp;more, INT &amp;length, <a class="el" href="classWString.html">WString</a> &amp;url)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWapHandler.html#143d5235497bffeabd67313415532874">OnMessage</a> (const <a class="el" href="classMessage.html">Message</a> &amp;msg)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWapHandler.html#8a0304f16243f02ba3d6d4265bb03104">OnPush</a> (const <a class="el" href="classMessage.html">Message</a> &amp;msg)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWapHandler.html#e6c1a05c2d1689ac1df590027eefdd54">SetWapPushReceived</a> (const CHAR *header, const <a class="el" href="classBinData.html">BinData</a> *body)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This interface defines the functionality of a WAP handler:<ul>
<li>opening a WAP connection,</li><li>suspending and resuming a WAP connection,</li><li>closing a WAP connection,</li><li>handle WAP push messages coming in the form of APOXI messages or function calls,</li><li>query the status of a WAP connection.</li></ul>
<p>
Since the function calls lead to asynchronous calls on communication stacks, the return values of the functions indicate the success of the functions and generally not the success of the events in the communication stack or beyond.<p>
Only public and protected functions are described here. 
<p>
<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="429196ac1e0538d8820c569b6c28cb0a"></a><!-- doxytag: member="WapHandler::WapSessionStatus" ref="429196ac1e0538d8820c569b6c28cb0a" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="classWapHandler.html#429196ac1e0538d8820c569b6c28cb0a">WapHandler::WapSessionStatus</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="429196ac1e0538d8820c569b6c28cb0a6b2f27a48921ff631cfee839a19b044d"></a><!-- doxytag: member="WapSessionConnected" ref="429196ac1e0538d8820c569b6c28cb0a6b2f27a48921ff631cfee839a19b044d" args="" -->WapSessionConnected</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="429196ac1e0538d8820c569b6c28cb0aee5f08212bc05cb0614223170bad9018"></a><!-- doxytag: member="WapSessionSuspended" ref="429196ac1e0538d8820c569b6c28cb0aee5f08212bc05cb0614223170bad9018" args="" -->WapSessionSuspended</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="15dada51406f9da9eeafd04efd34ab36"></a><!-- doxytag: member="WapHandler::WapHandler" ref="15dada51406f9da9eeafd04efd34ab36" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">WapHandler::WapHandler           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="36584cb8b7d59491a2dc96861fcec23b"></a><!-- doxytag: member="WapHandler::~WapHandler" ref="36584cb8b7d59491a2dc96861fcec23b" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">WapHandler::~WapHandler           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="7722d2283ea3c8b824eb09bbd6b87b4c"></a><!-- doxytag: member="WapHandler::AddRootCertificate" ref="7722d2283ea3c8b824eb09bbd6b87b4c" args="(INT conn_id, const COMM_ROOT_CERT *pRootCert)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN WapHandler::AddRootCertificate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">INT&nbsp;</td>
          <td class="mdname" nowrap> <em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="structcomm__root__cert.html">COMM_ROOT_CERT</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pRootCert</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Certificate Management - Used to Add a Root Certificate <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>COMM_ROOT_CERT</em>&nbsp;</td><td>Root Certificate structure </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>success </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="f1e5e35c2ab5e2a6aa039674e6de3e76"></a><!-- doxytag: member="WapHandler::AddUserCertificate" ref="f1e5e35c2ab5e2a6aa039674e6de3e76" args="(INT conn_id, const COMM_USER_CERT *pUserCert)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN WapHandler::AddUserCertificate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">INT&nbsp;</td>
          <td class="mdname" nowrap> <em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="structcomm__user__cert.html">COMM_USER_CERT</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pUserCert</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Certificate Management - Used to Add a User Certificate<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>COMM_USER_CERT</em>&nbsp;</td><td>User Certificate structure </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>success </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="92a8c34be6ce77404b0f729cf483d53b"></a><!-- doxytag: member="WapHandler::ClearRootCertificate" ref="92a8c34be6ce77404b0f729cf483d53b" args="(INT conn_id, const COMM_ROOT_CERT *pRootCert)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN WapHandler::ClearRootCertificate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">INT&nbsp;</td>
          <td class="mdname" nowrap> <em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="structcomm__root__cert.html">COMM_ROOT_CERT</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pRootCert</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Certificate Management - Used to Delete a Root Certificate <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>COMM_ROOT_CERT</em>&nbsp;</td><td>Root Certificate structure </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>success </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e948a6b65f62260575fe0658f665ed68"></a><!-- doxytag: member="WapHandler::ClearUserCertificate" ref="e948a6b65f62260575fe0658f665ed68" args="(INT conn_id, const COMM_USER_CERT *pUserCert)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN WapHandler::ClearUserCertificate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">INT&nbsp;</td>
          <td class="mdname" nowrap> <em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="structcomm__user__cert.html">COMM_USER_CERT</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pUserCert</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Certificate Management - Used to Delete a User Certificate <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>COMM_USER_CERT</em>&nbsp;</td><td>User Certificate structure </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>success </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="923df04a97e713db42c9f89023802c5a"></a><!-- doxytag: member="WapHandler::DecodeMessage" ref="923df04a97e713db42c9f89023802c5a" args="(const Message &amp;msg, INT &amp;conn_id, INT &amp;requ_id, INT &amp;status, WString &amp;header, BinData **body, INT &amp;more, INT &amp;length, WString &amp;url)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN WapHandler::DecodeMessage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classMessage.html">Message</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>INT &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>INT &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>requ_id</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>INT &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>status</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classWString.html">WString</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>header</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classBinData.html">BinData</a> **&nbsp;</td>
          <td class="mdname" nowrap> <em>body</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>INT &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>more</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>INT &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classWString.html">WString</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>url</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This Method is called by the <a class="el" href="classApplication.html">Application</a> each time it gets a message in the form of msg class. This method decodes the message and fills the appropriate fields<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>The message handed in </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>conn_id</em>&nbsp;</td><td>Connection id this will be filled by Plugin class </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>requ_id</em>&nbsp;</td><td>request id this will be filled by Plugin class </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>status to be filled by the Plugin class </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>header</em>&nbsp;</td><td>header to be filled by the Plugin class by NULL or with value depending upono the Messages Type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>body</em>&nbsp;</td><td>body this will be filled by Plugin class </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>more</em>&nbsp;</td><td>indicates if more data is following this packet or not </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>length of he data recived filling depends upon the message type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>url</em>&nbsp;</td><td>to be filled in by the Plugin calls depending upon the message type </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Sucess of the method </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="5e7d446f195ee2338d318b6bed115410"></a><!-- doxytag: member="WapHandler::GetCipherSuiteName" ref="5e7d446f195ee2338d318b6bed115410" args="(INT conn_id, const UINT8 **pCipherSuiteName)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN WapHandler::GetCipherSuiteName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">INT&nbsp;</td>
          <td class="mdname" nowrap> <em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const UINT8 **&nbsp;</td>
          <td class="mdname" nowrap> <em>pCipherSuiteName</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="65b7455eae56474e611f9581221ea678"></a><!-- doxytag: member="WapHandler::GetConnIdWap" ref="65b7455eae56474e611f9581221ea678" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">INT WapHandler::GetConnIdWap           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Used to get the Connection id <dl compact><dt><b>Returns:</b></dt><dd>the connection id </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="57b553b8c2902588d201079274744ed6"></a><!-- doxytag: member="WapHandler::GetSessionStatusWap" ref="57b553b8c2902588d201079274744ed6" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classWapHandler.html#429196ac1e0538d8820c569b6c28cb0a">WapHandler::WapSessionStatus</a> WapHandler::GetSessionStatusWap           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Used to get the Connection status <dl compact><dt><b>Returns:</b></dt><dd>the connection status </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="143d5235497bffeabd67313415532874"></a><!-- doxytag: member="WapHandler::OnMessage" ref="143d5235497bffeabd67313415532874" args="(const Message &amp;msg)=0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual BOOLEAN WapHandler::OnMessage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classMessage.html">Message</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called by message router.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td><a class="el" href="classMessage.html">Message</a> handed in. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success of method. </dd></dl>

<p>
Implements <a class="el" href="classDispatcher.html#b41eb62dde995ef907b685af53dc15c9">Dispatcher</a>.    </td>
  </tr>
</table>
<a class="anchor" name="8a0304f16243f02ba3d6d4265bb03104"></a><!-- doxytag: member="WapHandler::OnPush" ref="8a0304f16243f02ba3d6d4265bb03104" args="(const Message &amp;msg)=0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual BOOLEAN WapHandler::OnPush           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classMessage.html">Message</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Used to properly deal with an incoming WAP push message in the form of an APOXI message. Must be overridden by method in child class.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td><a class="el" href="classMessage.html">Message</a> handed in. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success of method. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="09e4bffbe7bad89b359d22fb45073736"></a><!-- doxytag: member="WapHandler::ReadRootCertificate" ref="09e4bffbe7bad89b359d22fb45073736" args="(INT conn_id, UINT8 **certData, UINT32 *certLen)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN WapHandler::ReadRootCertificate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">INT&nbsp;</td>
          <td class="mdname" nowrap> <em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT8 **&nbsp;</td>
          <td class="mdname" nowrap> <em>certData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT32 *&nbsp;</td>
          <td class="mdname" nowrap> <em>certLen</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Certificate Management - Used to Read a Root Certificate <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>UINT8**</em>&nbsp;</td><td>Certificate data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>UINT32*</em>&nbsp;</td><td>Certificate length </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>success </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="d17e261a378d4c8fb289c99d9bed9a4b"></a><!-- doxytag: member="WapHandler::ReadUserCertificate" ref="d17e261a378d4c8fb289c99d9bed9a4b" args="(INT conn_id, UINT8 **certData, UINT32 *certLen, UINT8 **certKey, UINT32 *certKeyLen)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN WapHandler::ReadUserCertificate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">INT&nbsp;</td>
          <td class="mdname" nowrap> <em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT8 **&nbsp;</td>
          <td class="mdname" nowrap> <em>certData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT32 *&nbsp;</td>
          <td class="mdname" nowrap> <em>certLen</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT8 **&nbsp;</td>
          <td class="mdname" nowrap> <em>certKey</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT32 *&nbsp;</td>
          <td class="mdname" nowrap> <em>certKeyLen</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Certificate Management - Used to Read a User Certificate <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>UINT8**</em>&nbsp;</td><td>Certificate Data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>UINT32*</em>&nbsp;</td><td>Certificate length </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>UINT8**</em>&nbsp;</td><td>Certificate key information </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>UINT32*</em>&nbsp;</td><td>Certificate key length </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>success </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="4cd14bbe68b6626d1624ed75b9d82773"></a><!-- doxytag: member="WapHandler::RegisterWap" ref="4cd14bbe68b6626d1624ed75b9d82773" args="(INT pr_id, WString &amp;mime, INT app_id=0)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN WapHandler::RegisterWap           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">INT&nbsp;</td>
          <td class="mdname" nowrap> <em>pr_id</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classWString.html">WString</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>mime</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>INT&nbsp;</td>
          <td class="mdname" nowrap> <em>app_id</em> = <code>0</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Used to register for WAP push messages.<p>
Function may be called again after a call to wapUnregister.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pr_id</em>&nbsp;</td><td>Id of <a class="el" href="classWapProfile.html">WapProfile</a> to be used. (<a class="el" href="classWapProfile.html">WapProfile</a> determines if connection is secure/non-secure and connection-oriented/ connectionless). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mime</em>&nbsp;</td><td>MIME type supported by registering application. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>app_id</em>&nbsp;</td><td><a class="el" href="classApplication.html">Application</a> id according to Open Mobile Naming Authority (OMNA), defaults to 0. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success of method. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="fa71ee92822ec10c9b25450ee1b5ce40"></a><!-- doxytag: member="WapHandler::ResumeWap" ref="fa71ee92822ec10c9b25450ee1b5ce40" args="(INT conn_id)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN WapHandler::ResumeWap           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">INT&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>conn_id</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Used by the application to resume the WAP connection on the WSP level.<p>
<dl compact><dt><b>Returns:</b></dt><dd>Success of method. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e6c1a05c2d1689ac1df590027eefdd54"></a><!-- doxytag: member="WapHandler::SetWapPushReceived" ref="e6c1a05c2d1689ac1df590027eefdd54" args="(const CHAR *header, const BinData *body)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN WapHandler::SetWapPushReceived           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const CHAR *&nbsp;</td>
          <td class="mdname" nowrap> <em>header</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classBinData.html">BinData</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>body</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Used to hand in the contents of WAP push messages.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>header</em>&nbsp;</td><td>Header of WAP push message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>body</em>&nbsp;</td><td>Body of WAP push message. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success of method. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="5c5a6abdf2df7973e232dbce47ac31a3"></a><!-- doxytag: member="WapHandler::SuspendWap" ref="5c5a6abdf2df7973e232dbce47ac31a3" args="(INT conn_id)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN WapHandler::SuspendWap           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">INT&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>conn_id</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Used by the application to suspend the WAP connection on the WSP level.<p>
<dl compact><dt><b>Returns:</b></dt><dd>Success of method. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e50f1277d202c0dfaa17e6b558ebe132"></a><!-- doxytag: member="WapHandler::UnregisterWap" ref="e50f1277d202c0dfaa17e6b558ebe132" args="(INT pr_id)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN WapHandler::UnregisterWap           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">INT&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pr_id</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Used by the application to unregister for WAP push messages.<p>
WAP connection must be open in order for this function to succeed. wapRegister must have been called before. Function will cancel all outstanding requests.<p>
<dl compact><dt><b>Returns:</b></dt><dd>Success of method. </dd></dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>AddOns/HttpWapInterface/HttpWap/<a class="el" href="WapHandler_8hpp-source.html">WapHandler.hpp</a><li>AddOns/HttpWapInterface/HttpWap/<a class="el" href="WapHandler_8cpp.html">WapHandler.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jan 25 02:21:24 2006 for APOXI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO </small></address>
</body>
</html>
