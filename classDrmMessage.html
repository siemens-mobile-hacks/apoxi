<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>APOXI: DrmMessage Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul></div>
<h1>DrmMessage Class Reference<br>
<small>
[<a class="el" href="group__Drm.html">Digital Rights Management</a>]</small>
</h1><!-- doxytag: class="DrmMessage" --><code>#include &lt;<a class="el" href="DrmMessage_8hpp-source.html">Apoxi/AddOns/Drm/DrmMessage.hpp</a>&gt;</code>
<p>
Collaboration diagram for DrmMessage:<p><center><img src="classDrmMessage__coll__graph.png" border="0" usemap="#DrmMessage__coll__map" alt="Collaboration graph"></center>
<map name="DrmMessage__coll__map">
<area href="classBinData.html" shape="rect" coords="23,97,92,124" alt="">
<area href="classDrmAsset.html" shape="rect" coords="17,7,97,33" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmMessage.html#85ee614ddd0467593b891c03b2ee9fb8">DrmMessage</a> (const <a class="el" href="classBinData.html">BinData</a> *drm_message, const CHAR *headers)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmMessage.html#45a4c34f8e70af81ef33de28634f0e74">DrmMessage</a> (const <a class="el" href="classBinData.html">BinData</a> *drm_message, <a class="el" href="group__Auxiliary.html#gaa63b3240dfa90304b599c38b74f9853">DrmMimeType</a> drm_mime_type)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classBinData.html">BinData</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmMessage.html#a7c9ce7dc96379a9d979f12bc49a8dfd">GetMediaObject</a> (<a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a> op, <a class="el" href="structBlockData.html">BlockData</a> *block_data, <a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> &amp;status)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmMessage.html#a43aa9d08ce18a749d502799422c00ba">GetMediaObject</a> (<a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a> op, <a class="el" href="structDrmMediaObject.html">DrmMediaObject</a> *media_object, <a class="el" href="structBlockData.html">BlockData</a> *block_data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classBinData.html">BinData</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmMessage.html#d8ab5f04d969685963a10948e3b4e387">GetMediaObject</a> (<a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a> op, <a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> &amp;status)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmMessage.html#be3d620a343fb3a7ffd2ae284515b5ce">GetMediaObject</a> (<a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a> op, <a class="el" href="structDrmMediaObject.html">DrmMediaObject</a> *media_object)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classBinData.html">BinData</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmMessage.html#2eb3985cf5f72535809904bf53be036d">GetRawMediaObject</a> (BOOLEAN decrypt, <a class="el" href="structBlockData.html">BlockData</a> *block_data, <a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> &amp;status)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classBinData.html">BinData</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmMessage.html#f4f17118cc599a41ab235e95c60a6d4d">GetRawMediaObject</a> (BOOLEAN decrypt, <a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> &amp;status)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmMessage.html#7b72b6b510c19a52dd253b6d907d936f">GetRawMediaObject</a> (BOOLEAN decrypt, <a class="el" href="structDrmMediaObject.html">DrmMediaObject</a> *media_object, <a class="el" href="structBlockData.html">BlockData</a> *block_data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmMessage.html#cb0e012283435fda611ebd50ca2ba634">GetRawMediaObject</a> (BOOLEAN decrypt, <a class="el" href="structDrmMediaObject.html">DrmMediaObject</a> *media_object)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classString.html">String</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmMessage.html#ef38d65ae9e6e67ae5394ac7d10db72b">GetRightsIssuer</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classString.html">DrmUid</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmMessage.html#dffcc2f04c42d90a719b2ca8c5aed958">GetUid</a> (<a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> &amp;status) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__Auxiliary.html#g1636ba41b4ff8890cdcad97ed10fb4af">DrmLocalId</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmMessage.html#3a457f97eb48ade3ba19977851132e02">ProcessDrmMessage</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmMessage.html#cae017c58a50492882f94a325f805d2b">SetDrmLocalId</a> (const <a class="el" href="group__Auxiliary.html#g1636ba41b4ff8890cdcad97ed10fb4af">DrmLocalId</a> local_id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmMessage.html#7d6304ad315e5a6f0f1caeaba1838ccb">StripRelXml</a> (UINT8 **buf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmMessage.html#3cc54e0cf54e9d7195f40e62a4aceceb">~DrmMessage</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#3cc54e0cf54e9d7195f40e62a4aceceb"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="group__Auxiliary.html#gaa63b3240dfa90304b599c38b74f9853">DrmMimeType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmMessage.html#fbf9489703dda88477646d3630aeba91">GetDrmMimeType</a> (const <a class="el" href="classBinData.html">BinData</a> *drm_message, const CHAR *base_mime_type)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classString.html">String</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmMessage.html#0e1fca0291b2a3f9fcec9dbd3e34b975">GetMediaMimeType</a> (const <a class="el" href="classBinData.html">BinData</a> *drm_message, <a class="el" href="group__Auxiliary.html#gaa63b3240dfa90304b599c38b74f9853">DrmMimeType</a> drm_mime_type)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classString.html">String</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmMessage.html#5a6a53eea57afb7a276c9d57c1b6d263">GetRawMediaMimeType</a> (const <a class="el" href="classBinData.html">BinData</a> *drm_message, <a class="el" href="group__Auxiliary.html#gaa63b3240dfa90304b599c38b74f9853">DrmMimeType</a> drm_mime_type, BOOLEAN &amp;more)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="group__Auxiliary.html#g1636ba41b4ff8890cdcad97ed10fb4af">DrmLocalId</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrmMessage.html#9cc1335235fe28ec0a27047e89abc700">ProcessRightsMessage</a> (const <a class="el" href="classBinData.html">BinData</a> *drm_rights_msg)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="classDrmMessage.html">DrmMessage</a> parses the class based on the mime type of the data and extracts rights objects for persistence.<ul>
<li>creates a local id for the content</li><li>exposes API to fetch the content buffer </li></ul>

<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="45a4c34f8e70af81ef33de28634f0e74"></a><!-- doxytag: member="DrmMessage::DrmMessage" ref="45a4c34f8e70af81ef33de28634f0e74" args="(const BinData *drm_message, DrmMimeType drm_mime_type)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">DrmMessage::DrmMessage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classBinData.html">BinData</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>drm_message</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__Auxiliary.html#gaa63b3240dfa90304b599c38b74f9853">DrmMimeType</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>drm_mime_type</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>drm_message</em>&nbsp;</td><td>pointer to the received DRM <a class="el" href="classMessage.html">Message</a> buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>drm_mime_type</em>&nbsp;</td><td>Mime type of DRM <a class="el" href="classMessage.html">Message</a> (FL, CD , DCF , Rights Object in XML/WBXML) </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="85ee614ddd0467593b891c03b2ee9fb8"></a><!-- doxytag: member="DrmMessage::DrmMessage" ref="85ee614ddd0467593b891c03b2ee9fb8" args="(const BinData *drm_message, const CHAR *headers)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">DrmMessage::DrmMessage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classBinData.html">BinData</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>drm_message</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const CHAR *&nbsp;</td>
          <td class="mdname" nowrap> <em>headers</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>const</em>&nbsp;</td><td><a class="el" href="classBinData.html">BinData</a> &amp; pointer to the received DRM <a class="el" href="classMessage.html">Message</a> buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>headers</em>&nbsp;</td><td>Http headers if any - Content Type header of the DRM message </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="3cc54e0cf54e9d7195f40e62a4aceceb"></a><!-- doxytag: member="DrmMessage::~DrmMessage" ref="3cc54e0cf54e9d7195f40e62a4aceceb" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">DrmMessage::~DrmMessage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor. 
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="fbf9489703dda88477646d3630aeba91"></a><!-- doxytag: member="DrmMessage::GetDrmMimeType" ref="fbf9489703dda88477646d3630aeba91" args="(const BinData *drm_message, const CHAR *base_mime_type)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#gaa63b3240dfa90304b599c38b74f9853">DrmMimeType</a> DrmMessage::GetDrmMimeType           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classBinData.html">BinData</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>drm_message</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const CHAR *&nbsp;</td>
          <td class="mdname" nowrap> <em>base_mime_type</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the Drm Mime type associated with asset <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>drm_message</em>&nbsp;</td><td>- buffer with multipart drm message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>base_mime_type</em>&nbsp;</td><td>- Base Mime Type received through http_response or from storage </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Drm Mime type </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="0e1fca0291b2a3f9fcec9dbd3e34b975"></a><!-- doxytag: member="DrmMessage::GetMediaMimeType" ref="0e1fca0291b2a3f9fcec9dbd3e34b975" args="(const BinData *drm_message, DrmMimeType drm_mime_type)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classString.html">String</a> DrmMessage::GetMediaMimeType           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classBinData.html">BinData</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>drm_message</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__Auxiliary.html#gaa63b3240dfa90304b599c38b74f9853">DrmMimeType</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>drm_mime_type</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the mime type(excluding the parameters)of media object containted in DRM message <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>drm_message</em>&nbsp;</td><td>- buffer with multipart drm message </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a7c9ce7dc96379a9d979f12bc49a8dfd"></a><!-- doxytag: member="DrmMessage::GetMediaObject" ref="a7c9ce7dc96379a9d979f12bc49a8dfd" args="(DrmOperation op, BlockData *block_data, DrmStatus &amp;status)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classBinData.html">BinData</a> * DrmMessage::GetMediaObject           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>op</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structBlockData.html">BlockData</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>block_data</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>status</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the decrypted media object from the Drm <a class="el" href="classMessage.html">Message</a> buffer as a <a class="el" href="classBinData.html">BinData</a> object This internally validates the operation. The <a class="el" href="classBinData.html">BinData</a> instance must be released after use of this object. The media type of the buffer can be obtained using the method <a class="el" href="classDrmMessage.html#0e1fca0291b2a3f9fcec9dbd3e34b975">DrmMessage::GetMediaMimeType()</a><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>op</em>&nbsp;</td><td>- DRM operation to check permissions </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>block_data</em>&nbsp;</td><td>- pointer to structure containing block numbers to parsed and size of each parsed block<ul>
<li>allocated by user - both start and end block data is returned </li></ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>- status of the operation </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="classBinData.html">BinData</a> containing decrypted media object If the returned pointer is NULL - check for error code in status </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a43aa9d08ce18a749d502799422c00ba"></a><!-- doxytag: member="DrmMessage::GetMediaObject" ref="a43aa9d08ce18a749d502799422c00ba" args="(DrmOperation op, DrmMediaObject *media_object, BlockData *block_data)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> DrmMessage::GetMediaObject           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>op</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structDrmMediaObject.html">DrmMediaObject</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>media_object</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structBlockData.html">BlockData</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>block_data</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the decrypted media object from the Drm <a class="el" href="classMessage.html">Message</a> buffer This internally validates the operation. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>DrmOperation</em>&nbsp;</td><td>DRM operation to check permissions </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>DrmMediaObject*</em>&nbsp;</td><td>pointer to media object allocated by APOXI DRM </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>BlockData*</em>&nbsp;</td><td>pointer to structure containing block numbers to parsed and size of each parsed block<ul>
<li>allocated by user - both start and end block data is returned </li></ul>
</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Status - If the returned pointer is NULL for <a class="el" href="structDrmMediaObject.html">DrmMediaObject</a> - check for error code in status </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="d8ab5f04d969685963a10948e3b4e387"></a><!-- doxytag: member="DrmMessage::GetMediaObject" ref="d8ab5f04d969685963a10948e3b4e387" args="(DrmOperation op, DrmStatus &amp;status)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classBinData.html">BinData</a> * DrmMessage::GetMediaObject           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>op</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>status</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the decrypted media object from the Drm <a class="el" href="classMessage.html">Message</a> buffer as a <a class="el" href="classBinData.html">BinData</a> object This internally validates the operation. The <a class="el" href="classBinData.html">BinData</a> instance must be released after use of this object. The media type of the buffer can be obtained using the method <a class="el" href="classDrmMessage.html#0e1fca0291b2a3f9fcec9dbd3e34b975">DrmMessage::GetMediaMimeType()</a><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>op</em>&nbsp;</td><td>- DRM operation to check permissions </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>- status of the operation </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="classBinData.html">BinData</a> containing decrypted media object If the returned pointer is NULL - check for error code in status </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="be3d620a343fb3a7ffd2ae284515b5ce"></a><!-- doxytag: member="DrmMessage::GetMediaObject" ref="be3d620a343fb3a7ffd2ae284515b5ce" args="(DrmOperation op, DrmMediaObject *media_object)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> DrmMessage::GetMediaObject           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#ge8747028287a5589655b8f12eb69af63">DrmOperation</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>op</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structDrmMediaObject.html">DrmMediaObject</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>media_object</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the decrypted media object from the Drm <a class="el" href="classMessage.html">Message</a> buffer This internally validates the operation. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>DrmOperation</em>&nbsp;</td><td>DRM operation to check permissions </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>DrmMediaObject*</em>&nbsp;</td><td>pointer to media object allocated by APOXI DRM </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Status - If the returned pointer is NULL for <a class="el" href="structDrmMediaObject.html">DrmMediaObject</a> - check for error code in status </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="5a6a53eea57afb7a276c9d57c1b6d263"></a><!-- doxytag: member="DrmMessage::GetRawMediaMimeType" ref="5a6a53eea57afb7a276c9d57c1b6d263" args="(const BinData *drm_message, DrmMimeType drm_mime_type, BOOLEAN &amp;more)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static <a class="el" href="classString.html">String</a> DrmMessage::GetRawMediaMimeType           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classBinData.html">BinData</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>drm_message</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__Auxiliary.html#gaa63b3240dfa90304b599c38b74f9853">DrmMimeType</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>drm_mime_type</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>BOOLEAN &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>more</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the mime type of media object containted in DRM message <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>more</em>&nbsp;</td><td>- indicate if there is more than just content Mime type,user should parse the return value to get the values for content media mime type and other information like 'charset' </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>drm_message</em>&nbsp;</td><td>- buffer with multipart drm message </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="2eb3985cf5f72535809904bf53be036d"></a><!-- doxytag: member="DrmMessage::GetRawMediaObject" ref="2eb3985cf5f72535809904bf53be036d" args="(BOOLEAN decrypt, BlockData *block_data, DrmStatus &amp;status)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classBinData.html">BinData</a>* DrmMessage::GetRawMediaObject           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>decrypt</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structBlockData.html">BlockData</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>block_data</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>status</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the unvalidated media object from the Drm <a class="el" href="classMessage.html">Message</a> buffer as a <a class="el" href="classBinData.html">BinData</a> object The <a class="el" href="classBinData.html">BinData</a> instance must be released after use of this object. The media type of the buffer can be obtained using the method <a class="el" href="classDrmMessage.html#0e1fca0291b2a3f9fcec9dbd3e34b975">DrmMessage::GetMediaMimeType()</a><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>decrypt</em>&nbsp;</td><td>used to decide whether to decrypt the media object or not </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>block_data</em>&nbsp;</td><td>- pointer to structure containing block numbers to parsed and size of each parsed block<ul>
<li>allocated by user - both start and end block data is returned </li></ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>- status of the operation </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="classBinData.html">BinData</a> containing decrypted media object If the returned pointer is NULL - check for error code in status Note: This interface is only provided to give access to media object for expired DRM objects. Ideally GetMediaObject is supposed to be used for accessing the media object. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="f4f17118cc599a41ab235e95c60a6d4d"></a><!-- doxytag: member="DrmMessage::GetRawMediaObject" ref="f4f17118cc599a41ab235e95c60a6d4d" args="(BOOLEAN decrypt, DrmStatus &amp;status)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classBinData.html">BinData</a>* DrmMessage::GetRawMediaObject           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>decrypt</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>status</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the unvalidated media object from the Drm <a class="el" href="classMessage.html">Message</a> buffer as a <a class="el" href="classBinData.html">BinData</a> object The <a class="el" href="classBinData.html">BinData</a> instance must be released after use of this object. The media type of the buffer can be obtained using the method <a class="el" href="classDrmMessage.html#0e1fca0291b2a3f9fcec9dbd3e34b975">DrmMessage::GetMediaMimeType()</a><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>decrypt</em>&nbsp;</td><td>used to decide whether to decrypt the media object or not </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>- status of the operation </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="classBinData.html">BinData</a> containing decrypted media object If the returned pointer is NULL - check for error code in status Note: This interface is only provided to give access to media object for expired DRM objects. Ideally GetMediaObject is supposed to be used for accessing the media object. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="7b72b6b510c19a52dd253b6d907d936f"></a><!-- doxytag: member="DrmMessage::GetRawMediaObject" ref="7b72b6b510c19a52dd253b6d907d936f" args="(BOOLEAN decrypt, DrmMediaObject *media_object, BlockData *block_data)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> DrmMessage::GetRawMediaObject           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>decrypt</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structDrmMediaObject.html">DrmMediaObject</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>media_object</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structBlockData.html">BlockData</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>block_data</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the unvalidated media object from the Drm <a class="el" href="classMessage.html">Message</a> buffer <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>decrypt</em>&nbsp;</td><td>used to decide whether to decrypt the media object or not </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>DrmMediaObject*</em>&nbsp;</td><td>pointer to media object allocated by APOXI DRM </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>BlockData*</em>&nbsp;</td><td>pointer to structure containing block numbers to parsed and size of each parsed block<ul>
<li>allocated by user - both start and end block data is returned </li></ul>
</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Status - If the returned pointer is NULL for <a class="el" href="structDrmMediaObject.html">DrmMediaObject</a> - check for error code in status Note: This interface is only provided to give access to media object for expired DRM objects. Ideally GetMediaObject is supposed to be used for accessing the media object. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="cb0e012283435fda611ebd50ca2ba634"></a><!-- doxytag: member="DrmMessage::GetRawMediaObject" ref="cb0e012283435fda611ebd50ca2ba634" args="(BOOLEAN decrypt, DrmMediaObject *media_object)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> DrmMessage::GetRawMediaObject           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>decrypt</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structDrmMediaObject.html">DrmMediaObject</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>media_object</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the unvalidated media object from the Drm <a class="el" href="classMessage.html">Message</a> buffer <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>decrypt</em>&nbsp;</td><td>used to decide whether to decrypt the media object or not </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>DrmMediaObject*</em>&nbsp;</td><td>pointer to media object allocated by APOXI DRM </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Status - If the returned pointer is NULL for <a class="el" href="structDrmMediaObject.html">DrmMediaObject</a> - check for error code in status</dd></dl>
Note: This interface is only provided to give access to media object for expired DRM objects. Ideally GetMediaObject is supposed to be used for accessing the media object.     </td>
  </tr>
</table>
<a class="anchor" name="ef38d65ae9e6e67ae5394ac7d10db72b"></a><!-- doxytag: member="DrmMessage::GetRightsIssuer" ref="ef38d65ae9e6e67ae5394ac7d10db72b" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classString.html">String</a> DrmMessage::GetRightsIssuer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the URL of the rights issuer (Uses the DcfParser) <dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="classString.html">String</a> url string </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="dffcc2f04c42d90a719b2ca8c5aed958"></a><!-- doxytag: member="DrmMessage::GetUid" ref="dffcc2f04c42d90a719b2ca8c5aed958" args="(DrmStatus &amp;status) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classString.html">DrmUid</a> DrmMessage::GetUid           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>status</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the Content URI (Uses the DcfParser) <dl compact><dt><b>Returns:</b></dt><dd>DrmUid string </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="3a457f97eb48ade3ba19977851132e02"></a><!-- doxytag: member="DrmMessage::ProcessDrmMessage" ref="3a457f97eb48ade3ba19977851132e02" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g1636ba41b4ff8890cdcad97ed10fb4af">DrmLocalId</a> DrmMessage::ProcessDrmMessage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Processes the incoming DRM message and persists the rights information and returns a local ID, which maps to the UID of the asset. <a class="el" href="classApplication.html">Application</a> can persist this local ID for future reference to the asset and rights. <dl compact><dt><b>Returns:</b></dt><dd>DrmLocalID Integer local ID of the DRM Object </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="9cc1335235fe28ec0a27047e89abc700"></a><!-- doxytag: member="DrmMessage::ProcessRightsMessage" ref="9cc1335235fe28ec0a27047e89abc700" args="(const BinData *drm_rights_msg)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g1636ba41b4ff8890cdcad97ed10fb4af">DrmLocalId</a> DrmMessage::ProcessRightsMessage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classBinData.html">BinData</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>drm_rights_msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Processes the incoming rights message (e.g separate delivery) and persists the rights information into the rights object store. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>const</em>&nbsp;</td><td><a class="el" href="classBinData.html">BinData</a>&amp; DRM Rights <a class="el" href="classMessage.html">Message</a> </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>DrmLocalID Integer local ID of the DRM object </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="cae017c58a50492882f94a325f805d2b"></a><!-- doxytag: member="DrmMessage::SetDrmLocalId" ref="cae017c58a50492882f94a325f805d2b" args="(const DrmLocalId local_id)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void DrmMessage::SetDrmLocalId           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="group__Auxiliary.html#g1636ba41b4ff8890cdcad97ed10fb4af">DrmLocalId</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>local_id</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the Local ID into the object <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>const</em>&nbsp;</td><td>DrmLocalID local id of the asset </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="7d6304ad315e5a6f0f1caeaba1838ccb"></a><!-- doxytag: member="DrmMessage::StripRelXml" ref="7d6304ad315e5a6f0f1caeaba1838ccb" args="(UINT8 **buf)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g2d7f15a3882e5d60f1e1be4c24ac360d">DrmStatus</a> DrmMessage::StripRelXml           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT8 **&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>buf</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Removes the XML part from the REL - Must be called after Process Drm <a class="el" href="classMessage.html">Message</a> for CD messages <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>UINT8*</em>&nbsp;</td><td>buf - Contains the new buffer to be written to FFS. It is an in-out parameter. It must be deleted by the user as it is allocated inside the function. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>DrmStatus - Success on stripping XML from REL </dd></dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>AddOns/Drm/<a class="el" href="DrmMessage_8hpp-source.html">DrmMessage.hpp</a><li>AddOns/Drm/<a class="el" href="DrmMessage_8cpp.html">DrmMessage.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jan 25 01:12:19 2006 for APOXI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO </small></address>
</body>
</html>
