<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>APOXI: Fota Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul></div>
<h1>Fota Class Reference<br>
<small>
[<a class="el" href="group__Devices.html">Devices</a>]</small>
</h1><!-- doxytag: class="Fota" --><!-- doxytag: inherits="AbstractDevice,AbstractDevice,AbstractDevice,AbstractDevice,AbstractDevice" --><code>#include &lt;<a class="el" href="BP30_2Fota_8hpp-source.html">Apoxi/Devices/BP30/Fota.hpp</a>&gt;</code>
<p>
Inheritance diagram for Fota:<p><center><img src="classFota__inherit__graph.png" border="0" usemap="#Fota__inherit__map" alt="Inheritance graph"></center>
<map name="Fota__inherit__map">
<area href="classAbstractDevice.html" shape="rect" coords="7,7,121,34" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for Fota:<p><center><img src="classFota__coll__graph.png" border="0" usemap="#Fota__coll__map" alt="Collaboration graph"></center>
<map name="Fota__coll__map">
<area href="classAbstractDevice.html" shape="rect" coords="11,7,125,33" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual const WCHAR *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFota.html#8d002f985cbea5c2d8f828039ea01c82">GetName</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFota.html#14f0d68ac0113d719225c0f038263377">~Fota</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static ControlArg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFota.html#d301dfa0281cbf42bfd0abcf9b4f60f0">Control</a> (INT command, ControlArg arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static UINT32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFota.html#f89fa92d4133374ef3d0976ce34dda1d">GetMetaDataCapacity</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static INT&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFota.html#1603b7c502386388bd537338e64dfa4f">InitiateFirmwareUpdate</a> (BOOLEAN force=<a class="el" href="Kernel_2Types_8hpp.html#f5ab51ffc8d377653c77e0c7ba1867f8">TRUE</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static INT&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFota.html#7b81fcc9d2859b950263fe5e468a6db3">ReadMetaData</a> (UINT32 offset, void *buffer, UINT32 size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static INT&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFota.html#fe9bc0c5b7cf50425e8152ca67d01ca0">WriteMetaData</a> (UINT32 offset, const void *buffer, UINT32 size)</td></tr>

<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFota.html#b8716fe8f7218009b4da13a76bbbe3ec">ShutDown</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="classFota.html">Fota</a> is the APOXI device abstraction interface for Firmware-update-Over-The-Air functionality. When Sibley flash is used, the data written must be aligned with the region size. Some regions can be used for control data (flags etc.) while other regions for data objects (e.g. bitmaps) which cannot be rewritten before a block-erase has been performed. The function GetMetaDataCapacity can be used to retrieve the region size. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="14f0d68ac0113d719225c0f038263377"></a><!-- doxytag: member="Fota::~Fota" ref="14f0d68ac0113d719225c0f038263377" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">Fota::~Fota           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="d301dfa0281cbf42bfd0abcf9b4f60f0"></a><!-- doxytag: member="Fota::Control" ref="d301dfa0281cbf42bfd0abcf9b4f60f0" args="(INT command, ControlArg arg)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static ControlArg Fota::Control           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">INT&nbsp;</td>
          <td class="mdname" nowrap> <em>command</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ControlArg&nbsp;</td>
          <td class="mdname" nowrap> <em>arg</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classAbstractDevice.html#0551c214398e2b91c297bc651d85c5f8">AbstractDevice::Control</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="f89fa92d4133374ef3d0976ce34dda1d"></a><!-- doxytag: member="Fota::GetMetaDataCapacity" ref="f89fa92d4133374ef3d0976ce34dda1d" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">UINT32 Fota::GetMetaDataCapacity           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the FLASH region size. This function is only available in Normal Mode. <dl compact><dt><b>Returns:</b></dt><dd>The region size in bytes. If the flash doesn't have regions, 0 will be returned. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="8d002f985cbea5c2d8f828039ea01c82"></a><!-- doxytag: member="Fota::GetName" ref="8d002f985cbea5c2d8f828039ea01c82" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const WCHAR * Fota::GetName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classAbstractDevice.html#f0fb45c8f07ae309053af9787a9f7d59">AbstractDevice::GetName</a> </dd></dl>

<p>
Implements <a class="el" href="classAbstractDevice.html#f0fb45c8f07ae309053af9787a9f7d59">AbstractDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="1603b7c502386388bd537338e64dfa4f"></a><!-- doxytag: member="Fota::InitiateFirmwareUpdate" ref="1603b7c502386388bd537338e64dfa4f" args="(BOOLEAN force=TRUE)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">INT Fota::InitiateFirmwareUpdate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">BOOLEAN&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>force</em> = <code><a class="el" href="Kernel_2Types_8hpp.html#f5ab51ffc8d377653c77e0c7ba1867f8">TRUE</a></code>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This method has to be called to reboot system from normal mode and initiate firmware update in the software update mode. The system is rebooted without clearing the RAM content. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>force</em>&nbsp;</td><td>The parameter forces the system to reboot (normally applications can prevent the system from rebooting - e.g. when a download is active). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns 0 if success, error values TBD. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="7b81fcc9d2859b950263fe5e468a6db3"></a><!-- doxytag: member="Fota::ReadMetaData" ref="7b81fcc9d2859b950263fe5e468a6db3" args="(UINT32 offset, void *buffer, UINT32 size)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">INT Fota::ReadMetaData           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT32&nbsp;</td>
          <td class="mdname" nowrap> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT32&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read data from reserved FOTA Meta Data area. This function is only available in Normal Mode. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>Address offset in the FOTA <a class="el" href="classMetaData.html">MetaData</a> area where to start reading. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Pointer to location where to copy the data to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The number of bytes to read. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns 0 if success, error values TBD. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="fe9bc0c5b7cf50425e8152ca67d01ca0"></a><!-- doxytag: member="Fota::WriteMetaData" ref="fe9bc0c5b7cf50425e8152ca67d01ca0" args="(UINT32 offset, const void *buffer, UINT32 size)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">INT Fota::WriteMetaData           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT32&nbsp;</td>
          <td class="mdname" nowrap> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const void *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT32&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write data to reserved FOTA Meta Data area. This function is only available in Normal Mode. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>Address offset in the FOTA <a class="el" href="classMetaData.html">MetaData</a> area where to start writing. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Pointer to the RAM location where to copy the data from. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The number of bytes to write. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns 0 if success, error values TBD. </dd></dl>
    </td>
  </tr>
</table>
<hr><h2>Friends And Related Function Documentation</h2>
<a class="anchor" name="b8716fe8f7218009b4da13a76bbbe3ec"></a><!-- doxytag: member="Fota::ShutDown" ref="b8716fe8f7218009b4da13a76bbbe3ec" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">friend class <a class="el" href="classShutDown.html">ShutDown</a><code> [friend]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>Devices/BP30/<a class="el" href="BP30_2Fota_8hpp-source.html">Fota.hpp</a><li>Devices/<a class="el" href="FotaInterface_8hpp-source.html">FotaInterface.hpp</a><li>Devices/MPE/<a class="el" href="MPE_2Fota_8hpp-source.html">Fota.hpp</a><li>Devices/MPEU/<a class="el" href="MPEU_2Fota_8hpp-source.html">Fota.hpp</a><li>Devices/SGold/<a class="el" href="SGold_2Fota_8hpp-source.html">Fota.hpp</a><li>Devices/Win32/<a class="el" href="Win32_2Fota_8hpp-source.html">Fota.hpp</a><li>Devices/BP30/<a class="el" href="BP30_2Fota_8cpp.html">Fota.cpp</a><li>Devices/MPE/<a class="el" href="MPE_2Fota_8cpp.html">Fota.cpp</a><li>Devices/MPEU/<a class="el" href="MPEU_2Fota_8cpp.html">Fota.cpp</a><li>Devices/SGold/<a class="el" href="SGold_2Fota_8cpp.html">Fota.cpp</a><li>Devices/Win32/<a class="el" href="Win32_2Fota_8cpp.html">Fota.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jan 25 01:16:24 2006 for APOXI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO </small></address>
</body>
</html>
