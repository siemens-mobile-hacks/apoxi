<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>APOXI: DataSource Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul></div>
<h1>DataSource Class Reference<br>
<small>
[<a class="el" href="group__Auxiliary.html">Auxiliary</a>]</small>
</h1><!-- doxytag: class="DataSource" --><code>#include &lt;<a class="el" href="DataSource_8hpp-source.html">Apoxi/Auxiliary/DataSource.hpp</a>&gt;</code>
<p>
Inheritance diagram for DataSource:<p><center><img src="classDataSource__inherit__graph.png" border="0" usemap="#DataSource__inherit__map" alt="Inheritance graph"></center>
<map name="DataSource__inherit__map">
<area href="classBinDataDataSource.html" shape="rect" coords="7,81,146,108" alt="">
<area href="classFileDataSource.html" shape="rect" coords="170,81,284,108" alt="">
<area href="classHeapDataSource.html" shape="rect" coords="308,81,431,108" alt="">
<area href="classNonsharedBinDataDataSource.html" shape="rect" coords="455,81,660,108" alt="">
<area href="classRamDataSource.html" shape="rect" coords="167,156,287,183" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for DataSource:<p><center><img src="classDataSource__coll__graph.png" border="0" usemap="#DataSource__coll__map" alt="Collaboration graph"></center>
<map name="DataSource__coll__map">
<area href="classDrmAsset.html" shape="rect" coords="12,7,92,34" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataSource.html#e7faa90744b52d945935717752b0af54">Close</a> ()=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classDrmAsset.html">DrmAsset</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataSource.html#b43606b780f8e796af64d354c6b8c651">GetDrmAsset</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataSource.html#f87f087b6361f05cf230b647788b28cf">GetSize</a> (UINT32 &amp;size) const =0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataSource.html#025efc940dd0b0c69d582f4c7d9378b3">IsOpen</a> () const =0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataSource.html#3fccd66aad4d7bbfae66da52fc33d2e4">Open</a> ()=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataSource.html#eefeeb5227d00c9184d046e7fb26b154">Read</a> (UINT32 offset, void HUGE *buffer, UINT32 max_count, UINT32 &amp;bytes_read)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataSource.html#338a085ba9eab9e6a3e6e9c7001b5ea8">Read</a> (UINT32 offset, void HUGE *buffer, UINT32 count)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataSource.html#5fd4fca9d7086f5de97aab737f2dd080">Read</a> (void HUGE *buffer, UINT32 max_count, UINT32 &amp;bytes_read)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataSource.html#f3ba71a02bd6320cad22f74994e11475">Read</a> (void HUGE *buffer, UINT32 count)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataSource.html#01b7c981a55b10889f23b300d2273656">~DataSource</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataSource.html#7a262ff1afb8282d776fbef5305d3de7">DataSource</a> (<a class="el" href="group__Auxiliary.html#g1636ba41b4ff8890cdcad97ed10fb4af">DrmLocalId</a> id)</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classDrmAsset.html">DrmAsset</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataSource.html#26d01a2680f63fd9bdfcf3213863fc6f">m_drm_asset</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Class <a class="el" href="classDataSource.html">DataSource</a> is the abstraction of any kind of data source where you can read from. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="01b7c981a55b10889f23b300d2273656"></a><!-- doxytag: member="DataSource::~DataSource" ref="01b7c981a55b10889f23b300d2273656" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">DataSource::~DataSource           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructs this instance.     </td>
  </tr>
</table>
<a class="anchor" name="7a262ff1afb8282d776fbef5305d3de7"></a><!-- doxytag: member="DataSource::DataSource" ref="7a262ff1afb8282d776fbef5305d3de7" args="(DrmLocalId id)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">DataSource::DataSource           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Auxiliary.html#g1636ba41b4ff8890cdcad97ed10fb4af">DrmLocalId</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>id</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="e7faa90744b52d945935717752b0af54"></a><!-- doxytag: member="DataSource::Close" ref="e7faa90744b52d945935717752b0af54" args="()=0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual BOOLEAN DataSource::Close           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Closes the data source. After closing the data source it can not be read any more.<p>
<dl compact><dt><b>Returns:</b></dt><dd>Success of operation. </dd></dl>

<p>
Implemented in <a class="el" href="classFileDataSource.html#ac1684317c0cc65c81258a52e8f78d18">FileDataSource</a>, <a class="el" href="classBinDataDataSource.html#88e15d8655c7ea1f4fc573cf81cb72fe">BinDataDataSource</a>, <a class="el" href="classHeapDataSource.html#008b867817f8f63bcc5da541538e38c2">HeapDataSource</a>, and <a class="el" href="classNonsharedBinDataDataSource.html#59908b55ca903c6a398706d1f0400581">NonsharedBinDataDataSource</a>.    </td>
  </tr>
</table>
<a class="anchor" name="b43606b780f8e796af64d354c6b8c651"></a><!-- doxytag: member="DataSource::GetDrmAsset" ref="b43606b780f8e796af64d354c6b8c651" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const <a class="el" href="classDrmAsset.html">DrmAsset</a>&amp; DataSource::GetDrmAsset           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the DRM asset to process and validate DRM constraints and permissions.<p>
<dl compact><dt><b>Returns:</b></dt><dd>A reference to the DRM asset of this data source. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="f87f087b6361f05cf230b647788b28cf"></a><!-- doxytag: member="DataSource::GetSize" ref="f87f087b6361f05cf230b647788b28cf" args="(UINT32 &amp;size) const =0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual BOOLEAN DataSource::GetSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT32 &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>size</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the size of the data source in terms of bytes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The actual size will be written into this variable. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success of operation. </dd></dl>

<p>
Implemented in <a class="el" href="classFileDataSource.html#4451ac64aad75ad74611d0121e53b5ac">FileDataSource</a>, <a class="el" href="classBinDataDataSource.html#fc981e9f4a8ca8860008499f338e0156">BinDataDataSource</a>, <a class="el" href="classHeapDataSource.html#4ddccd5960522e7addb1e5487303c43e">HeapDataSource</a>, and <a class="el" href="classNonsharedBinDataDataSource.html#f8f8c29094261d01877d02ed6a52a484">NonsharedBinDataDataSource</a>.    </td>
  </tr>
</table>
<a class="anchor" name="025efc940dd0b0c69d582f4c7d9378b3"></a><!-- doxytag: member="DataSource::IsOpen" ref="025efc940dd0b0c69d582f4c7d9378b3" args="() const =0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual BOOLEAN DataSource::IsOpen           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns whether the data source is currently open or closed.<p>
<dl compact><dt><b>Returns:</b></dt><dd>Whether the data source is open or not. </dd></dl>

<p>
Implemented in <a class="el" href="classFileDataSource.html#3bbdcd366c7a868c3411d23e704f403d">FileDataSource</a>, <a class="el" href="classBinDataDataSource.html#8b5f9b97bc50a4752595c46595c57c95">BinDataDataSource</a>, <a class="el" href="classHeapDataSource.html#304c727617ab846959017e8dbfb1c4df">HeapDataSource</a>, and <a class="el" href="classNonsharedBinDataDataSource.html#5ddfd6be5593e214833b46ad0672ead1">NonsharedBinDataDataSource</a>.    </td>
  </tr>
</table>
<a class="anchor" name="3fccd66aad4d7bbfae66da52fc33d2e4"></a><!-- doxytag: member="DataSource::Open" ref="3fccd66aad4d7bbfae66da52fc33d2e4" args="()=0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual BOOLEAN DataSource::Open           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Opens the data source for reading. Opening sets the current read position to the beginning of the data source. The read methods that do not use an offset argument always start to read at the current read position. A data source can only be read if it has been opened before.<p>
<dl compact><dt><b>Returns:</b></dt><dd>Success of operation. </dd></dl>

<p>
Implemented in <a class="el" href="classFileDataSource.html#121a5a802ccfc8743b3ad2b8053827cb">FileDataSource</a>, <a class="el" href="classBinDataDataSource.html#bd31963f5cb4db310c80aba82a8ea560">BinDataDataSource</a>, <a class="el" href="classHeapDataSource.html#17612b04442b629bb7e6beea534dc88b">HeapDataSource</a>, and <a class="el" href="classNonsharedBinDataDataSource.html#2ab619c1c4415b2b5e92ed089f68e300">NonsharedBinDataDataSource</a>.    </td>
  </tr>
</table>
<a class="anchor" name="eefeeb5227d00c9184d046e7fb26b154"></a><!-- doxytag: member="DataSource::Read" ref="eefeeb5227d00c9184d046e7fb26b154" args="(UINT32 offset, void HUGE *buffer, UINT32 max_count, UINT32 &amp;bytes_read)=0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual BOOLEAN DataSource::Read           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT32&nbsp;</td>
          <td class="mdname" nowrap> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void HUGE *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT32&nbsp;</td>
          <td class="mdname" nowrap> <em>max_count</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT32 &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>bytes_read</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads up to <em>max_count</em> bytes from this data source starting at <em>offset</em> and copies them to the provided <em>buffer</em>. If the read operation was successful then argument <em>bytes_read</em> is set to the actual number of bytes read. This number may differ from <em>max_count</em> due to reaching the end of data while reading. Therefore it is essential to check <em>bytes_read</em> if <code>TRUE</code> is returned! Take care that if you start reading at the end of the data source, i.e. parameter offset is greater than or equal to the size of the data source, this method sets <em>bytes_read</em> to <code>0</code> and returns <code>TRUE</code>, signaling end of data! Note that this method does not affect the current read position. Please see the following sample function for completely reading a data source:<p>
<div class="fragment"><pre class="fragment">            <span class="keyword">static</span> <a class="code" href="NucInc_8hpp.html#50168fdbaa52d4a0b1c287d476050f12">BOOLEAN</a> ReadRandomDataSource(<a class="code" href="classDataSource.html">DataSource</a> &amp;open_ds)
            {
                <a class="code" href="group__Auxiliary.html#gf0f079cffe6a9de996135f9e74020775">ASSERT_DEBUG</a>(open_ds.<a class="code" href="classDataSource.html#025efc940dd0b0c69d582f4c7d9378b3">IsOpen</a>());

                <span class="comment">// Define read buffer.</span>
                <span class="keyword">const</span> <a class="code" href="NucInc_8hpp.html#45c20c14d3d8790a22153d08ab2eb2ff">UINT</a> buf_size = 128;
                <a class="code" href="NucInc_8hpp.html#35cd67ba7bb0db8105eb6267467535d7">CHAR</a> buf[buf_size];

                <span class="comment">// Define variables used for reading.</span>
                <a class="code" href="NucInc_8hpp.html#69afa2e50b905f4eab1f2df8a3fd9f23">UINT32</a> offset = 0;
                <a class="code" href="NucInc_8hpp.html#69afa2e50b905f4eab1f2df8a3fd9f23">UINT32</a> bytes_read;
                <a class="code" href="NucInc_8hpp.html#50168fdbaa52d4a0b1c287d476050f12">BOOLEAN</a> ok;

                <span class="comment">// Read whole data source in a loop.</span>
                <span class="keywordflow">while</span> ((ok = open_ds.<a class="code" href="classDataSource.html#f3ba71a02bd6320cad22f74994e11475">Read</a>(offset, buf, buf_size, bytes_read)) &amp;&amp;
                    bytes_read != 0)
                {
                    <span class="comment">// Use buf which is filled with valid data from index 0 to index</span>
                    <span class="comment">// (bytes_read - 1).</span>
                    <span class="comment">// ...</span>

                    <span class="comment">// Increase offset where to read next.</span>
                    offset += bytes_read;
                }

                <span class="comment">// ok is FALSE if a read error occurred, otherwise TRUE.</span>
                <span class="keywordflow">return</span> ok;
            }
</pre></div><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>The zero-based position where to start reading the data source. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>The pointer to the buffer where the bytes read have to be copied to. It must be a valid pointer and the buffer must be at least <em>max_count</em> bytes in size. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max_count</em>&nbsp;</td><td>The number of bytes to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bytes_read</em>&nbsp;</td><td>Bytes actually read.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success of operation. </dd></dl>

<p>
Implemented in <a class="el" href="classFileDataSource.html#6c21a19ca330e61d8683de5c02c70f55">FileDataSource</a>, <a class="el" href="classBinDataDataSource.html#cc01d1bb89abff8f5e04ff710ac10d3e">BinDataDataSource</a>, <a class="el" href="classHeapDataSource.html#d83347f5e903c5230a26bc1f306cf0cc">HeapDataSource</a>, and <a class="el" href="classNonsharedBinDataDataSource.html#eedf1557b5edf1c32e12e3b168b72fae">NonsharedBinDataDataSource</a>.    </td>
  </tr>
</table>
<a class="anchor" name="338a085ba9eab9e6a3e6e9c7001b5ea8"></a><!-- doxytag: member="DataSource::Read" ref="338a085ba9eab9e6a3e6e9c7001b5ea8" args="(UINT32 offset, void HUGE *buffer, UINT32 count)=0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual BOOLEAN DataSource::Read           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT32&nbsp;</td>
          <td class="mdname" nowrap> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void HUGE *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT32&nbsp;</td>
          <td class="mdname" nowrap> <em>count</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads exactly <em>count</em> bytes from this data source starting at <em>offset</em> and copies them to the provided <em>buffer</em>. Note that this method does not affect the current read position.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>The zero-based position where to start reading the data source. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>The pointer to the buffer where the bytes read have to be copied to. It must be a valid pointer and the buffer must be at least <em>count</em> bytes in size. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>count</em>&nbsp;</td><td>The number of bytes to read.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success of operation. </dd></dl>

<p>
Implemented in <a class="el" href="classFileDataSource.html#57db78ca4eb29d8c49d9de82410c85e8">FileDataSource</a>, <a class="el" href="classBinDataDataSource.html#2bc7c066c6c14790c77bf3d72204972c">BinDataDataSource</a>, <a class="el" href="classHeapDataSource.html#12eabdaf55617c06a23cc9cae12fd341">HeapDataSource</a>, and <a class="el" href="classNonsharedBinDataDataSource.html#30549a5f5c51ed7e590c5ded34fe054c">NonsharedBinDataDataSource</a>.    </td>
  </tr>
</table>
<a class="anchor" name="5fd4fca9d7086f5de97aab737f2dd080"></a><!-- doxytag: member="DataSource::Read" ref="5fd4fca9d7086f5de97aab737f2dd080" args="(void HUGE *buffer, UINT32 max_count, UINT32 &amp;bytes_read)=0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual BOOLEAN DataSource::Read           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void HUGE *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT32&nbsp;</td>
          <td class="mdname" nowrap> <em>max_count</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT32 &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>bytes_read</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads up to <em>max_count</em> bytes from this data source starting at the current read position and copies them to the provided buffer. If the read operation was successful then argument <em>bytes_read</em> is set to the actual number of bytes read. This number may differ from <em>max_count</em> due to reaching the end of data while reading. Therefore it is essential to check <em>bytes_read</em> if <code>TRUE</code> is returned! Take care that if you start reading at the end of the data source, i.e. the current read position is greater than or equal to the size of the data source, this method sets <em>bytes_read</em> to <code>0</code> and returns <code>TRUE</code>, signaling end of data! The current read position is updated. Please see the following sample function for completely reading a data source:<p>
<div class="fragment"><pre class="fragment">            <span class="keyword">static</span> <a class="code" href="NucInc_8hpp.html#50168fdbaa52d4a0b1c287d476050f12">BOOLEAN</a> ReadSequentialDataSource(<a class="code" href="classDataSource.html">DataSource</a> &amp;open_ds)
            {
                <a class="code" href="group__Auxiliary.html#gf0f079cffe6a9de996135f9e74020775">ASSERT_DEBUG</a>(open_ds.<a class="code" href="classDataSource.html#025efc940dd0b0c69d582f4c7d9378b3">IsOpen</a>());

                <span class="comment">// Define read buffer.</span>
                <span class="keyword">const</span> <a class="code" href="NucInc_8hpp.html#45c20c14d3d8790a22153d08ab2eb2ff">UINT</a> buf_size = 128;
                <a class="code" href="NucInc_8hpp.html#35cd67ba7bb0db8105eb6267467535d7">CHAR</a> buf[buf_size];

                <span class="comment">// Define variables used for reading.</span>
                <a class="code" href="NucInc_8hpp.html#69afa2e50b905f4eab1f2df8a3fd9f23">UINT32</a> bytes_read;
                <a class="code" href="NucInc_8hpp.html#50168fdbaa52d4a0b1c287d476050f12">BOOLEAN</a> ok;

                <span class="comment">// Read whole data source in a loop.</span>
                <span class="keywordflow">while</span> ((ok = open_ds.<a class="code" href="classDataSource.html#f3ba71a02bd6320cad22f74994e11475">Read</a>(buf, buf_size, bytes_read)) &amp;&amp;
                    bytes_read != 0)
                {
                    <span class="comment">// Use buf which is filled with valid data from index 0 to index</span>
                    <span class="comment">// (bytes_read - 1).</span>
                    <span class="comment">// ...</span>
                }

                <span class="comment">// ok is FALSE if a read error occurred, otherwise TRUE.</span>
                <span class="keywordflow">return</span> ok;
            }
</pre></div><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>The pointer to the buffer where the bytes read have to be copied to. It must be a valid pointer and the buffer must be at least <em>max_count</em> bytes in size. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max_count</em>&nbsp;</td><td>The number of bytes to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bytes_read</em>&nbsp;</td><td>Bytes actually read.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success of operation. </dd></dl>

<p>
Implemented in <a class="el" href="classFileDataSource.html#f54e14cfc7c42ec0584cdd9ca6fcb892">FileDataSource</a>, <a class="el" href="classBinDataDataSource.html#dd9bbae23a7bc01397bf3b0a30c85c2c">BinDataDataSource</a>, <a class="el" href="classHeapDataSource.html#1fe70cfe230ab6de469db98edf38e026">HeapDataSource</a>, and <a class="el" href="classNonsharedBinDataDataSource.html#ca6e71dc7e59f4bb7bf5009a8440cf0b">NonsharedBinDataDataSource</a>.    </td>
  </tr>
</table>
<a class="anchor" name="f3ba71a02bd6320cad22f74994e11475"></a><!-- doxytag: member="DataSource::Read" ref="f3ba71a02bd6320cad22f74994e11475" args="(void HUGE *buffer, UINT32 count)=0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual BOOLEAN DataSource::Read           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void HUGE *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT32&nbsp;</td>
          <td class="mdname" nowrap> <em>count</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads exactly <em>count</em> bytes from this data source starting at the current read position and copies them to the provided <em>buffer</em>. The current read position is updated.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>The pointer to the buffer where the bytes read have to be copied to. It must be a valid pointer and the buffer must be at least <em>count</em> bytes in size. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>count</em>&nbsp;</td><td>The number of bytes to read.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success of operation. </dd></dl>

<p>
Implemented in <a class="el" href="classFileDataSource.html#765cb81095fe39c49137d40b650a183e">FileDataSource</a>, <a class="el" href="classBinDataDataSource.html#8553b75c752d3d01c73da92adaa173cc">BinDataDataSource</a>, <a class="el" href="classHeapDataSource.html#75f404ac9f5a5ec18dc25bd44137637b">HeapDataSource</a>, and <a class="el" href="classNonsharedBinDataDataSource.html#84e4abda643f1f9bc8878bfd6e49afd3">NonsharedBinDataDataSource</a>.    </td>
  </tr>
</table>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="26d01a2680f63fd9bdfcf3213863fc6f"></a><!-- doxytag: member="DataSource::m_drm_asset" ref="26d01a2680f63fd9bdfcf3213863fc6f" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const <a class="el" href="classDrmAsset.html">DrmAsset</a> <a class="el" href="classDataSource.html#26d01a2680f63fd9bdfcf3213863fc6f">DataSource::m_drm_asset</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>Auxiliary/<a class="el" href="DataSource_8hpp-source.html">DataSource.hpp</a><li>Auxiliary/<a class="el" href="DataSource_8cpp.html">DataSource.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jan 25 01:10:13 2006 for APOXI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO </small></address>
</body>
</html>
