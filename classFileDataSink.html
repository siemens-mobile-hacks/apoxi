<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>APOXI: FileDataSink Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul></div>
<h1>FileDataSink Class Reference<br>
<small>
[<a class="el" href="group__RFS.html">Root File System</a>]</small>
</h1><!-- doxytag: class="FileDataSink" --><!-- doxytag: inherits="DataSink" --><code>#include &lt;<a class="el" href="Afs_2Rfs_2FileDataSink_8hpp-source.html">Apoxi/Afs/Rfs/FileDataSink.hpp</a>&gt;</code>
<p>
Inheritance diagram for FileDataSink:<p><center><img src="classFileDataSink__inherit__graph.png" border="0" usemap="#FileDataSink__inherit__map" alt="Inheritance graph"></center>
<map name="FileDataSink__inherit__map">
<area href="classRamDataSink.html" shape="rect" coords="7,156,111,183" alt="">
<area href="classDataSink.html" shape="rect" coords="21,7,96,33" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for FileDataSink:<p><center><img src="classFileDataSink__coll__graph.png" border="0" usemap="#FileDataSink__coll__map" alt="Collaboration graph"></center>
<map name="FileDataSink__coll__map">
<area href="classDataSink.html" shape="rect" coords="10,97,84,124" alt="">
<area href="classDrmAsset.html" shape="rect" coords="7,7,87,33" alt="">
<area href="classNiSharedPtr.html" shape="rect" coords="108,97,236,124" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileDataSink.html#fcd276a07df50d6b705480e6cf24f028">Close</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileDataSink.html#90cf3e8340583f2e16ad443c96c67beb">FileDataSink</a> (const <a class="el" href="classNiSharedPtr.html">FilePtr</a> &amp;file, UINT32 initial_size=0, BOOLEAN overwrite_existing_file=<a class="el" href="Kernel_2Types_8hpp.html#bf218ebc7e2ed90798d1f23a29b7ad09">FALSE</a>, <a class="el" href="group__Auxiliary.html#g1636ba41b4ff8890cdcad97ed10fb4af">DrmLocalId</a> id=<a class="el" href="group__Auxiliary.html#g20c0538a1314f420e00e79622c59a124">c_drm_invalid_local_id</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileDataSink.html#deac13fe292cb8135091f78a806ceb9b">FileDataSink</a> (const <a class="el" href="classPath.html">Path</a> &amp;file_path, UINT32 initial_size=0, BOOLEAN overwrite_existing_file=<a class="el" href="Kernel_2Types_8hpp.html#bf218ebc7e2ed90798d1f23a29b7ad09">FALSE</a>, <a class="el" href="group__Auxiliary.html#g1636ba41b4ff8890cdcad97ed10fb4af">DrmLocalId</a> id=<a class="el" href="group__Auxiliary.html#g20c0538a1314f420e00e79622c59a124">c_drm_invalid_local_id</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileDataSink.html#4b78de81e18cb3aa265060f6d925d92c">GetSize</a> (UINT32 &amp;size) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileDataSink.html#f2fb69336d5119a7356f176a7428fb1b">IsOpen</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileDataSink.html#58c1269233e28160ae6672f28b9c7c97">Open</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual UINT32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileDataSink.html#77e2d92084b575beb60ca3b5fd9b854a">Write</a> (UINT32 offset, const void HUGE *buf, UINT32 nbytes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual UINT32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileDataSink.html#cd189ecf0841ec14c038c2c564508357">Write</a> (const void HUGE *buf, UINT32 nbytes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileDataSink.html#7a55bc27305197a9441eaf1d54a5731b">~FileDataSink</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classNiSharedPtr.html">FilePtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileDataSink.html#228654c65915acf2e4bb766da88b8eb5">m_file</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const UINT32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileDataSink.html#cb2cd7a843a5686443138dfa1a789e02">m_initial_size</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileDataSink.html#daacbfbba8d7f91d262f75ff9a999e66">m_overwrite_existing_file</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Class <a class="el" href="classFileDataSink.html">FileDataSink</a> implements a data sink which writes to a file of the APOXI Root <a class="el" href="classFile.html">File</a> <a class="el" href="classSystem.html">System</a> (RFS). 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="deac13fe292cb8135091f78a806ceb9b"></a><!-- doxytag: member="FileDataSink::FileDataSink" ref="deac13fe292cb8135091f78a806ceb9b" args="(const Path &amp;file_path, UINT32 initial_size=0, BOOLEAN overwrite_existing_file=FALSE, DrmLocalId id=c_drm_invalid_local_id)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">FileDataSink::FileDataSink           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classPath.html">Path</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>file_path</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT32&nbsp;</td>
          <td class="mdname" nowrap> <em>initial_size</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>overwrite_existing_file</em> = <code><a class="el" href="Kernel_2Types_8hpp.html#bf218ebc7e2ed90798d1f23a29b7ad09">FALSE</a></code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__Auxiliary.html#g1636ba41b4ff8890cdcad97ed10fb4af">DrmLocalId</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>id</em> = <code><a class="el" href="group__Auxiliary.html#g20c0538a1314f420e00e79622c59a124">c_drm_invalid_local_id</a></code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a file data sink instance. This data sink writes to the file at <em>file_path</em>. The file data sink has to be opened using method <a class="el" href="classFileDataSink.html#58c1269233e28160ae6672f28b9c7c97">Open()</a> before writing to it. On destruction, the file data sink will be closed if not explicitly done before.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file_path</em>&nbsp;</td><td>The path of the file to write to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>initial_size</em>&nbsp;</td><td>Defines the initial size of the file data sink. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>overwrite_existing_file</em>&nbsp;</td><td>Tells if an already existing file at <em>file_path</em> may be overwritten when opening the file data sink. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>The DRM local ID. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="90cf3e8340583f2e16ad443c96c67beb"></a><!-- doxytag: member="FileDataSink::FileDataSink" ref="90cf3e8340583f2e16ad443c96c67beb" args="(const FilePtr &amp;file, UINT32 initial_size=0, BOOLEAN overwrite_existing_file=FALSE, DrmLocalId id=c_drm_invalid_local_id)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">FileDataSink::FileDataSink           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classNiSharedPtr.html">FilePtr</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT32&nbsp;</td>
          <td class="mdname" nowrap> <em>initial_size</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>overwrite_existing_file</em> = <code><a class="el" href="Kernel_2Types_8hpp.html#bf218ebc7e2ed90798d1f23a29b7ad09">FALSE</a></code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__Auxiliary.html#g1636ba41b4ff8890cdcad97ed10fb4af">DrmLocalId</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>id</em> = <code><a class="el" href="group__Auxiliary.html#g20c0538a1314f420e00e79622c59a124">c_drm_invalid_local_id</a></code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a file data sink instance. This data sink writes to the specified <em>file</em>. The file data sink has to be opened using method <a class="el" href="classFileDataSink.html#58c1269233e28160ae6672f28b9c7c97">Open()</a> before writing to it. On destruction, the file data sink will be closed if not explicitly done before.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>The file to write to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>initial_size</em>&nbsp;</td><td>Defines the initial size of the file data sink. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>overwrite_existing_file</em>&nbsp;</td><td>Tells if an already existing <em>file</em> may be overwritten when opening the file data sink. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>The DRM local ID. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="7a55bc27305197a9441eaf1d54a5731b"></a><!-- doxytag: member="FileDataSink::~FileDataSink" ref="7a55bc27305197a9441eaf1d54a5731b" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">FileDataSink::~FileDataSink           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destroys the file data sink. The associated file is also closed if not done yet.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="fcd276a07df50d6b705480e6cf24f028"></a><!-- doxytag: member="FileDataSink::Close" ref="fcd276a07df50d6b705480e6cf24f028" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN FileDataSink::Close           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Closes the data sink. After closing the data sink it can not be written any more.<p>
<dl compact><dt><b>Returns:</b></dt><dd>Success of operation. </dd></dl>

<p>
Implements <a class="el" href="classDataSink.html#5161255a007cdfc252056308a5c1d2ba">DataSink</a>.    </td>
  </tr>
</table>
<a class="anchor" name="4b78de81e18cb3aa265060f6d925d92c"></a><!-- doxytag: member="FileDataSink::GetSize" ref="4b78de81e18cb3aa265060f6d925d92c" args="(UINT32 &amp;size) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN FileDataSink::GetSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT32 &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>size</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the size of the data sink in terms of bytes. The size of the data sink is actually defined by the amount of data written at the end of the data sink.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The actual size will be written into this variable. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success of operation. </dd></dl>

<p>
Implements <a class="el" href="classDataSink.html#02dd92c3ea4989707bfe6047a0d01170">DataSink</a>.    </td>
  </tr>
</table>
<a class="anchor" name="f2fb69336d5119a7356f176a7428fb1b"></a><!-- doxytag: member="FileDataSink::IsOpen" ref="f2fb69336d5119a7356f176a7428fb1b" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN FileDataSink::IsOpen           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns whether the data sink is currently open or closed.<p>
<dl compact><dt><b>Returns:</b></dt><dd>Whether the data sink is open or not. </dd></dl>

<p>
Implements <a class="el" href="classDataSink.html#5755b49662a9d22eb54ac3541fe059eb">DataSink</a>.    </td>
  </tr>
</table>
<a class="anchor" name="58c1269233e28160ae6672f28b9c7c97"></a><!-- doxytag: member="FileDataSink::Open" ref="58c1269233e28160ae6672f28b9c7c97" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN FileDataSink::Open           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Opens the file data sink. Opening succeeds if either the associated file does not exist yet and can be newly created, or if it exists and it is allowed to overwrite it. The constructor is provided with argument <em>overwrite_existing_file</em> which specifies whether an existing file may be overwritten or not when opening the file data sink. Note that if the associated file already exists it has to be in closed state, otherwise this method asserts. 
<p>
Implements <a class="el" href="classDataSink.html#b4210276cc73c473d1d850390bc2d185">DataSink</a>.    </td>
  </tr>
</table>
<a class="anchor" name="77e2d92084b575beb60ca3b5fd9b854a"></a><!-- doxytag: member="FileDataSink::Write" ref="77e2d92084b575beb60ca3b5fd9b854a" args="(UINT32 offset, const void HUGE *buf, UINT32 nbytes)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">UINT32 FileDataSink::Write           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT32&nbsp;</td>
          <td class="mdname" nowrap> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const void HUGE *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT32&nbsp;</td>
          <td class="mdname" nowrap> <em>nbytes</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Writes <em>nbytes</em> bytes of buffer <em>buf</em> to the data sink at the given <em>offset</em>. Note, that this method is only allowed to be used to overwrite existing data. Hence, if the given <em>offset</em> plus the number of bytes to write <em>nbytes</em> is larger than the current size of the data sink then an assertion fails. Overriding methods must implement this assertion. Since this method only overrides existing data it does not affect the size of the data sink.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>The offset where to start writing. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>The buffer to be written. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nbytes</em>&nbsp;</td><td>The number of bytes to be written. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Number of bytes actually written. </dd></dl>

<p>
Implements <a class="el" href="classDataSink.html#fab7d2fdbcd45c4c6d9be4705d7f362a">DataSink</a>.    </td>
  </tr>
</table>
<a class="anchor" name="cd189ecf0841ec14c038c2c564508357"></a><!-- doxytag: member="FileDataSink::Write" ref="cd189ecf0841ec14c038c2c564508357" args="(const void HUGE *buf, UINT32 nbytes)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">UINT32 FileDataSink::Write           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const void HUGE *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT32&nbsp;</td>
          <td class="mdname" nowrap> <em>nbytes</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Writes <em>nbytes</em> bytes of buffer <em>buf</em> to the data sink. The data is written at the end of the data sink and hence increases the size of the data sink by the amount of bytes written.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>The buffer to be written. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nbytes</em>&nbsp;</td><td>The number of bytes to be written. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Number of bytes actually written. </dd></dl>

<p>
Implements <a class="el" href="classDataSink.html#a8bdd734da338e8e76a6d264c2b91930">DataSink</a>.    </td>
  </tr>
</table>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="228654c65915acf2e4bb766da88b8eb5"></a><!-- doxytag: member="FileDataSink::m_file" ref="228654c65915acf2e4bb766da88b8eb5" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classNiSharedPtr.html">FilePtr</a> <a class="el" href="classFileDataSink.html#228654c65915acf2e4bb766da88b8eb5">FileDataSink::m_file</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="cb2cd7a843a5686443138dfa1a789e02"></a><!-- doxytag: member="FileDataSink::m_initial_size" ref="cb2cd7a843a5686443138dfa1a789e02" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const UINT32 <a class="el" href="classFileDataSink.html#cb2cd7a843a5686443138dfa1a789e02">FileDataSink::m_initial_size</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="daacbfbba8d7f91d262f75ff9a999e66"></a><!-- doxytag: member="FileDataSink::m_overwrite_existing_file" ref="daacbfbba8d7f91d262f75ff9a999e66" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const BOOLEAN <a class="el" href="classFileDataSink.html#daacbfbba8d7f91d262f75ff9a999e66">FileDataSink::m_overwrite_existing_file</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>Afs/Rfs/<a class="el" href="Afs_2Rfs_2FileDataSink_8hpp-source.html">FileDataSink.hpp</a><li>Afs/Rfs/<a class="el" href="FileDataSink_8cpp.html">FileDataSink.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jan 25 01:15:24 2006 for APOXI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO </small></address>
</body>
</html>
