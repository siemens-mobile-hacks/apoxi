<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>APOXI: StorageDevice Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul></div>
<h1>StorageDevice Class Reference<br>
<small>
[<a class="el" href="group__RFS.html">Root File System</a>]</small>
</h1><!-- doxytag: class="StorageDevice" -->Client interface and base class for storage devices.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="Afs_2Rfs_2StorageDevice_8hpp-source.html">Apoxi/Afs/Rfs/StorageDevice.hpp</a>&gt;</code>
<p>
Inheritance diagram for StorageDevice:<p><center><img src="classStorageDevice__inherit__graph.png" border="0" usemap="#StorageDevice__inherit__map" alt="Inheritance graph"></center>
<map name="StorageDevice__inherit__map">
<area href="classFatStorageDeviceImp.html" shape="rect" coords="7,82,159,108" alt="">
<area href="classFlashStorageDeviceImp.html" shape="rect" coords="183,82,348,108" alt="">
<area href="classRamStorageDeviceImp.html" shape="rect" coords="372,82,532,108" alt="">
<area href="classRootStorageDeviceImp.html" shape="rect" coords="556,82,716,108" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for StorageDevice:<p><center><img src="classStorageDevice__coll__graph.png" border="0" usemap="#StorageDevice__coll__map" alt="Collaboration graph"></center>
<map name="StorageDevice__coll__map">
<area href="classBitVector.html" shape="rect" coords="7,97,295,124" alt="">
<area href="classBitVector.html" shape="rect" coords="96,7,205,33" alt="">
<area href="classWString.html" shape="rect" coords="319,97,388,124" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#a4da1f0db9179bb92a49593ddeecb0ed">DeviceCapability</a> { <br>
&nbsp;&nbsp;<a class="el" href="classStorageDevice.html#a4da1f0db9179bb92a49593ddeecb0edfe7a1cbef730639c0b98e3b833261823">DirectorySupport</a> =  0, 
<a class="el" href="classStorageDevice.html#a4da1f0db9179bb92a49593ddeecb0ed148a7894c34b93775353ab8e7d5c7e1d">Removable</a> =  1, 
<a class="el" href="classStorageDevice.html#a4da1f0db9179bb92a49593ddeecb0ed6c62f7d773968edf78375da5fa50de33">ReadOnly</a> =  2, 
<a class="el" href="classStorageDevice.html#a4da1f0db9179bb92a49593ddeecb0ed4d3e41d17ed3a843a2e67025a1c2bc4d">ExchangeableMedia</a> =  3, 
<br>
&nbsp;&nbsp;<a class="el" href="classStorageDevice.html#a4da1f0db9179bb92a49593ddeecb0ed6470b31e01bfd8cf9b01308705db2bcc">MediaAvailableStatusNotification</a> =  4, 
<a class="el" href="classStorageDevice.html#a4da1f0db9179bb92a49593ddeecb0edc5c12eddbe493e41c9831e37256b14f9">DEVICE_CAPABILITY_COUNT</a> =  5
<br>
 }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#e456a0bd032e5e1fad75be18eaf404d3">ScanResult</a> { <br>
&nbsp;&nbsp;<a class="el" href="classStorageDevice.html#e456a0bd032e5e1fad75be18eaf404d37944b480847270ff220fdfec6bf510c1">ScanOk</a>, 
<a class="el" href="classStorageDevice.html#e456a0bd032e5e1fad75be18eaf404d3baed4148a9824ccd89e9d08558ce28de">ScanNotSupported</a>, 
<a class="el" href="classStorageDevice.html#e456a0bd032e5e1fad75be18eaf404d374444fea4f22bc0963a0b5966682204f">ScanProblemDetected</a>, 
<a class="el" href="classStorageDevice.html#e456a0bd032e5e1fad75be18eaf404d37a31ba4ef4f435a66dcd6e55a07119f0">ScanRepairableProblemDetected</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="classStorageDevice.html#e456a0bd032e5e1fad75be18eaf404d330d20dbf7dcf847646e3d4bb42afc967">ScanNonRepairableProblemDetected</a>, 
<a class="el" href="classStorageDevice.html#e456a0bd032e5e1fad75be18eaf404d32b3771928c3e42aab217b8fc562461a1">ScanProblemRepaired</a>, 
<a class="el" href="classStorageDevice.html#e456a0bd032e5e1fad75be18eaf404d3b5f0e7a6ce7e78ef6efde354f99653ac">ScanRepairFailed</a>, 
<a class="el" href="classStorageDevice.html#e456a0bd032e5e1fad75be18eaf404d3223b240c81fb4244e3c17dd61f98d4bd">ScanInternalError</a>
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#07d95a598ca4fad561ad07e7181dbe99">Exists</a> (const <a class="el" href="classPathname.html">Pathname</a> &amp;pathname) const =0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#45a9e7bb96077cd17f0d3660a0be8ddd">Flush</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#bea176a6818e4172ae68950213118a81">Format</a> (BOOLEAN quick=<a class="el" href="Kernel_2Types_8hpp.html#bf218ebc7e2ed90798d1f23a29b7ad09">FALSE</a>)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#cfda10908d9bf9c9c91bce4427acc677">GetClusterSize</a> (UINT32 &amp;size) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual UINT8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#516c38d4de2cb55fd86adfc2876d3e58">GetDefaultChunkSize</a> () const =0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual UINT32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#a186b9312b8ed2cd74286ab9fa9f81d2">GetFreeVolumeSize</a> () const =0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classWString.html">WString</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#719ff60fd2b9eb3ceb5e7c74be3720f4">GetId</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classFile.html#8c6b206914397c84793d847749a6f8e4">File::Error</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#2967932fcd7bcef822816b216fd41a5c">GetLastError</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#d2816654753983f52b5d045ef125db66">GetMediaAvailableStatus</a> (BOOLEAN &amp;media_present) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#9feb037d6d9f66b8d603c37d346b399d">GetMediaName</a> (<a class="el" href="classWString.html">WString</a> &amp;<a class="el" href="VCard_8cpp.html#fc1f6c0843141a1becb404e16d34bc53">name</a>) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classWString.html">WString</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#636baa8b7611d73cfc31bf2be7c52730">GetName</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classWString.html">WString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#17f9c26410fc7e311cde57862e850c65">GetNativeDirectoryPathname</a> (const <a class="el" href="classPathname.html">Pathname</a> &amp;pathname) const =0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classWString.html">WString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#b70a41f566862fb3da8b25cec92821de">GetNativeFilePathname</a> (const <a class="el" href="classPathname.html">Pathname</a> &amp;pathname) const =0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#d17d03559c7df3d4f6bbf7943e9c6a35">GetNativeProperty</a> (UINT prop_id, void *val) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#b6096522ea501f0a84df0f5c00f75558">GetOpenFilesCounter</a> (UINT &amp;counter) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#49a78be84afa2bfd68d96396a1c6bf14">GetSectorSize</a> (UINT32 &amp;size) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual UINT32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#097a7534619ace08e436852c2ec533e8">GetTotalVolumeSize</a> () const =0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual UINT32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#4edb7a4c02f76e3992669a9d16b2e74c">GetUsedVolumeSize</a> () const =0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#0f18f7f32a3daef3f33989694e015f0d">IsCapabilitySupported</a> (<a class="el" href="classStorageDevice.html#a4da1f0db9179bb92a49593ddeecb0ed">DeviceCapability</a> device_capability) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#e5c52062a17037f13874132c15e43c71">IsDirectory</a> (const <a class="el" href="classPathname.html">Pathname</a> &amp;pathname) const =0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#69b1fb730dbe1aac7864a0803b64eee0">IsReady</a> () const =0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classStorageDevice.html#e456a0bd032e5e1fad75be18eaf404d3">ScanResult</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#dc083f95576712ce5264835bd36fb4d2">ScanDisk</a> (BOOLEAN do_repair=<a class="el" href="Kernel_2Types_8hpp.html#bf218ebc7e2ed90798d1f23a29b7ad09">FALSE</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#53f8a3b3e20385f62a22a2260b112d7d">SetMediaName</a> (const <a class="el" href="classWString.html">WString</a> &amp;<a class="el" href="VCard_8cpp.html#fc1f6c0843141a1becb404e16d34bc53">name</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#3685c070a72b93aa25d3763cc7e6a4d9">SetNativeProperty</a> (UINT prop_id, const void *val)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#f30a4e46d00cd3b1d5e64cf25e098432">~StorageDevice</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classNiSharedPtr.html">DirectoryIteratorPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#147076d1cf054ac710ed8f974bb046dc">CreateDirectoryIterator</a> (const <a class="el" href="classPathname.html">Pathname</a> &amp;dir_pathname, const <a class="el" href="classNiSharedPtr.html">FileFilterPtr</a> &amp;filter) const =0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classNiSharedPtr.html">FilePtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#ec97689f1990968c695952cbedcf67b8">CreateFileObject</a> (const <a class="el" href="classPathname.html">Pathname</a> &amp;pathname) const =0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#fde66a70097af8a1a91c57081597425f">DecrementOpenFileCounter</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#729140604ef3e013e4835e6afeb076fa">IncrementOpenFileCounter</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#eeb1c685ec1f3d256d202b05bca3b99f">NotifyMediaAvailableStatus</a> (BOOLEAN media_present)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#f851121e5fd2a48a4309f16b98eb3dc2">OnNotifyMediaAvailableStatus</a> (BOOLEAN media_present)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#85adf5c722b0e388bf93fbd39d5fb7c0">SetDeviceCapability</a> (<a class="el" href="classStorageDevice.html#a4da1f0db9179bb92a49593ddeecb0ed">DeviceCapability</a> device_capability, BOOLEAN value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#c1449644e41b092d8902c6a5f586cdcf">Shutdown</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#e8b24b9a34bc967190e23833769d8acd">StorageDevice</a> (const <a class="el" href="classWString.html">WString</a> &amp;device_Id, const <a class="el" href="classWString.html">WString</a> &amp;<a class="el" href="VCard_8cpp.html#fc1f6c0843141a1becb404e16d34bc53">name</a>)</td></tr>

<tr><td colspan="2"><br><h2>Static Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#7c9d0aee55efb310fcc2523b976f2520">Register</a> (<a class="el" href="classNiSharedPtr.html">StorageDevicePtr</a> device)</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classFile.html#8c6b206914397c84793d847749a6f8e4">File::Error</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#9f7914da6026da3fffb8e61f72be15e0">m_last_error</a></td></tr>

<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#68d15876ad188b7628261b12d0eac8aa">File</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStorageDevice.html#339270f565eaa3ba5044f0458aa3b836">RootFileSystem</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Client interface and base class for storage devices. 
<p>
Abstract class <a class="el" href="classStorageDevice.html">StorageDevice</a> is the superclass of all storage devices which shall be accessible via the root file system. To add a new storage device to the root file system you have to subclass and implement class <a class="el" href="classStorageDevice.html">StorageDevice</a>. The abstract classes <a class="el" href="classFile.html">File</a> and <a class="el" href="classDirectoryIterator.html">DirectoryIterator</a> have to be subclassed, too. Subclasses of class <a class="el" href="classFile.html">File</a> handle device access for storing, reading, and modifying files and directories. Subclasses of class <a class="el" href="classDirectoryIterator.html">DirectoryIterator</a> handle access of elements within a directory.<p>
By convention, subclasses of class <a class="el" href="classStorageDevice.html">StorageDevice</a> are named by their device name appended by the suffix <code>StorageDeviceImp</code>. Subclasses of class <a class="el" href="classFile.html">File</a> and class <a class="el" href="classDirectoryIterator.html">DirectoryIterator</a> are constructed the same way but appended by the suffix <code>FileImp</code> and <code>DirectoryIteratorImp</code>, respectively. The suffixes all end with <code>Imp</code> since these subclasses are never seen by clients of the root file system. They are used exclusively to implement the concrete storage device, file, and directory iterator, respectively. Please see the following existing examples:<ul>
<li><a class="el" href="classRootStorageDeviceImp.html">RootStorageDeviceImp</a>, <a class="el" href="classRootFileImp.html">RootFileImp</a>, and <a class="el" href="classRootDirectoryIteratorImp.html">RootDirectoryIteratorImp</a> or</li><li><a class="el" href="classFlashStorageDeviceImp.html">FlashStorageDeviceImp</a>, <a class="el" href="classFlashFileImp.html">FlashFileImp</a>, and <a class="el" href="classFlashDirectoryIteratorImp.html">FlashDirectoryIteratorImp</a>.</li></ul>
<p>
Every storage device must have its <em>unique</em> storage device ID string for all the available storage devices can be registered to the root file system at the same time. If you implement a subclass of class <a class="el" href="classStorageDevice.html">StorageDevice</a> you have to define the storage device ID string to use. If this is equal to a storage device ID string of another storage device, then only one of those storage devices can be registered to the root file system. Therefore, if you implement a new storage device take care to investigate which storage device ID strings are already used by existing storage devices. If it is already existing choose another storage device ID string for being able to register it with any other storage device at the same time.<p>
To setup a dedicated storage device the subclass should provide a static method Setup() which adds a new instance of the subclass to the root file system if none has been added yet (for a sample see <a class="el" href="classFlashStorageDeviceImp.html#4583d8ae70ff4527032db98b81a0315c">FlashStorageDeviceImp::Setup()</a>). This should be the only moment of instantiating a storage device, therefore the constructors of storage device classes are protected.<p>
On destruction, the storage device shall be automatically unregistered, which has to be implemented in the destructor of the subclass by calling this class' method <a class="el" href="classStorageDevice.html#c1449644e41b092d8902c6a5f586cdcf">Shutdown()</a> (for a sample see <a class="el" href="classFlashStorageDeviceImp.html#29e1ceb5341952e13a6601fcc845c5ec">FlashStorageDeviceImp::~FlashStorageDeviceImp()</a>). 
<p>
<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="a4da1f0db9179bb92a49593ddeecb0ed"></a><!-- doxytag: member="StorageDevice::DeviceCapability" ref="a4da1f0db9179bb92a49593ddeecb0ed" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="classStorageDevice.html#a4da1f0db9179bb92a49593ddeecb0ed">StorageDevice::DeviceCapability</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This enumeration defines the available device capabilities which can be queried using <a class="el" href="classStorageDevice.html#0f18f7f32a3daef3f33989694e015f0d">IsCapabilitySupported()</a>. <dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="a4da1f0db9179bb92a49593ddeecb0edfe7a1cbef730639c0b98e3b833261823"></a><!-- doxytag: member="DirectorySupport" ref="a4da1f0db9179bb92a49593ddeecb0edfe7a1cbef730639c0b98e3b833261823" args="" -->DirectorySupport</em>&nbsp;</td><td>
Tells if the storage device supports directories. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a4da1f0db9179bb92a49593ddeecb0ed148a7894c34b93775353ab8e7d5c7e1d"></a><!-- doxytag: member="Removable" ref="a4da1f0db9179bb92a49593ddeecb0ed148a7894c34b93775353ab8e7d5c7e1d" args="" -->Removable</em>&nbsp;</td><td>
Tells if the storage device itself is removable (and addable) at runtime. This device capability is supported for plug &amp; play devices. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a4da1f0db9179bb92a49593ddeecb0ed6c62f7d773968edf78375da5fa50de33"></a><!-- doxytag: member="ReadOnly" ref="a4da1f0db9179bb92a49593ddeecb0ed6c62f7d773968edf78375da5fa50de33" args="" -->ReadOnly</em>&nbsp;</td><td>
Tells if the storage device is read-only. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a4da1f0db9179bb92a49593ddeecb0ed4d3e41d17ed3a843a2e67025a1c2bc4d"></a><!-- doxytag: member="ExchangeableMedia" ref="a4da1f0db9179bb92a49593ddeecb0ed4d3e41d17ed3a843a2e67025a1c2bc4d" args="" -->ExchangeableMedia</em>&nbsp;</td><td>
Tells if the storage media of the storage device is exchangeable, like smart cards and so on. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a4da1f0db9179bb92a49593ddeecb0ed6470b31e01bfd8cf9b01308705db2bcc"></a><!-- doxytag: member="MediaAvailableStatusNotification" ref="a4da1f0db9179bb92a49593ddeecb0ed6470b31e01bfd8cf9b01308705db2bcc" args="" -->MediaAvailableStatusNotification</em>&nbsp;</td><td>
Tells if the storage device triggers the sending of a notification message when a media is inserted or removed. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a4da1f0db9179bb92a49593ddeecb0edc5c12eddbe493e41c9831e37256b14f9"></a><!-- doxytag: member="DEVICE_CAPABILITY_COUNT" ref="a4da1f0db9179bb92a49593ddeecb0edc5c12eddbe493e41c9831e37256b14f9" args="" -->DEVICE_CAPABILITY_COUNT</em>&nbsp;</td><td>
Used internally only to dimension the bit vector m_device_capabilities. </td></tr>
</table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e456a0bd032e5e1fad75be18eaf404d3"></a><!-- doxytag: member="StorageDevice::ScanResult" ref="e456a0bd032e5e1fad75be18eaf404d3" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="classStorageDevice.html#e456a0bd032e5e1fad75be18eaf404d3">StorageDevice::ScanResult</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This enumeration defines the result codes of the <a class="el" href="classStorageDevice.html#dc083f95576712ce5264835bd36fb4d2">ScanDisk()</a> method. <dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="e456a0bd032e5e1fad75be18eaf404d37944b480847270ff220fdfec6bf510c1"></a><!-- doxytag: member="ScanOk" ref="e456a0bd032e5e1fad75be18eaf404d37944b480847270ff220fdfec6bf510c1" args="" -->ScanOk</em>&nbsp;</td><td>
Scanning detected no problem. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="e456a0bd032e5e1fad75be18eaf404d3baed4148a9824ccd89e9d08558ce28de"></a><!-- doxytag: member="ScanNotSupported" ref="e456a0bd032e5e1fad75be18eaf404d3baed4148a9824ccd89e9d08558ce28de" args="" -->ScanNotSupported</em>&nbsp;</td><td>
Scanning is not supported on this storage device. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="e456a0bd032e5e1fad75be18eaf404d374444fea4f22bc0963a0b5966682204f"></a><!-- doxytag: member="ScanProblemDetected" ref="e456a0bd032e5e1fad75be18eaf404d374444fea4f22bc0963a0b5966682204f" args="" -->ScanProblemDetected</em>&nbsp;</td><td>
Scanning detected a problem, however, no info is available whether the problem can be repaired. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="e456a0bd032e5e1fad75be18eaf404d37a31ba4ef4f435a66dcd6e55a07119f0"></a><!-- doxytag: member="ScanRepairableProblemDetected" ref="e456a0bd032e5e1fad75be18eaf404d37a31ba4ef4f435a66dcd6e55a07119f0" args="" -->ScanRepairableProblemDetected</em>&nbsp;</td><td>
Scanning detected a problem which can be repaired. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="e456a0bd032e5e1fad75be18eaf404d330d20dbf7dcf847646e3d4bb42afc967"></a><!-- doxytag: member="ScanNonRepairableProblemDetected" ref="e456a0bd032e5e1fad75be18eaf404d330d20dbf7dcf847646e3d4bb42afc967" args="" -->ScanNonRepairableProblemDetected</em>&nbsp;</td><td>
Scanning detected a problem which cannot be repaired. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="e456a0bd032e5e1fad75be18eaf404d32b3771928c3e42aab217b8fc562461a1"></a><!-- doxytag: member="ScanProblemRepaired" ref="e456a0bd032e5e1fad75be18eaf404d32b3771928c3e42aab217b8fc562461a1" args="" -->ScanProblemRepaired</em>&nbsp;</td><td>
Scanning found problem(s) and could repair those. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="e456a0bd032e5e1fad75be18eaf404d3b5f0e7a6ce7e78ef6efde354f99653ac"></a><!-- doxytag: member="ScanRepairFailed" ref="e456a0bd032e5e1fad75be18eaf404d3b5f0e7a6ce7e78ef6efde354f99653ac" args="" -->ScanRepairFailed</em>&nbsp;</td><td>
Scanning found problem(s) and could not repair all of them. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="e456a0bd032e5e1fad75be18eaf404d3223b240c81fb4244e3c17dd61f98d4bd"></a><!-- doxytag: member="ScanInternalError" ref="e456a0bd032e5e1fad75be18eaf404d3223b240c81fb4244e3c17dd61f98d4bd" args="" -->ScanInternalError</em>&nbsp;</td><td>
The scanning itself failed, it can not be decided whether the disk is ok or not. </td></tr>
</table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="e8b24b9a34bc967190e23833769d8acd"></a><!-- doxytag: member="StorageDevice::StorageDevice" ref="e8b24b9a34bc967190e23833769d8acd" args="(const WString &amp;device_Id, const WString &amp;name)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">StorageDevice::StorageDevice           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classWString.html">WString</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>device_Id</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classWString.html">WString</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new device with ID device_Id and name.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>device_Id</em>&nbsp;</td><td>The ID has to be unique for every storage device. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Human-readable name of the storage device. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="f30a4e46d00cd3b1d5e64cf25e098432"></a><!-- doxytag: member="StorageDevice::~StorageDevice" ref="f30a4e46d00cd3b1d5e64cf25e098432" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">StorageDevice::~StorageDevice           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destroys the storage device. An overriding destructor of a subclass has to call <a class="el" href="classStorageDevice.html#c1449644e41b092d8902c6a5f586cdcf">Shutdown()</a> to properly end the device.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="147076d1cf054ac710ed8f974bb046dc"></a><!-- doxytag: member="StorageDevice::CreateDirectoryIterator" ref="147076d1cf054ac710ed8f974bb046dc" args="(const Pathname &amp;dir_pathname, const FileFilterPtr &amp;filter) const =0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual <a class="el" href="classNiSharedPtr.html">DirectoryIteratorPtr</a> StorageDevice::CreateDirectoryIterator           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classPathname.html">Pathname</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>dir_pathname</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classNiSharedPtr.html">FileFilterPtr</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>filter</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"> const<code> [protected, pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new directory iterator object for the specified pathname.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dir_pathname</em>&nbsp;</td><td>The pathname of the directory. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>filter</em>&nbsp;</td><td>The filter which selects the files the iterator shall return.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A DirectoryIteratorPtr wrapping either a new directory iterator object or <code>0</code> if there is not enough memory left. </dd></dl>

<p>
Implemented in <a class="el" href="classFlashStorageDeviceImp.html#89f4cae0cd23032bd60515f7969e39d3">FlashStorageDeviceImp</a>, <a class="el" href="classRamStorageDeviceImp.html#d8a0b4017eb5483b874d80c997ba95c4">RamStorageDeviceImp</a>, and <a class="el" href="classRootStorageDeviceImp.html#c299acb2ffac8481de4e2a8b75bae74a">RootStorageDeviceImp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ec97689f1990968c695952cbedcf67b8"></a><!-- doxytag: member="StorageDevice::CreateFileObject" ref="ec97689f1990968c695952cbedcf67b8" args="(const Pathname &amp;pathname) const =0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual <a class="el" href="classNiSharedPtr.html">FilePtr</a> StorageDevice::CreateFileObject           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classPathname.html">Pathname</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pathname</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [protected, pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new file object for the specified pathname.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pathname</em>&nbsp;</td><td>The pathname.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A FilePtr wrapping either a new file object or <code>0</code> if there is not enough memory left. </dd></dl>

<p>
Implemented in <a class="el" href="classFlashStorageDeviceImp.html#0d59c199de4b257cf880bfa22d96a455">FlashStorageDeviceImp</a>, <a class="el" href="classRamStorageDeviceImp.html#f461d8ce83118704d4b98c955460a186">RamStorageDeviceImp</a>, and <a class="el" href="classRootStorageDeviceImp.html#bdb6db1b702615fbd0d8dd38deb99654">RootStorageDeviceImp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="fde66a70097af8a1a91c57081597425f"></a><!-- doxytag: member="StorageDevice::DecrementOpenFileCounter" ref="fde66a70097af8a1a91c57081597425f" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void StorageDevice::DecrementOpenFileCounter           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Decrements the counter of open files.     </td>
  </tr>
</table>
<a class="anchor" name="07d95a598ca4fad561ad07e7181dbe99"></a><!-- doxytag: member="StorageDevice::Exists" ref="07d95a598ca4fad561ad07e7181dbe99" args="(const Pathname &amp;pathname) const =0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual BOOLEAN StorageDevice::Exists           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classPathname.html">Pathname</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pathname</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Tells if pathname exists. If it exists it may either be a file or a directory. 
<p>
Implemented in <a class="el" href="classFatStorageDeviceImp.html#91b5e4f1ce818f0c35d00a1fb157054d">FatStorageDeviceImp</a>, <a class="el" href="classFlashStorageDeviceImp.html#fab9d065ce50325e13cb296e14513994">FlashStorageDeviceImp</a>, <a class="el" href="classRamStorageDeviceImp.html#1b7a9dea73513c59999b4f825a3b67b3">RamStorageDeviceImp</a>, and <a class="el" href="classRootStorageDeviceImp.html#03175518b90fb62e4888e74e146c087b">RootStorageDeviceImp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="45a9e7bb96077cd17f0d3660a0be8ddd"></a><!-- doxytag: member="StorageDevice::Flush" ref="45a9e7bb96077cd17f0d3660a0be8ddd" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN StorageDevice::Flush           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This method is to be overridden by devices which have to empty buffers when they are shutdown. It might be especially useful for plug and play devices. This base class implementation does nothing.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The success of the operation. </dd></dl>

<p>
Reimplemented in <a class="el" href="classFatStorageDeviceImp.html#7c5e5d7d9dbf0674bf04b85062626f9f">FatStorageDeviceImp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="bea176a6818e4172ae68950213118a81"></a><!-- doxytag: member="StorageDevice::Format" ref="bea176a6818e4172ae68950213118a81" args="(BOOLEAN quick=FALSE)=0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual BOOLEAN StorageDevice::Format           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">BOOLEAN&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>quick</em> = <code><a class="el" href="Kernel_2Types_8hpp.html#bf218ebc7e2ed90798d1f23a29b7ad09">FALSE</a></code>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This method formats the actual storage device. It is only possible to format real devices. The root storage device cannot be formatted.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The success of the operation. </dd></dl>

<p>
Implemented in <a class="el" href="classFatStorageDeviceImp.html#0449c7333b128096050da769be53b545">FatStorageDeviceImp</a>, <a class="el" href="classFlashStorageDeviceImp.html#08c329c052953a1d9b1c8219bacf7106">FlashStorageDeviceImp</a>, <a class="el" href="classRamStorageDeviceImp.html#762da630721775f9cc626a90c6fbe5db">RamStorageDeviceImp</a>, and <a class="el" href="classRootStorageDeviceImp.html#6dcfc3318a54ffdf619b3c1e237955a8">RootStorageDeviceImp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="cfda10908d9bf9c9c91bce4427acc677"></a><!-- doxytag: member="StorageDevice::GetClusterSize" ref="cfda10908d9bf9c9c91bce4427acc677" args="(UINT32 &amp;size) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual BOOLEAN StorageDevice::GetClusterSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT32 &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>size</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Retrieves the cluster size of the volume in terms of sectors via parameter <em>size</em>. It is only possible to retrieve the cluster size of physical devices. If a storage device supports removable medias and no media is inserted, the method can fail, too.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The success of the operation. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="516c38d4de2cb55fd86adfc2876d3e58"></a><!-- doxytag: member="StorageDevice::GetDefaultChunkSize" ref="516c38d4de2cb55fd86adfc2876d3e58" args="() const =0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual UINT8 StorageDevice::GetDefaultChunkSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the default chunk size for operating in chunk mode on files stored on this storage device.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classFile.html#bcdae671e255001d18aa9039f04ae2c3">File::GetChunkSize()</a> <p>
<a class="el" href="classFile.html#91e94b7e5ba4c125cf82fd6b3a760c24">File::SetChunkSize()</a> </dd></dl>

<p>
Implemented in <a class="el" href="classFatStorageDeviceImp.html#2b88440e2f29bb1f824d4ca5b01a7085">FatStorageDeviceImp</a>, <a class="el" href="classFlashStorageDeviceImp.html#29d3524c3265ff8340ed649532ed684e">FlashStorageDeviceImp</a>, <a class="el" href="classRamStorageDeviceImp.html#af674f3cc8ee0bb39116707c05df18b1">RamStorageDeviceImp</a>, and <a class="el" href="classRootStorageDeviceImp.html#865840773ddf7140c69a95526e124df8">RootStorageDeviceImp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a186b9312b8ed2cd74286ab9fa9f81d2"></a><!-- doxytag: member="StorageDevice::GetFreeVolumeSize" ref="a186b9312b8ed2cd74286ab9fa9f81d2" args="() const =0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual UINT32 StorageDevice::GetFreeVolumeSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the free volume size of the device in bytes.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The free volume size of the device in bytes. </dd></dl>

<p>
Implemented in <a class="el" href="classFatStorageDeviceImp.html#b2f6f333068ccb5c0e4102a11cd329cb">FatStorageDeviceImp</a>, <a class="el" href="classFlashStorageDeviceImp.html#899c338cfda948892e3337ee645dc9b6">FlashStorageDeviceImp</a>, <a class="el" href="classRamStorageDeviceImp.html#28f3fbd9cd4358cd4d4399e46491f877">RamStorageDeviceImp</a>, and <a class="el" href="classRootStorageDeviceImp.html#875d02de5d7c29ae069213f9d96ff81c">RootStorageDeviceImp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="719ff60fd2b9eb3ceb5e7c74be3720f4"></a><!-- doxytag: member="StorageDevice::GetId" ref="719ff60fd2b9eb3ceb5e7c74be3720f4" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const <a class="el" href="classWString.html">WString</a>&amp; StorageDevice::GetId           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the unique ID of a storage device.     </td>
  </tr>
</table>
<a class="anchor" name="2967932fcd7bcef822816b216fd41a5c"></a><!-- doxytag: member="StorageDevice::GetLastError" ref="2967932fcd7bcef822816b216fd41a5c" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual <a class="el" href="classFile.html#8c6b206914397c84793d847749a6f8e4">File::Error</a> StorageDevice::GetLastError           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the error occurred by the last operation. 
<p>
Reimplemented in <a class="el" href="classRootStorageDeviceImp.html#fdf9df17aec6238aba333e44548e8c39">RootStorageDeviceImp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="d2816654753983f52b5d045ef125db66"></a><!-- doxytag: member="StorageDevice::GetMediaAvailableStatus" ref="d2816654753983f52b5d045ef125db66" args="(BOOLEAN &amp;media_present) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual BOOLEAN StorageDevice::GetMediaAvailableStatus           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">BOOLEAN &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>media_present</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the storage media insertion status. This base implementation simply returns <code>FALSE</code>. This method has to be overridden by devices which support exchangeable medias. If the method succeeds then parameter <em>media_present</em> tells whether a storage media is inserted.<p>
<dl compact><dt><b>Returns:</b></dt><dd>Tells if the storage media insertion status could be retrieved. </dd></dl>

<p>
Reimplemented in <a class="el" href="classFatStorageDeviceImp.html#75b761464db32e09833a44676941525d">FatStorageDeviceImp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="9feb037d6d9f66b8d603c37d346b399d"></a><!-- doxytag: member="StorageDevice::GetMediaName" ref="9feb037d6d9f66b8d603c37d346b399d" args="(WString &amp;name) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN StorageDevice::GetMediaName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classWString.html">WString</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>name</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the name of the inserted storage media. This base implementation simply returns <code>FALSE</code>. This method has to be overridden by devices which support exchangeable medias.     </td>
  </tr>
</table>
<a class="anchor" name="636baa8b7611d73cfc31bf2be7c52730"></a><!-- doxytag: member="StorageDevice::GetName" ref="636baa8b7611d73cfc31bf2be7c52730" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const <a class="el" href="classWString.html">WString</a>&amp; StorageDevice::GetName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the human-readable name for the device.     </td>
  </tr>
</table>
<a class="anchor" name="17f9c26410fc7e311cde57862e850c65"></a><!-- doxytag: member="StorageDevice::GetNativeDirectoryPathname" ref="17f9c26410fc7e311cde57862e850c65" args="(const Pathname &amp;pathname) const =0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual <a class="el" href="classWString.html">WString</a> StorageDevice::GetNativeDirectoryPathname           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classPathname.html">Pathname</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pathname</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns pathname in native directory name format. The native directory name format may differ from storage device to storage device. 
<p>
Implemented in <a class="el" href="classFatStorageDeviceImp.html#215a92ddc5249acc5bba22b93ba8f8c1">FatStorageDeviceImp</a>, <a class="el" href="classFlashStorageDeviceImp.html#75b5a9e59a6dd55dacb25a4ed7fbbbef">FlashStorageDeviceImp</a>, <a class="el" href="classRamStorageDeviceImp.html#887d8dcedf0049fab3d45283c000fa42">RamStorageDeviceImp</a>, and <a class="el" href="classRootStorageDeviceImp.html#82cc504e8039b4c5a75c21905eb45c79">RootStorageDeviceImp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="b70a41f566862fb3da8b25cec92821de"></a><!-- doxytag: member="StorageDevice::GetNativeFilePathname" ref="b70a41f566862fb3da8b25cec92821de" args="(const Pathname &amp;pathname) const =0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual <a class="el" href="classWString.html">WString</a> StorageDevice::GetNativeFilePathname           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classPathname.html">Pathname</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pathname</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns pathname in native file name format. The native file name format may differ from storage device to storage device. 
<p>
Implemented in <a class="el" href="classFatStorageDeviceImp.html#1b72c3037ae2a79d0cb9c5b3df4ea0d9">FatStorageDeviceImp</a>, <a class="el" href="classFlashStorageDeviceImp.html#0201390eaf5a68046c303ed30c54ae9a">FlashStorageDeviceImp</a>, <a class="el" href="classRamStorageDeviceImp.html#42f033312191e29913f4d4e54632b060">RamStorageDeviceImp</a>, and <a class="el" href="classRootStorageDeviceImp.html#bcf6bc4a38ea240f042efa961146ef9b">RootStorageDeviceImp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="d17d03559c7df3d4f6bbf7943e9c6a35"></a><!-- doxytag: member="StorageDevice::GetNativeProperty" ref="d17d03559c7df3d4f6bbf7943e9c6a35" args="(UINT prop_id, void *val) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual BOOLEAN StorageDevice::GetNativeProperty           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>prop_id</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>val</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Retrieves the native property identified by <em>prop_id</em> via argument <em>val</em>. If the property is not supported by the native storage device (and therefore can't be retrieved) the method fails. The properties that the native storage device supports are defined by the derived class that implements the native storage device support. E.g., for knowing which properties a flash storage device supports look at the documentation of class <a class="el" href="classFlashStorageDeviceImp.html">FlashStorageDeviceImp</a>, there the respective property IDs are defined. It is crucial that the given property ID <em>prop_id</em> and the receiving value <em>val</em> really match!<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>prop_id</em>&nbsp;</td><td>ID of the native storage device property to retrieve, defined in the derived class that implements the native storage device support.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>Valid pointer to the value object that shall be set to the current value of the storage device property with id <em>prop_id</em>.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Tells if the storage device property could be retrieved. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="b6096522ea501f0a84df0f5c00f75558"></a><!-- doxytag: member="StorageDevice::GetOpenFilesCounter" ref="b6096522ea501f0a84df0f5c00f75558" args="(UINT &amp;counter) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN StorageDevice::GetOpenFilesCounter           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>counter</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the number of currently open file handles. 
<p>
Reimplemented in <a class="el" href="classRootStorageDeviceImp.html#66da7c30d36c6fab77de1692dbf9bb90">RootStorageDeviceImp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="49a78be84afa2bfd68d96396a1c6bf14"></a><!-- doxytag: member="StorageDevice::GetSectorSize" ref="49a78be84afa2bfd68d96396a1c6bf14" args="(UINT32 &amp;size) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual BOOLEAN StorageDevice::GetSectorSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT32 &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>size</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Retrieves the sector size of the volume in terms of bytes via parameter <em>size</em>. It is only possible to retrieve the sector size of physical devices. If a storage device supports removable medias and no media is inserted, the method can fail, too.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The success of the operation. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="097a7534619ace08e436852c2ec533e8"></a><!-- doxytag: member="StorageDevice::GetTotalVolumeSize" ref="097a7534619ace08e436852c2ec533e8" args="() const =0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual UINT32 StorageDevice::GetTotalVolumeSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the total volume size of the device in bytes.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The total volume size of the device in bytes. </dd></dl>

<p>
Implemented in <a class="el" href="classFatStorageDeviceImp.html#a2afce0778ab2ccef268556d38d08461">FatStorageDeviceImp</a>, <a class="el" href="classFlashStorageDeviceImp.html#04a30c6b42e71dfd5083987bf1db48a3">FlashStorageDeviceImp</a>, <a class="el" href="classRamStorageDeviceImp.html#22a47bd48988d46d2a4860723a7811b0">RamStorageDeviceImp</a>, and <a class="el" href="classRootStorageDeviceImp.html#10358cf993a30a348091c41d1610abf6">RootStorageDeviceImp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="4edb7a4c02f76e3992669a9d16b2e74c"></a><!-- doxytag: member="StorageDevice::GetUsedVolumeSize" ref="4edb7a4c02f76e3992669a9d16b2e74c" args="() const =0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual UINT32 StorageDevice::GetUsedVolumeSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the used volume size of the device in bytes. Note that this size is usually larger than the sum of the sizes of all stored files, since meta information to control the directory structure is stored on the device, too.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The used volume size of the device in bytes. </dd></dl>

<p>
Implemented in <a class="el" href="classFatStorageDeviceImp.html#cae6f631cd0692a9c3867227231bc669">FatStorageDeviceImp</a>, <a class="el" href="classFlashStorageDeviceImp.html#dd621f6dd5a0664a8fc7548ec1ebc8f5">FlashStorageDeviceImp</a>, <a class="el" href="classRamStorageDeviceImp.html#971f470153f426e563883ab34817edf0">RamStorageDeviceImp</a>, and <a class="el" href="classRootStorageDeviceImp.html#9c545ee49274789a79c4e1d57f61764a">RootStorageDeviceImp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="729140604ef3e013e4835e6afeb076fa"></a><!-- doxytag: member="StorageDevice::IncrementOpenFileCounter" ref="729140604ef3e013e4835e6afeb076fa" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void StorageDevice::IncrementOpenFileCounter           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Increments the counter of open files.     </td>
  </tr>
</table>
<a class="anchor" name="0f18f7f32a3daef3f33989694e015f0d"></a><!-- doxytag: member="StorageDevice::IsCapabilitySupported" ref="0f18f7f32a3daef3f33989694e015f0d" args="(DeviceCapability device_capability) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN StorageDevice::IsCapabilitySupported           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classStorageDevice.html#a4da1f0db9179bb92a49593ddeecb0ed">DeviceCapability</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>device_capability</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Tells if a device capability is supported.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>device_capability</em>&nbsp;</td><td>The device capability. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e5c52062a17037f13874132c15e43c71"></a><!-- doxytag: member="StorageDevice::IsDirectory" ref="e5c52062a17037f13874132c15e43c71" args="(const Pathname &amp;pathname) const =0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN StorageDevice::IsDirectory           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classPathname.html">Pathname</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pathname</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Tells if pathname is a directory. This base implementation returns <code>TRUE</code> only for the root pathname, since every storage device is at least organized in a flat manner which we interpret as having a single root directory. The method is declared as abstract for when implementing a new storage device you can't forget to deal with this issue. If the derived storage device is organized in a flat manner, then the override of this abstract method might be a simple call to this base class implementation. If a derived class supports directories then implement this method accordingly. 
<p>
Implemented in <a class="el" href="classFatStorageDeviceImp.html#236cdb5439ed651df377a10a609f727a">FatStorageDeviceImp</a>, <a class="el" href="classFlashStorageDeviceImp.html#10fe3ae112f44432b94f4e8fc2859904">FlashStorageDeviceImp</a>, <a class="el" href="classRamStorageDeviceImp.html#03c06c7238a3625fb1e97cafcd80ff23">RamStorageDeviceImp</a>, and <a class="el" href="classRootStorageDeviceImp.html#c3ab146ec2b4686735a5bcc53ffb93e6">RootStorageDeviceImp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="69b1fb730dbe1aac7864a0803b64eee0"></a><!-- doxytag: member="StorageDevice::IsReady" ref="69b1fb730dbe1aac7864a0803b64eee0" args="() const =0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual BOOLEAN StorageDevice::IsReady           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Tells if the device is ready for being accessed. 
<p>
Implemented in <a class="el" href="classFatStorageDeviceImp.html#8bdc7ad1eb59c16b3713b69748c5190c">FatStorageDeviceImp</a>, <a class="el" href="classFlashStorageDeviceImp.html#366ddbabcdc8708c818d123bbe20c70a">FlashStorageDeviceImp</a>, <a class="el" href="classRamStorageDeviceImp.html#276227c72a7e5784d63cd9877c635efb">RamStorageDeviceImp</a>, and <a class="el" href="classRootStorageDeviceImp.html#e8f3a34ec2e962fed16328e8bbe5eed6">RootStorageDeviceImp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="eeb1c685ec1f3d256d202b05bca3b99f"></a><!-- doxytag: member="StorageDevice::NotifyMediaAvailableStatus" ref="eeb1c685ec1f3d256d202b05bca3b99f" args="(BOOLEAN media_present)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void StorageDevice::NotifyMediaAvailableStatus           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">BOOLEAN&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>media_present</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Notifies the root file system about the media availability status. Argument <em>media_present</em> specifies whether a media is inserted in this storage device. The root file system reacts to this by posting an <a class="el" href="classRfsMediaAvailableStatusMsg.html">RfsMediaAvailableStatusMsg</a> to the system. Applications can register for this message and use it to display storage device icons and the like. Subclasses which support exchangeable medias have to call this method each time a media is inserted or removed. After having sent the notification message, this method calls method <a class="el" href="classStorageDevice.html#f851121e5fd2a48a4309f16b98eb3dc2">OnNotifyMediaAvailableStatus()</a>, which can be used to perform some special actions which have to be done on removal or insertion of a storage media.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>media_present</em>&nbsp;</td><td>The flag specifying whether a media is inserted or not. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="f851121e5fd2a48a4309f16b98eb3dc2"></a><!-- doxytag: member="StorageDevice::OnNotifyMediaAvailableStatus" ref="f851121e5fd2a48a4309f16b98eb3dc2" args="(BOOLEAN media_present)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void StorageDevice::OnNotifyMediaAvailableStatus           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">BOOLEAN&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>media_present</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This method has to be overridden if the specific storage device has to perform some special actions on removal or insertion of a storage media. This method is actually called by method <a class="el" href="classStorageDevice.html#eeb1c685ec1f3d256d202b05bca3b99f">NotifyMediaAvailableStatus()</a> after the notification message has been sent.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>media_present</em>&nbsp;</td><td>The flag specifying whether a media is inserted or not. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="7c9d0aee55efb310fcc2523b976f2520"></a><!-- doxytag: member="StorageDevice::Register" ref="7c9d0aee55efb310fcc2523b976f2520" args="(StorageDevicePtr device)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN StorageDevice::Register           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classNiSharedPtr.html">StorageDevicePtr</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>device</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static, protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Registers device with the root file system and returns the success of the registration.     </td>
  </tr>
</table>
<a class="anchor" name="dc083f95576712ce5264835bd36fb4d2"></a><!-- doxytag: member="StorageDevice::ScanDisk" ref="dc083f95576712ce5264835bd36fb4d2" args="(BOOLEAN do_repair=FALSE)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual <a class="el" href="classStorageDevice.html#e456a0bd032e5e1fad75be18eaf404d3">ScanResult</a> StorageDevice::ScanDisk           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">BOOLEAN&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>do_repair</em> = <code><a class="el" href="Kernel_2Types_8hpp.html#bf218ebc7e2ed90798d1f23a29b7ad09">FALSE</a></code>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This method scans the actual storage device for data integrity. It is only possible to scan physical devices. The root storage device cannot be scanned. Argument <em>do_repair</em> specifies whether it shall be tried to repair disk problems in case they are encountered.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The result code of the operation. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="85adf5c722b0e388bf93fbd39d5fb7c0"></a><!-- doxytag: member="StorageDevice::SetDeviceCapability" ref="85adf5c722b0e388bf93fbd39d5fb7c0" args="(DeviceCapability device_capability, BOOLEAN value)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void StorageDevice::SetDeviceCapability           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classStorageDevice.html#a4da1f0db9179bb92a49593ddeecb0ed">DeviceCapability</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>device_capability</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>value</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the support state of a device capability.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>device_capability</em>&nbsp;</td><td>The device capability to set. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>The support state of the device capability. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="53f8a3b3e20385f62a22a2260b112d7d"></a><!-- doxytag: member="StorageDevice::SetMediaName" ref="53f8a3b3e20385f62a22a2260b112d7d" args="(const WString &amp;name)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN StorageDevice::SetMediaName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classWString.html">WString</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>name</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the name of the inserted storage media. This base implementation simply returns <code>FALSE</code>. This method has to be overridden by devices which support exchangeable medias.     </td>
  </tr>
</table>
<a class="anchor" name="3685c070a72b93aa25d3763cc7e6a4d9"></a><!-- doxytag: member="StorageDevice::SetNativeProperty" ref="3685c070a72b93aa25d3763cc7e6a4d9" args="(UINT prop_id, const void *val)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual BOOLEAN StorageDevice::SetNativeProperty           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>prop_id</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const void *&nbsp;</td>
          <td class="mdname" nowrap> <em>val</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the native property identified by <em>prop_id</em> to value <em>val</em>. If the property is not supported by the native storage device (and therefore can't be set) the method fails. The properties that the native storage device supports are defined by the derived class that implements the native storage device support. E.g., for knowing which properties a flash storage device supports look at the documentation of class <a class="el" href="classFlashStorageDeviceImp.html">FlashStorageDeviceImp</a>, there the respective property IDs are defined. It is crucial that the given property ID <em>prop_id</em> and the passed value <em>val</em> really match!<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>prop_id</em>&nbsp;</td><td>ID of the native storage device property to set, defined in the derived class that implements the native storage device support.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>Valid pointer to the value that shall be set for storage device property with id <em>prop_id</em>.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Tells if the storage device property could be set. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="c1449644e41b092d8902c6a5f586cdcf"></a><!-- doxytag: member="StorageDevice::Shutdown" ref="c1449644e41b092d8902c6a5f586cdcf" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN StorageDevice::Shutdown           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Shuts down the storage device. Buffers are emptied by calling <a class="el" href="classStorageDevice.html#45a9e7bb96077cd17f0d3660a0be8ddd">Flush()</a> and afterwards the storage device is unregistered from the root file system. If something else has to be done on shutdown for this device, then this base method can be overridden and the additional tasks can be performed in the override. In this case please assure that this base implementation is called, too! This method has to be called in the destructor of subclasses!     </td>
  </tr>
</table>
<hr><h2>Friends And Related Function Documentation</h2>
<a class="anchor" name="68d15876ad188b7628261b12d0eac8aa"></a><!-- doxytag: member="StorageDevice::File" ref="68d15876ad188b7628261b12d0eac8aa" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">friend class <a class="el" href="classFile.html">File</a><code> [friend]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="339270f565eaa3ba5044f0458aa3b836"></a><!-- doxytag: member="StorageDevice::RootFileSystem" ref="339270f565eaa3ba5044f0458aa3b836" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">friend class <a class="el" href="classRootFileSystem.html">RootFileSystem</a><code> [friend]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Reimplemented in <a class="el" href="classFatStorageDeviceImp.html#339270f565eaa3ba5044f0458aa3b836">FatStorageDeviceImp</a>, <a class="el" href="classFlashStorageDeviceImp.html#339270f565eaa3ba5044f0458aa3b836">FlashStorageDeviceImp</a>, <a class="el" href="classRamStorageDeviceImp.html#339270f565eaa3ba5044f0458aa3b836">RamStorageDeviceImp</a>, and <a class="el" href="classRootStorageDeviceImp.html#339270f565eaa3ba5044f0458aa3b836">RootStorageDeviceImp</a>.    </td>
  </tr>
</table>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="9f7914da6026da3fffb8e61f72be15e0"></a><!-- doxytag: member="StorageDevice::m_last_error" ref="9f7914da6026da3fffb8e61f72be15e0" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classFile.html#8c6b206914397c84793d847749a6f8e4">File::Error</a> <a class="el" href="classStorageDevice.html#9f7914da6026da3fffb8e61f72be15e0">StorageDevice::m_last_error</a><code> [mutable, protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>Afs/Rfs/<a class="el" href="Afs_2Rfs_2StorageDevice_8hpp-source.html">StorageDevice.hpp</a><li>Afs/Rfs/<a class="el" href="StorageDevice_8cpp.html">StorageDevice.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jan 25 02:06:00 2006 for APOXI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO </small></address>
</body>
</html>
