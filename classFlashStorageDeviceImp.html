<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>APOXI: FlashStorageDeviceImp Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul></div>
<h1>FlashStorageDeviceImp Class Reference<br>
<small>
[<a class="el" href="group__AFSFFS.html">Flash File System support</a>]</small>
</h1><!-- doxytag: class="FlashStorageDeviceImp" --><!-- doxytag: inherits="StorageDevice" -->Storage device implementation for flash storage device.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="AddOns_2AfsFfs_2FlashStorageDeviceImp_8hpp-source.html">Apoxi/AddOns/AfsFfs/FlashStorageDeviceImp.hpp</a>&gt;</code>
<p>
Inheritance diagram for FlashStorageDeviceImp:<p><center><img src="classFlashStorageDeviceImp__inherit__graph.png" border="0" usemap="#FlashStorageDeviceImp__inherit__map" alt="Inheritance graph"></center>
<map name="FlashStorageDeviceImp__inherit__map">
<area href="classStorageDevice.html" shape="rect" coords="35,7,144,34" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for FlashStorageDeviceImp:<p><center><img src="classFlashStorageDeviceImp__coll__graph.png" border="0" usemap="#FlashStorageDeviceImp__coll__map" alt="Collaboration graph"></center>
<map name="FlashStorageDeviceImp__coll__map">
<area href="classStorageDevice.html" shape="rect" coords="216,204,325,231" alt="">
<area href="classBitVector.html" shape="rect" coords="7,98,295,124" alt="">
<area href="classBitVector.html" shape="rect" coords="96,7,205,34" alt="">
<area href="classWString.html" shape="rect" coords="319,98,388,124" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#fab9d065ce50325e13cb296e14513994">Exists</a> (const <a class="el" href="classPathname.html">Pathname</a> &amp;pathname) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#08c329c052953a1d9b1c8219bacf7106">Format</a> (BOOLEAN quick=<a class="el" href="Kernel_2Types_8hpp.html#bf218ebc7e2ed90798d1f23a29b7ad09">FALSE</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual UINT8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#29d3524c3265ff8340ed649532ed684e">GetDefaultChunkSize</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual UINT32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#899c338cfda948892e3337ee645dc9b6">GetFreeVolumeSize</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classWString.html">WString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#75b5a9e59a6dd55dacb25a4ed7fbbbef">GetNativeDirectoryPathname</a> (const <a class="el" href="classPathname.html">Pathname</a> &amp;pathname) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classWString.html">WString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#0201390eaf5a68046c303ed30c54ae9a">GetNativeFilePathname</a> (const <a class="el" href="classPathname.html">Pathname</a> &amp;pathname) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual UINT32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#04a30c6b42e71dfd5083987bf1db48a3">GetTotalVolumeSize</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual UINT32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#dd621f6dd5a0664a8fc7548ec1ebc8f5">GetUsedVolumeSize</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#10fe3ae112f44432b94f4e8fc2859904">IsDirectory</a> (const <a class="el" href="classPathname.html">Pathname</a> &amp;pathname) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#366ddbabcdc8708c818d123bbe20c70a">IsReady</a> () const </td></tr>

<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static const <a class="el" href="classWString.html">WString</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#c3f5af655a3b42458f2448784c130218">GetId</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the storage device ID string.  <a href="#c3f5af655a3b42458f2448784c130218"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classNiSharedPtr.html">DirectoryIteratorPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#89f4cae0cd23032bd60515f7969e39d3">CreateDirectoryIterator</a> (const <a class="el" href="classPathname.html">Pathname</a> &amp;dir_pathname, const <a class="el" href="classNiSharedPtr.html">FileFilterPtr</a> &amp;filter) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classNiSharedPtr.html">FilePtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#0d59c199de4b257cf880bfa22d96a455">CreateFileObject</a> (const <a class="el" href="classPathname.html">Pathname</a> &amp;pathname) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#25967ff132eb7b5bbf80d60e94c6e2d3">FlashStorageDeviceImp</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new flash storage device object.  <a href="#25967ff132eb7b5bbf80d60e94c6e2d3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#29e1ceb5341952e13a6601fcc845c5ec">~FlashStorageDeviceImp</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Static Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classFile.html#8c6b206914397c84793d847749a6f8e4">File::Error</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#67482dc2899e95fc8888327fa8fa5138">ConvertFfsErrorToFileError</a> (<a class="el" href="group__AFSFFS.html#gced0b85c1a317574853a0f1bdc9a7944">FfsError</a> ffs_error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Converts the errors delivered by the driver to Apoxi Filesystem errors.  <a href="#67482dc2899e95fc8888327fa8fa5138"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#4583d8ae70ff4527032db98b81a0315c">Setup</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#bc28e741d63dc12bda0388029fce021e">FlashDirectoryIteratorImp</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#3f5b6f97ea8fa01dcd00abf90a09d6a7">FlashFileImp</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#751e9e707f4ce67e40b29d9c251ea4c1">FlsFile</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlashStorageDeviceImp.html#339270f565eaa3ba5044f0458aa3b836">RootFileSystem</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Storage device implementation for flash storage device. 
<p>
Class <a class="el" href="classFlashStorageDeviceImp.html">FlashStorageDeviceImp</a> implements the storage device interface for using the flash file system within the root file system. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="25967ff132eb7b5bbf80d60e94c6e2d3"></a><!-- doxytag: member="FlashStorageDeviceImp::FlashStorageDeviceImp" ref="25967ff132eb7b5bbf80d60e94c6e2d3" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">FlashStorageDeviceImp::FlashStorageDeviceImp           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new flash storage device object. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="29e1ceb5341952e13a6601fcc845c5ec"></a><!-- doxytag: member="FlashStorageDeviceImp::~FlashStorageDeviceImp" ref="29e1ceb5341952e13a6601fcc845c5ec" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">FlashStorageDeviceImp::~FlashStorageDeviceImp           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destroys this flash storage device and unregisters it from the root file system.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="67482dc2899e95fc8888327fa8fa5138"></a><!-- doxytag: member="FlashStorageDeviceImp::ConvertFfsErrorToFileError" ref="67482dc2899e95fc8888327fa8fa5138" args="(FfsError ffs_error)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classFile.html#8c6b206914397c84793d847749a6f8e4">File::Error</a> FlashStorageDeviceImp::ConvertFfsErrorToFileError           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__AFSFFS.html#gced0b85c1a317574853a0f1bdc9a7944">FfsError</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ffs_error</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static, protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Converts the errors delivered by the driver to Apoxi Filesystem errors. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="89f4cae0cd23032bd60515f7969e39d3"></a><!-- doxytag: member="FlashStorageDeviceImp::CreateDirectoryIterator" ref="89f4cae0cd23032bd60515f7969e39d3" args="(const Pathname &amp;dir_pathname, const FileFilterPtr &amp;filter) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classNiSharedPtr.html">DirectoryIteratorPtr</a> FlashStorageDeviceImp::CreateDirectoryIterator           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classPathname.html">Pathname</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>dir_pathname</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classNiSharedPtr.html">FileFilterPtr</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>filter</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new directory iterator object for the specified pathname.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dir_pathname</em>&nbsp;</td><td>The pathname of the directory. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>filter</em>&nbsp;</td><td>The filter which selects the files the iterator shall return.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A DirectoryIteratorPtr wrapping either a new directory iterator object or <code>0</code> if there is not enough memory left. </dd></dl>

<p>
Implements <a class="el" href="classStorageDevice.html#147076d1cf054ac710ed8f974bb046dc">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="0d59c199de4b257cf880bfa22d96a455"></a><!-- doxytag: member="FlashStorageDeviceImp::CreateFileObject" ref="0d59c199de4b257cf880bfa22d96a455" args="(const Pathname &amp;pathname) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classNiSharedPtr.html">FilePtr</a> FlashStorageDeviceImp::CreateFileObject           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classPathname.html">Pathname</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pathname</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new file object for the specified pathname.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pathname</em>&nbsp;</td><td>The pathname.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A FilePtr wrapping either a new file object or <code>0</code> if there is not enough memory left. </dd></dl>

<p>
Implements <a class="el" href="classStorageDevice.html#ec97689f1990968c695952cbedcf67b8">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="fab9d065ce50325e13cb296e14513994"></a><!-- doxytag: member="FlashStorageDeviceImp::Exists" ref="fab9d065ce50325e13cb296e14513994" args="(const Pathname &amp;pathname) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN FlashStorageDeviceImp::Exists           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classPathname.html">Pathname</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pathname</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Tells if pathname exists. If it exists it may either be a file or a directory. 
<p>
Implements <a class="el" href="classStorageDevice.html#07d95a598ca4fad561ad07e7181dbe99">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="08c329c052953a1d9b1c8219bacf7106"></a><!-- doxytag: member="FlashStorageDeviceImp::Format" ref="08c329c052953a1d9b1c8219bacf7106" args="(BOOLEAN quick=FALSE)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN FlashStorageDeviceImp::Format           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">BOOLEAN&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>quick</em> = <code><a class="el" href="Kernel_2Types_8hpp.html#bf218ebc7e2ed90798d1f23a29b7ad09">FALSE</a></code>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This method formats the actual storage device. It is only possible to format real devices. The root storage device cannot be formatted.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The success of the operation. </dd></dl>

<p>
Implements <a class="el" href="classStorageDevice.html#bea176a6818e4172ae68950213118a81">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="29d3524c3265ff8340ed649532ed684e"></a><!-- doxytag: member="FlashStorageDeviceImp::GetDefaultChunkSize" ref="29d3524c3265ff8340ed649532ed684e" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">UINT8 FlashStorageDeviceImp::GetDefaultChunkSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the default chunk size for operating in chunk mode on files stored on this storage device.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classFile.html#bcdae671e255001d18aa9039f04ae2c3">File::GetChunkSize()</a> <p>
<a class="el" href="classFile.html#91e94b7e5ba4c125cf82fd6b3a760c24">File::SetChunkSize()</a> </dd></dl>

<p>
Implements <a class="el" href="classStorageDevice.html#516c38d4de2cb55fd86adfc2876d3e58">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="899c338cfda948892e3337ee645dc9b6"></a><!-- doxytag: member="FlashStorageDeviceImp::GetFreeVolumeSize" ref="899c338cfda948892e3337ee645dc9b6" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">UINT32 FlashStorageDeviceImp::GetFreeVolumeSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the free volume size of the device in bytes.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The free volume size of the device in bytes. </dd></dl>

<p>
Implements <a class="el" href="classStorageDevice.html#a186b9312b8ed2cd74286ab9fa9f81d2">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="c3f5af655a3b42458f2448784c130218"></a><!-- doxytag: member="FlashStorageDeviceImp::GetId" ref="c3f5af655a3b42458f2448784c130218" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const <a class="el" href="classWString.html">WString</a> &amp; FlashStorageDeviceImp::GetId           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the storage device ID string. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="75b5a9e59a6dd55dacb25a4ed7fbbbef"></a><!-- doxytag: member="FlashStorageDeviceImp::GetNativeDirectoryPathname" ref="75b5a9e59a6dd55dacb25a4ed7fbbbef" args="(const Pathname &amp;pathname) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classWString.html">WString</a> FlashStorageDeviceImp::GetNativeDirectoryPathname           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classPathname.html">Pathname</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pathname</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns pathname in native directory name format. The native directory name format may differ from storage device to storage device. 
<p>
Implements <a class="el" href="classStorageDevice.html#17f9c26410fc7e311cde57862e850c65">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="0201390eaf5a68046c303ed30c54ae9a"></a><!-- doxytag: member="FlashStorageDeviceImp::GetNativeFilePathname" ref="0201390eaf5a68046c303ed30c54ae9a" args="(const Pathname &amp;pathname) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classWString.html">WString</a> FlashStorageDeviceImp::GetNativeFilePathname           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classPathname.html">Pathname</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pathname</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns pathname in native file name format. The native file name format may differ from storage device to storage device. 
<p>
Implements <a class="el" href="classStorageDevice.html#b70a41f566862fb3da8b25cec92821de">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="04a30c6b42e71dfd5083987bf1db48a3"></a><!-- doxytag: member="FlashStorageDeviceImp::GetTotalVolumeSize" ref="04a30c6b42e71dfd5083987bf1db48a3" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">UINT32 FlashStorageDeviceImp::GetTotalVolumeSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the total volume size of the device in bytes.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The total volume size of the device in bytes. </dd></dl>

<p>
Implements <a class="el" href="classStorageDevice.html#097a7534619ace08e436852c2ec533e8">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="dd621f6dd5a0664a8fc7548ec1ebc8f5"></a><!-- doxytag: member="FlashStorageDeviceImp::GetUsedVolumeSize" ref="dd621f6dd5a0664a8fc7548ec1ebc8f5" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">UINT32 FlashStorageDeviceImp::GetUsedVolumeSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the used volume size of the device in bytes. Note that this size is usually larger than the sum of the sizes of all stored files, since meta information to control the directory structure is stored on the device, too.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The used volume size of the device in bytes. </dd></dl>

<p>
Implements <a class="el" href="classStorageDevice.html#4edb7a4c02f76e3992669a9d16b2e74c">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="10fe3ae112f44432b94f4e8fc2859904"></a><!-- doxytag: member="FlashStorageDeviceImp::IsDirectory" ref="10fe3ae112f44432b94f4e8fc2859904" args="(const Pathname &amp;pathname) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN FlashStorageDeviceImp::IsDirectory           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classPathname.html">Pathname</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pathname</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Tells if pathname is a directory. This base implementation returns <code>TRUE</code> only for the root pathname, since every storage device is at least organized in a flat manner which we interpret as having a single root directory. The method is declared as abstract for when implementing a new storage device you can't forget to deal with this issue. If the derived storage device is organized in a flat manner, then the override of this abstract method might be a simple call to this base class implementation. If a derived class supports directories then implement this method accordingly. 
<p>
Implements <a class="el" href="classStorageDevice.html#e5c52062a17037f13874132c15e43c71">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="366ddbabcdc8708c818d123bbe20c70a"></a><!-- doxytag: member="FlashStorageDeviceImp::IsReady" ref="366ddbabcdc8708c818d123bbe20c70a" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN FlashStorageDeviceImp::IsReady           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Tells if the device is ready for being accessed. 
<p>
Implements <a class="el" href="classStorageDevice.html#69b1fb730dbe1aac7864a0803b64eee0">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="4583d8ae70ff4527032db98b81a0315c"></a><!-- doxytag: member="FlashStorageDeviceImp::Setup" ref="4583d8ae70ff4527032db98b81a0315c" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN FlashStorageDeviceImp::Setup           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static, protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets up the storage device for usage. The method must be called before using the flash storage device. It can be called as many times as convenient, however, only the first call does the work. If there is a setup problem <code>FALSE</code> is returned.     </td>
  </tr>
</table>
<hr><h2>Friends And Related Function Documentation</h2>
<a class="anchor" name="bc28e741d63dc12bda0388029fce021e"></a><!-- doxytag: member="FlashStorageDeviceImp::FlashDirectoryIteratorImp" ref="bc28e741d63dc12bda0388029fce021e" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">friend class <a class="el" href="classFlashDirectoryIteratorImp.html">FlashDirectoryIteratorImp</a><code> [friend]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="3f5b6f97ea8fa01dcd00abf90a09d6a7"></a><!-- doxytag: member="FlashStorageDeviceImp::FlashFileImp" ref="3f5b6f97ea8fa01dcd00abf90a09d6a7" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">friend class <a class="el" href="classFlashFileImp.html">FlashFileImp</a><code> [friend]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="751e9e707f4ce67e40b29d9c251ea4c1"></a><!-- doxytag: member="FlashStorageDeviceImp::FlsFile" ref="751e9e707f4ce67e40b29d9c251ea4c1" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">friend class <a class="el" href="classFlsFile.html">FlsFile</a><code> [friend]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="339270f565eaa3ba5044f0458aa3b836"></a><!-- doxytag: member="FlashStorageDeviceImp::RootFileSystem" ref="339270f565eaa3ba5044f0458aa3b836" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">friend class <a class="el" href="classRootFileSystem.html">RootFileSystem</a><code> [friend]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Reimplemented from <a class="el" href="classStorageDevice.html#339270f565eaa3ba5044f0458aa3b836">StorageDevice</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>AddOns/AfsFfs/<a class="el" href="AddOns_2AfsFfs_2FlashStorageDeviceImp_8hpp-source.html">FlashStorageDeviceImp.hpp</a><li>AddOns/AfsFfs/<a class="el" href="FlashStorageDeviceImp_8cpp.html">FlashStorageDeviceImp.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jan 25 01:15:46 2006 for APOXI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO </small></address>
</body>
</html>
