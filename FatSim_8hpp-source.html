<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>APOXI: AddOns/AfsFat/FatSim.hpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>AddOns/AfsFat/FatSim.hpp</h1><a href="FatSim_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*  ------------------------------------------------------------------------</span>
<a name="l00002"></a>00002 <span class="comment">    Copyright (C) COMNEON electronic technology GmbH &amp; Co. OHG.</span>
<a name="l00003"></a>00003 <span class="comment">    All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">    ------------------------------------------------------------------------</span>
<a name="l00005"></a>00005 <span class="comment">    This document contains proprietary information belonging to COMNEON.</span>
<a name="l00006"></a>00006 <span class="comment">    Passing on and copying of this document, use and communication of its</span>
<a name="l00007"></a>00007 <span class="comment">    contents is not permitted without prior written authorisation.</span>
<a name="l00008"></a>00008 <span class="comment">    ------------------------------------------------------------------------ */</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="preprocessor">#if !defined(Apoxi_FatSim_hpp)</span>
<a name="l00011"></a><a class="code" href="FatSim_8hpp.html#a05be9d27bc234c9da3bf60ecdb9c232">00011</a> <span class="preprocessor"></span><span class="preprocessor">#define Apoxi_FatSim_hpp</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span>
<a name="l00013"></a><a class="code" href="FatSim_8hpp.html#5dd4f281954ce1405c92d62a427f839a">00013</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="FatSim_8hpp.html#5dd4f281954ce1405c92d62a427f839a">ubyte</a>;
<a name="l00014"></a><a class="code" href="FatSim_8hpp.html#7d14306b3dd8ed2968e138134117808e">00014</a> <span class="keyword">typedef</span> <span class="keywordtype">signed</span> <span class="keywordtype">short</span> <a class="code" href="FatSim_8hpp.html#7d14306b3dd8ed2968e138134117808e">sshort</a>;
<a name="l00015"></a><a class="code" href="FatSim_8hpp.html#b95f123a6c9bcfee6a343170ef8c5f69">00015</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="FatSim_8hpp.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a>;
<a name="l00016"></a><a class="code" href="FatSim_8hpp.html#ccbe241cf39621acc453f1588fd22d24">00016</a> <span class="keyword">typedef</span> <span class="keywordtype">signed</span> <span class="keywordtype">int</span> <a class="code" href="FatSim_8hpp.html#ccbe241cf39621acc453f1588fd22d24">slong</a>;
<a name="l00017"></a>00017 
<a name="l00018"></a><a class="code" href="FatSim_8hpp.html#718b4eb2652c286f4d42dc18a8e71a1a">00018</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="FatSim_8hpp.html#718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>;
<a name="l00019"></a><a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">00019</a> <span class="keyword">typedef</span> <span class="keywordtype">int</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a>;
<a name="l00020"></a>00020 
<a name="l00021"></a>00021 <span class="comment">/* We define huge to the empty string for removing the huge modifier from the</span>
<a name="l00022"></a>00022 <span class="comment">   \dwddrv\FS\src\fs.h interfaces (see below). */</span>
<a name="l00023"></a><a class="code" href="FatSim_8hpp.html#0b6aafe63dd04b17cbd5858f0f72a129">00023</a> <span class="preprocessor">#define huge</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span>
<a name="l00025"></a>00025 <span class="comment">/****************************************************************************/</span>
<a name="l00026"></a>00026 <span class="comment">/*              \dwddrv\FS\src\fs_config.h                                  */</span>
<a name="l00027"></a>00027 <span class="comment">/****************************************************************************/</span>
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="comment">/* Maximum path length. */</span>
<a name="l00030"></a><a class="code" href="FatSim_8hpp.html#2b10855c5278d825540e181e387fc814">00030</a> <span class="preprocessor">#define FS_MAXPATH        256</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span>
<a name="l00032"></a>00032 <span class="comment">/* Maximum number of open files.</span>
<a name="l00033"></a>00033 <span class="comment">   This is the number of simultaneous</span>
<a name="l00034"></a>00034 <span class="comment">   files that may be opened at one time. */</span>
<a name="l00035"></a><a class="code" href="FatSim_8hpp.html#f3c8206d687119e0f54b4952844082f0">00035</a> <span class="preprocessor">#define FS_MAX_NO_OPEN_FILES           100</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span>
<a name="l00037"></a><a class="code" href="FatSim_8hpp.html#bbcc8ab12b43a12f96426854278cd748">00037</a> <span class="preprocessor">#define FS_NOF_DEVICES 3 // This is the maximum number of device, which can be registered.</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span>
<a name="l00039"></a>00039 <span class="comment">/* Definition of the supported device types */</span>
<a name="l00040"></a><a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">00040</a> <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l00041"></a>00041 {
<a name="l00042"></a>00042     <span class="comment">// Zero is a reserved value;</span>
<a name="l00043"></a>00043     <a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85bc8ff3d91a6b2f6c726a255448316956">FS_MMCSD_DEV</a>    = 1,
<a name="l00044"></a>00044     <a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e8599b7f7d4f31c30fe393f2848a0ca49b1">FS_FTL_DEVICE1</a>,
<a name="l00045"></a>00045     <a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85587ef648b13e0832574e63b67843cc1e">FS_FFS_DEVICE</a>,
<a name="l00046"></a>00046     <span class="comment">// Insert new device types aboce this line</span>
<a name="l00047"></a>00047 
<a name="l00048"></a>00048     <span class="comment">// Form this point is special devices used in host test environment</span>
<a name="l00049"></a>00049     <a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85a5019257197dfd30303b00e570db17e0">FS_TEST_DEVICE1</a> = 240,
<a name="l00050"></a>00050     <a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e851386ae4306a70700669dc69cd90f266f">FS_TEST_DEVICE2</a>,
<a name="l00051"></a>00051     <a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e8548d5d1b0599b4b086ce447f16a9dbca7">FS_TEST_DEVICE3</a>
<a name="l00052"></a>00052 } <a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">fs_device_type</a>;
<a name="l00053"></a>00053 
<a name="l00054"></a>00054 <span class="comment">/****************************************************************************/</span>
<a name="l00055"></a>00055 <span class="comment">/*              \dwddrv\FS\src\fs_sdapi.h                                   */</span>
<a name="l00056"></a>00056 <span class="comment">/****************************************************************************/</span>
<a name="l00057"></a>00057 
<a name="l00058"></a><a class="code" href="FatSim_8hpp.html#8acffc923aee18eb92d5f87d7a402e65">00058</a> <span class="preprocessor">#define PCFD     long          </span><span class="comment">/* file desc */</span>
<a name="l00059"></a><a class="code" href="FatSim_8hpp.html#b398f33c097bb7dff299c72052b4943b">00059</a> <span class="preprocessor">#define INVALID_PCFD    -1</span>
<a name="l00060"></a>00060 <span class="preprocessor"></span>
<a name="l00061"></a>00061 <span class="comment">/*********************** CRITICAL_ERROR_HANDLER ******************************/</span>
<a name="l00062"></a>00062 <span class="comment">/* Arguments to critical_error_handler() */</span>
<a name="l00063"></a><a class="code" href="FatSim_8hpp.html#277e709a224d35c6f01296c1461d13bc">00063</a> <span class="preprocessor">#define CRERR_BAD_FORMAT        301</span>
<a name="l00064"></a><a class="code" href="FatSim_8hpp.html#c89bbd2581e94adfb4f2caa061eb4456">00064</a> <span class="preprocessor"></span><span class="preprocessor">#define CRERR_NO_MEDIA           302</span>
<a name="l00065"></a><a class="code" href="FatSim_8hpp.html#b6bb3db280f661840c9f093c4ce662b9">00065</a> <span class="preprocessor"></span><span class="preprocessor">#define CRERR_BAD_MEDIA          303</span>
<a name="l00066"></a><a class="code" href="FatSim_8hpp.html#93b18afcbddc549a6ee880cdb0605a23">00066</a> <span class="preprocessor"></span><span class="preprocessor">#define CRERR_MEDIA_CHANGED      304</span>
<a name="l00067"></a><a class="code" href="FatSim_8hpp.html#0dc1b79d141f7730e31e515e2d838054">00067</a> <span class="preprocessor"></span><span class="preprocessor">#define CRERR_MEDIA_FAILURE      305</span>
<a name="l00068"></a><a class="code" href="FatSim_8hpp.html#9fc78ed7e36a5d88113a65dfbb78bd9b">00068</a> <span class="preprocessor"></span><span class="preprocessor">#define CRERR_ID_ERROR          306</span>
<a name="l00069"></a><a class="code" href="FatSim_8hpp.html#3cd4e71a3f53c858e8d0b53a7a60267d">00069</a> <span class="preprocessor"></span><span class="preprocessor">#define CRERR_ECC_ERROR         307</span>
<a name="l00070"></a>00070 <span class="preprocessor"></span>
<a name="l00071"></a>00071 <span class="comment">/* Date stamp structure */</span>
<a name="l00072"></a><a class="code" href="structDateStr.html">00072</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structDateStr.html">datestr</a> {
<a name="l00073"></a><a class="code" href="structDateStr.html#8eac27980a091e1c9943882f44649403">00073</a>     <a class="code" href="FatSim_8hpp.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a> <a class="code" href="structDateStr.html#8eac27980a091e1c9943882f44649403">date</a>;            <span class="comment">/* Current Date */</span>
<a name="l00074"></a><a class="code" href="structDateStr.html#a9b2ace5ae0bc52cb0ae62a2f3764298">00074</a>     <a class="code" href="FatSim_8hpp.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a> <a class="code" href="structDateStr.html#a9b2ace5ae0bc52cb0ae62a2f3764298">time</a>;            <span class="comment">/* Current time */</span>
<a name="l00075"></a>00075 } <a class="code" href="structDateStr.html">DATESTR</a>;
<a name="l00076"></a>00076 
<a name="l00077"></a>00077 <span class="comment">/* Structure for user to do recursive search for files in a selected drive */</span>
<a name="l00078"></a><a class="code" href="structdstat.html">00078</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdstat.html">dstat</a> {
<a name="l00079"></a><a class="code" href="structdstat.html#b1986343c3feeab74870e7944926c765">00079</a>    <span class="keywordtype">char</span>    <a class="code" href="structdstat.html#b1986343c3feeab74870e7944926c765">fname</a>[10];      <span class="comment">/* Null terminated file and extension */</span>
<a name="l00080"></a><a class="code" href="structdstat.html#659f3b69a37d0dabe948f6ca1d2b0c8a">00080</a>    <span class="keywordtype">char</span>    <a class="code" href="structdstat.html#659f3b69a37d0dabe948f6ca1d2b0c8a">fext</a>[4];
<a name="l00081"></a><a class="code" href="structdstat.html#73816e7d9f716d310594c64091086c5b">00081</a>    <a class="code" href="FatSim_8hpp.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a>  <a class="code" href="structdstat.html#73816e7d9f716d310594c64091086c5b">fattribute</a>;     <span class="comment">/* File attributes */</span>
<a name="l00082"></a><a class="code" href="structdstat.html#1707db3e9f5af311a66cd46232645a00">00082</a>    <a class="code" href="FatSim_8hpp.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a>  <a class="code" href="structdstat.html#1707db3e9f5af311a66cd46232645a00">ftime</a>;          <span class="comment">/* Time &amp; Date last modified. See date */</span>
<a name="l00083"></a><a class="code" href="structdstat.html#6b7b93f6491cbaa3164f946a5cf0e2ca">00083</a>    <a class="code" href="FatSim_8hpp.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a>  <a class="code" href="structdstat.html#6b7b93f6491cbaa3164f946a5cf0e2ca">fdate</a>;          <span class="comment">/* and time handlers for getting info */</span>
<a name="l00084"></a><a class="code" href="structdstat.html#f00064d9a047ad2c9a32e05ac70d28f7">00084</a>    <a class="code" href="FatSim_8hpp.html#718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>   <a class="code" href="structdstat.html#f00064d9a047ad2c9a32e05ac70d28f7">fsize</a>;          <span class="comment">/* File size */</span>
<a name="l00085"></a><a class="code" href="structdstat.html#15cdd1f18f94069fd1e4f540036f5ff9">00085</a>    <a class="code" href="FatSim_8hpp.html#7d14306b3dd8ed2968e138134117808e">sshort</a>  <a class="code" href="structdstat.html#15cdd1f18f94069fd1e4f540036f5ff9">driveno</a>;
<a name="l00086"></a><a class="code" href="structdstat.html#56074128686a2811fa66abdb53deb3ba">00086</a>    <span class="keywordtype">char</span>    <a class="code" href="structdstat.html#56074128686a2811fa66abdb53deb3ba">longFileName</a>[<a class="code" href="FatSim_8hpp.html#2b10855c5278d825540e181e387fc814">FS_MAXPATH</a>];
<a name="l00087"></a><a class="code" href="structdstat.html#2a17b35f4dccfbbdb8c3e077fcf23357">00087</a>    <span class="keywordtype">char</span>    <a class="code" href="structdstat.html#2a17b35f4dccfbbdb8c3e077fcf23357">pname</a>[10];      <span class="comment">/* Pattern. */</span>
<a name="l00088"></a><a class="code" href="structdstat.html#9a6b59cf1d50064c99e11dce50d33224">00088</a>    <span class="keywordtype">char</span>    <a class="code" href="structdstat.html#9a6b59cf1d50064c99e11dce50d33224">pext</a>[4];
<a name="l00089"></a><a class="code" href="structdstat.html#5d30f89fab79a57709f0782f7f6f57f0">00089</a>    <span class="keywordtype">char</span>    <a class="code" href="structdstat.html#5d30f89fab79a57709f0782f7f6f57f0">path</a>[<a class="code" href="FatSim_8hpp.html#2b10855c5278d825540e181e387fc814">FS_MAXPATH</a>];
<a name="l00090"></a><a class="code" href="structdstat.html#b8e03ffd1abd72b5b6c907e3ddc6f1d2">00090</a>    <span class="keywordtype">char</span>    <a class="code" href="structdstat.html#b8e03ffd1abd72b5b6c907e3ddc6f1d2">plongFileName</a>[<a class="code" href="FatSim_8hpp.html#2b10855c5278d825540e181e387fc814">FS_MAXPATH</a>];
<a name="l00091"></a><a class="code" href="structdstat.html#01ee1badad22108d81f34a012acc2810">00091</a>    <span class="keywordtype">void</span>    *<a class="code" href="structdstat.html#01ee1badad22108d81f34a012acc2810">pobj</a>;
<a name="l00092"></a><a class="code" href="structdstat.html#1fc37bb93c858c13b9240e3dbd0a6a09">00092</a>    <span class="keywordtype">void</span>    *<a class="code" href="structdstat.html#1fc37bb93c858c13b9240e3dbd0a6a09">pmom</a>;
<a name="l00093"></a>00093 } <a class="code" href="structdstat.html">DSTAT</a>;
<a name="l00094"></a>00094 
<a name="l00095"></a>00095 <span class="comment">/****************************************************************************/</span>
<a name="l00096"></a>00096 <span class="comment">/**************************** FILE SYSTEM API *******************************/</span>
<a name="l00097"></a>00097 <span class="comment">/****************************************************************************/</span>
<a name="l00098"></a>00098 
<a name="l00099"></a><a class="code" href="FatSim_8hpp.html#5d9188455abfd5f2dad0f8b9dae90019">00099</a> <span class="preprocessor">#define ARDONLY         0x01    </span><span class="comment">/* MS-DOS File attributes */</span>
<a name="l00100"></a><a class="code" href="FatSim_8hpp.html#d45f0df419979f44820a6aaab6e950fa">00100</a> <span class="preprocessor">#define AHIDDEN         0x02</span>
<a name="l00101"></a><a class="code" href="FatSim_8hpp.html#093c06149d9e1bd049faf14f06aac2b4">00101</a> <span class="preprocessor"></span><span class="preprocessor">#define ASYSTEM         0x04</span>
<a name="l00102"></a><a class="code" href="FatSim_8hpp.html#b1b61a6b5064bdfff99efbc847cb9fdc">00102</a> <span class="preprocessor"></span><span class="preprocessor">#define AVOLUME         0x08</span>
<a name="l00103"></a><a class="code" href="FatSim_8hpp.html#0d5016c2939a63b1bde011391c21cfac">00103</a> <span class="preprocessor"></span><span class="preprocessor">#define ADIRENT         0x10</span>
<a name="l00104"></a><a class="code" href="FatSim_8hpp.html#16f293f5117d4ab69140566862a352ca">00104</a> <span class="preprocessor"></span><span class="preprocessor">#define ARCHIVE         0x20</span>
<a name="l00105"></a><a class="code" href="FatSim_8hpp.html#f4444886b1ce7c996398a34a5d72cf84">00105</a> <span class="preprocessor"></span><span class="preprocessor">#define ANORMAL         0x00</span>
<a name="l00106"></a><a class="code" href="FatSim_8hpp.html#f068ed68a7691e6f2eef7738a2760e68">00106</a> <span class="preprocessor"></span><span class="preprocessor">#define CHICAGO_EXT     0x0F    </span><span class="comment">/* Chicago extended filename attribute */</span>
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 <span class="comment">/*</span>
<a name="l00109"></a>00109 <span class="comment">** Structure for use by with file statistic.</span>
<a name="l00110"></a>00110 <span class="comment">** Portions of this structure and the macros were lifted from BSD sources.</span>
<a name="l00111"></a>00111 <span class="comment">** See the RTFS ANSI library for BSD terms &amp; conditions.</span>
<a name="l00112"></a>00112 <span class="comment">*/</span>
<a name="l00113"></a><a class="code" href="structfs__stat.html">00113</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfs__stat.html">fs_stat</a>
<a name="l00114"></a>00114 {
<a name="l00115"></a><a class="code" href="structfs__stat.html#f854cca9f0692c38d44096d68b860ed6">00115</a>     <a class="code" href="FatSim_8hpp.html#718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>   <a class="code" href="structfs__stat.html#f854cca9f0692c38d44096d68b860ed6">st_mode</a>;        <span class="comment">/* (see S_xxxx below) */</span>
<a name="l00116"></a><a class="code" href="structfs__stat.html#f929bf9eeb85974833d3c3cea4b1f901">00116</a>     <a class="code" href="FatSim_8hpp.html#718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>   <a class="code" href="structfs__stat.html#f929bf9eeb85974833d3c3cea4b1f901">st_size</a>;        <span class="comment">/* file size, in bytes */</span>
<a name="l00117"></a><a class="code" href="structfs__stat.html#5a60f54b73d1ecdc1973c7c88e5d6eb8">00117</a>     <a class="code" href="FatSim_8hpp.html#ccbe241cf39621acc453f1588fd22d24">slong</a>    <a class="code" href="structfs__stat.html#5a60f54b73d1ecdc1973c7c88e5d6eb8">st_blksize</a>;     <span class="comment">/* optimal blocksize for I/O (cluster size) */</span>
<a name="l00118"></a><a class="code" href="structfs__stat.html#8fa5a5722ec787ff7de7e1cf6aada7b2">00118</a>     <a class="code" href="FatSim_8hpp.html#ccbe241cf39621acc453f1588fd22d24">slong</a>    <a class="code" href="structfs__stat.html#8fa5a5722ec787ff7de7e1cf6aada7b2">st_blocks</a>;      <span class="comment">/* blocks allocated for file */</span>
<a name="l00119"></a><a class="code" href="structfs__stat.html#800f645a59c87c03e74eaef838ca22ed">00119</a>     <a class="code" href="structDateStr.html">DATESTR</a> <a class="code" href="structfs__stat.html#800f645a59c87c03e74eaef838ca22ed">st_atime</a>;       <span class="comment">/* last access (all times are the same) */</span>
<a name="l00120"></a><a class="code" href="structfs__stat.html#c9c5f38c5f344ccadc50c4fd1978a8d9">00120</a>     <a class="code" href="structDateStr.html">DATESTR</a> <a class="code" href="structfs__stat.html#c9c5f38c5f344ccadc50c4fd1978a8d9">st_mtime</a>;       <span class="comment">/* last modification */</span>
<a name="l00121"></a><a class="code" href="structfs__stat.html#353b0ddac5d4c00a92b6c47640e67c60">00121</a>     <a class="code" href="structDateStr.html">DATESTR</a> <a class="code" href="structfs__stat.html#353b0ddac5d4c00a92b6c47640e67c60">st_ctime</a>;       <span class="comment">/* last file status change */</span>
<a name="l00122"></a><a class="code" href="structfs__stat.html#e68b84ae1b7c0a7fe6701a7da69ae718">00122</a>     <a class="code" href="FatSim_8hpp.html#7d14306b3dd8ed2968e138134117808e">sshort</a>   <a class="code" href="structfs__stat.html#e68b84ae1b7c0a7fe6701a7da69ae718">st_dev</a>;         <span class="comment">/* (drive number, rtfs) */</span>
<a name="l00123"></a><a class="code" href="structfs__stat.html#210d21200d83bf3bb817d8087036b24e">00123</a>     <a class="code" href="FatSim_8hpp.html#7d14306b3dd8ed2968e138134117808e">sshort</a>   <a class="code" href="structfs__stat.html#210d21200d83bf3bb817d8087036b24e">st_ino</a>;         <span class="comment">/* inode number (0) */</span>
<a name="l00124"></a><a class="code" href="structfs__stat.html#c84d512f57fceea849f70dbbe2edc3df">00124</a>     <a class="code" href="FatSim_8hpp.html#7d14306b3dd8ed2968e138134117808e">sshort</a>   <a class="code" href="structfs__stat.html#c84d512f57fceea849f70dbbe2edc3df">st_nlink</a>;       <span class="comment">/* (always 1) */</span>
<a name="l00125"></a><a class="code" href="structfs__stat.html#dbf18d2eae677e597c60e1ae19ec280e">00125</a>     <a class="code" href="FatSim_8hpp.html#7d14306b3dd8ed2968e138134117808e">sshort</a>   <a class="code" href="structfs__stat.html#dbf18d2eae677e597c60e1ae19ec280e">st_rdev</a>;        <span class="comment">/* (drive number, rtfs) */</span>
<a name="l00126"></a><a class="code" href="structfs__stat.html#9de68c0d64b6f2a7ae066fcab7a544f8">00126</a>     <a class="code" href="FatSim_8hpp.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a>  <a class="code" href="structfs__stat.html#9de68c0d64b6f2a7ae066fcab7a544f8">fattribute</a>;     <span class="comment">/* File attributes - DOS attributes</span>
<a name="l00127"></a>00127 <span class="comment">                            (non standard but useful)</span>
<a name="l00128"></a>00128 <span class="comment">                            */</span>
<a name="l00129"></a><a class="code" href="structfs__stat.html#773ea5638e30b36f71c4e8f889bb771d">00129</a>     <a class="code" href="FatSim_8hpp.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a>  <a class="code" href="structfs__stat.html#773ea5638e30b36f71c4e8f889bb771d">padding</a>;
<a name="l00130"></a>00130 } <a class="code" href="structfs__stat.html">STAT</a>;
<a name="l00131"></a>00131 
<a name="l00132"></a>00132 <span class="comment">/* File creation permissions for open */</span>
<a name="l00133"></a>00133 <span class="comment">/* Note: OCTAL */</span>
<a name="l00134"></a><a class="code" href="FatSim_8hpp.html#d36eee4b8cd8d617e240c5e189d0b4e7">00134</a> <span class="preprocessor">#define PS_IWRITE       0000400 </span><span class="comment">/* Write permitted  */</span>
<a name="l00135"></a><a class="code" href="FatSim_8hpp.html#1dc8a3dc8ce37f3ea121b989bb74680c">00135</a> <span class="preprocessor">#define PS_IREAD        0000200 </span><span class="comment">/* Read permitted. (Always true anyway) */</span>
<a name="l00136"></a>00136 
<a name="l00137"></a>00137 <span class="comment">/* File access flags */</span>
<a name="l00138"></a><a class="code" href="FatSim_8hpp.html#e7cabb3d39975ec9b2ee897a4da3878e">00138</a> <span class="preprocessor">#define PO_RDONLY       0x0000 </span><span class="comment">/* Open for read only */</span>
<a name="l00139"></a><a class="code" href="FatSim_8hpp.html#066e70a8b6a597a03881bc7eda933ebf">00139</a> <span class="preprocessor">#define PO_WRONLY       0x0001 </span><span class="comment">/* Open for write only */</span>
<a name="l00140"></a><a class="code" href="FatSim_8hpp.html#b477374b6c48d615c2cb64c2de8adaa7">00140</a> <span class="preprocessor">#define PO_RDWR         0x0002 </span><span class="comment">/* Read/write access allowed. */</span>
<a name="l00141"></a><a class="code" href="FatSim_8hpp.html#c451cf04a48b6dfadc0e92904626c622">00141</a> <span class="preprocessor">#define PO_CREAT        0x0100 </span><span class="comment">/* Create the file if it does not exist. */</span>
<a name="l00142"></a><a class="code" href="FatSim_8hpp.html#1c77ccc04b78c21d16c35a765cb9e48a">00142</a> <span class="preprocessor">#define PO_TRUNC        0x0200 </span><span class="comment">/* Truncate the file if it already exists */</span>
<a name="l00143"></a><a class="code" href="FatSim_8hpp.html#e3e6c47c9b7fc1d0d2f978d363e0940f">00143</a> <span class="preprocessor">#define PO_EXCL         0x0400 </span><span class="comment">/* Fail if creating and already exists */</span>
<a name="l00144"></a><a class="code" href="FatSim_8hpp.html#5f428339717d894102d630dfcabcc9b7">00144</a> <span class="preprocessor">#define PO_APPEND       0x0800 </span><span class="comment">/* Seek to eof on each write */</span>
<a name="l00145"></a><a class="code" href="FatSim_8hpp.html#15ab5faf0479c446d443a1aecdab2cba">00145</a> <span class="preprocessor">#define PO_TEXT         0x4000 </span><span class="comment">/* Ignored */</span>
<a name="l00146"></a><a class="code" href="FatSim_8hpp.html#ab4018bf9b35949d1ae2e0a763610ed5">00146</a> <span class="preprocessor">#define PO_BINARY       0x8000 </span><span class="comment">/* Ignored. All file access is binary */</span>
<a name="l00147"></a><a class="code" href="FatSim_8hpp.html#50f60e2d40461ff2cf218ab5e8386561">00147</a> <span class="preprocessor">#define PO_NOSHAREANY   0x0010 </span><span class="comment">/* Wants this open to fail if already open.</span>
<a name="l00148"></a>00148 <span class="comment">                                  Other opens will fail while this open</span>
<a name="l00149"></a>00149 <span class="comment">                                  is active */</span>
<a name="l00150"></a><a class="code" href="FatSim_8hpp.html#6266a9929e3bf6bedac5e722740b8d05">00150</a> <span class="preprocessor">#define PO_NOSHAREWRITE 0x0020 </span><span class="comment">/* Wants this opens to fail if already open</span>
<a name="l00151"></a>00151 <span class="comment">                                  for write. Other open for write calls</span>
<a name="l00152"></a>00152 <span class="comment">                                  will fail while this open is active. */</span>
<a name="l00153"></a>00153 
<a name="l00154"></a>00154 <span class="comment">/* ErrNO values */</span>
<a name="l00155"></a><a class="code" href="FatSim_8hpp.html#4edc9b2a03c55a2a49b7c0592fbdca15">00155</a> <span class="preprocessor">#define PESUCCESS       1       </span><span class="comment">/* No error */</span>
<a name="l00156"></a><a class="code" href="FatSim_8hpp.html#9e591ce3c64a21696470a2a876f79226">00156</a> <span class="preprocessor">#define PENOENT         2       </span><span class="comment">/* File not found or path to file not found */</span>
<a name="l00157"></a><a class="code" href="FatSim_8hpp.html#e640ae8b0a45efcef2fe0b142e57d9ea">00157</a> <span class="preprocessor">#define PEBADF          9       </span><span class="comment">/* Invalid file descriptor */</span>
<a name="l00158"></a><a class="code" href="FatSim_8hpp.html#d28d9977b489de305a863221a337f8d4">00158</a> <span class="preprocessor">#define PEACCES         13      </span><span class="comment">/* Attempt to open a read only file or a special (directory) */</span>
<a name="l00159"></a><a class="code" href="FatSim_8hpp.html#a33df30b60d2de5b88ee76e43c741a5d">00159</a> <span class="preprocessor">#define PEEXIST         17      </span><span class="comment">/* Exclusive access requested but file already exists. */</span>
<a name="l00160"></a><a class="code" href="FatSim_8hpp.html#d21e7dbbd6f909277cd697fa0974ce9b">00160</a> <span class="preprocessor">#define PEFAULT         18      </span><span class="comment">/* Unknown error. */</span>
<a name="l00161"></a><a class="code" href="FatSim_8hpp.html#600bc1ac1f93c0f3b533d5be51c0cc3d">00161</a> <span class="preprocessor">#define PEIO            19      </span><span class="comment">/* I/O error.. */</span>
<a name="l00162"></a><a class="code" href="FatSim_8hpp.html#bc032731efbaa116a61fb723f07b85ff">00162</a> <span class="preprocessor">#define PEINVAL         22      </span><span class="comment">/* Seek to negative file pointer attempted. */</span>
<a name="l00163"></a><a class="code" href="FatSim_8hpp.html#34143f1b65f72b33133ff8d66e6d7bd3">00163</a> <span class="preprocessor">#define PEMFILE         24      </span><span class="comment">/* No file descriptors available (too many files open) */</span>
<a name="l00164"></a><a class="code" href="FatSim_8hpp.html#2b3e893a482ecb8ff01aa54b312839e1">00164</a> <span class="preprocessor">#define PENOSPC         28      </span><span class="comment">/* Write failed. Presumably because of no space */</span>
<a name="l00165"></a><a class="code" href="FatSim_8hpp.html#cfeefcd68379516dabc12c678bbece95">00165</a> <span class="preprocessor">#define PESHARE         30      </span><span class="comment">/* Open failed do to sharing */</span>
<a name="l00166"></a><a class="code" href="FatSim_8hpp.html#40b2cc1a025a27e130c48246e9d72805">00166</a> <span class="preprocessor">#define PEDEVICE        31      </span><span class="comment">/* No Valid Disk Present */</span>
<a name="l00167"></a>00167 
<a name="l00168"></a>00168 <span class="comment">/* Arguments to SEEK */</span>
<a name="l00169"></a><a class="code" href="FatSim_8hpp.html#fb08af891d79e3867b18f3ffbcc3a4af">00169</a> <span class="preprocessor">#define PSEEK_SET       0       </span><span class="comment">/* offset from begining of file */</span>
<a name="l00170"></a><a class="code" href="FatSim_8hpp.html#a3bfbec9587f9b48bac3fccdfebd1455">00170</a> <span class="preprocessor">#define PSEEK_CUR       1       </span><span class="comment">/* offset from current file pointer */</span>
<a name="l00171"></a><a class="code" href="FatSim_8hpp.html#d3905b5116e10f4b9b52f4c5b308af08">00171</a> <span class="preprocessor">#define PSEEK_END       2       </span><span class="comment">/* offset from end of file */</span>
<a name="l00172"></a>00172 
<a name="l00173"></a>00173 <span class="comment">/****************************************************************************/</span>
<a name="l00174"></a>00174 <span class="comment">/*              \dwddrv\FS\src\fs.h                                         */</span>
<a name="l00175"></a>00175 <span class="comment">/****************************************************************************/</span>
<a name="l00176"></a>00176 
<a name="l00177"></a>00177 <span class="comment">// FS error codes:</span>
<a name="l00178"></a><a class="code" href="FatSim_8hpp.html#fe778a626228172798c116f2d527e0fe">00178</a> <span class="preprocessor">#define FS_FAILURE                     0</span>
<a name="l00179"></a><a class="code" href="FatSim_8hpp.html#8b146bf8cfe8e2567175cbdd36865e55">00179</a> <span class="preprocessor"></span><span class="preprocessor">#define FS_SUCCESS                     1</span>
<a name="l00180"></a><a class="code" href="FatSim_8hpp.html#71824b5979c15c5a3977ba70468d3279">00180</a> <span class="preprocessor"></span><span class="preprocessor">#define FS_ERR_OPERATION_NOT_POSSIBLE  3</span>
<a name="l00181"></a><a class="code" href="FatSim_8hpp.html#4375479c3b441cb7f4e8a1b409b64b57">00181</a> <span class="preprocessor"></span><span class="preprocessor">#define FS_ERR_USER_ID_ERROR           4</span>
<a name="l00182"></a>00182 <span class="preprocessor"></span>
<a name="l00183"></a>00183 <span class="comment">/*********************** CRITICAL_ERROR_HANDLER ******************************/</span>
<a name="l00184"></a>00184 <span class="comment">/* Arguments to critical_error_handler() */</span>
<a name="l00185"></a><a class="code" href="FatSim_8hpp.html#427a398ceb53e26b7592e4359af480bc">00185</a> <span class="preprocessor">#define FS_ERR_BAD_FORMAT              CRERR_BAD_FORMAT        //301</span>
<a name="l00186"></a><a class="code" href="FatSim_8hpp.html#62c1f4a90073d21243fc8b771031d94c">00186</a> <span class="preprocessor"></span><span class="preprocessor">#define FS_ERR_NO_MEDIA                CRERR_NO_MEDIA         //302</span>
<a name="l00187"></a><a class="code" href="FatSim_8hpp.html#371ad3394583d0f11e716f93e512c34f">00187</a> <span class="preprocessor"></span><span class="preprocessor">#define FS_ERR_BAD_MEDIA               CRERR_BAD_MEDIA        //303</span>
<a name="l00188"></a><a class="code" href="FatSim_8hpp.html#875be8ed3a22824aa6d9c329b94a29a8">00188</a> <span class="preprocessor"></span><span class="preprocessor">#define FS_ERR_MEDIA_CHANGED           CRERR_MEDIA_CHANGED    //304</span>
<a name="l00189"></a><a class="code" href="FatSim_8hpp.html#4f4627feb16100421a54a84f9ed64706">00189</a> <span class="preprocessor"></span><span class="preprocessor">#define FS_ERR_MEDIA_FAILURE           CRERR_MEDIA_FAILURE    //305</span>
<a name="l00190"></a><a class="code" href="FatSim_8hpp.html#b48e14ba297ba25e522bb348f3f52ee8">00190</a> <span class="preprocessor"></span><span class="preprocessor">#define FS_ERR_ID_ERROR                CRERR_ID_ERROR          //306</span>
<a name="l00191"></a><a class="code" href="FatSim_8hpp.html#da6b69d65a3c1bc61e77298d7ddacfba">00191</a> <span class="preprocessor"></span><span class="preprocessor">#define FS_ERR_ECC_ERROR               CRERR_ECC_ERROR         //307</span>
<a name="l00192"></a>00192 <span class="preprocessor"></span>
<a name="l00193"></a>00193 <span class="comment">/* Filesystem Errno values */</span>
<a name="l00194"></a><a class="code" href="FatSim_8hpp.html#ec26d46ad0f60d8c6abc907a1670966d">00194</a> <span class="preprocessor">#define FS_ERR_NOENT                   PENOENT  //  2      </span><span class="comment">/* File not found or path to file not found */</span>
<a name="l00195"></a><a class="code" href="FatSim_8hpp.html#18e93751c79da3d08e1179594f36698a">00195</a> <span class="preprocessor">#define FS_ERR_BADF                    PEBADF   //  9      </span><span class="comment">/* Invalid file descriptor */</span>
<a name="l00196"></a><a class="code" href="FatSim_8hpp.html#94d61429beccf7e07b468b0000199f8a">00196</a> <span class="preprocessor">#define FS_ERR_ACCES                   PEACCES  // 13      </span><span class="comment">/* Attempt to open a read only file or a special (directory) */</span>
<a name="l00197"></a><a class="code" href="FatSim_8hpp.html#cdd861c2f7ffef677c80e841ed5ae168">00197</a> <span class="preprocessor">#define FS_ERR_EXIST                   PEEXIST  // 17      </span><span class="comment">/* Exclusive access requested but file already exists. */</span>
<a name="l00198"></a><a class="code" href="FatSim_8hpp.html#5f3aa9df90ff1d073eb5ba0521e4523a">00198</a> <span class="preprocessor">#define FS_ERR_FAULT                   PEFAULT  // 18      </span><span class="comment">/* Unknown error. */</span>
<a name="l00199"></a><a class="code" href="FatSim_8hpp.html#712002c8f2df3415fcf4f09b3be3657c">00199</a> <span class="preprocessor">#define FS_ERR_IO                      PEIO     // 19      </span><span class="comment">/* I/O error. */</span>
<a name="l00200"></a><a class="code" href="FatSim_8hpp.html#aa8fd5291d5bdce46d53a4d05aea3e97">00200</a> <span class="preprocessor">#define FS_ERR_INVAL                   PEINVAL  // 22      </span><span class="comment">/* Seek to negative file pointer attempted. */</span>
<a name="l00201"></a><a class="code" href="FatSim_8hpp.html#c4ae473383ede37caf9247da9a698f5e">00201</a> <span class="preprocessor">#define FS_ERR_MFILE                   PEMFILE  // 24      </span><span class="comment">/* No file descriptors available (too many files open) */</span>
<a name="l00202"></a><a class="code" href="FatSim_8hpp.html#8890091eb7b07fb4e0fc031b528551a4">00202</a> <span class="preprocessor">#define FS_ERR_NOSPC                   PENOSPC  // 28      </span><span class="comment">/* Write failed. Presumably because of no space */</span>
<a name="l00203"></a><a class="code" href="FatSim_8hpp.html#a6ad10477ffb9edbf1142b213b366321">00203</a> <span class="preprocessor">#define FS_ERR_SHARE                   PESHARE  // 30      </span><span class="comment">/* Open failed do to sharing */</span>
<a name="l00204"></a><a class="code" href="FatSim_8hpp.html#ed6e2d2312ea9611be90a4802410a6fe">00204</a> <span class="preprocessor">#define FS_ERR_DEVICE                  PEDEVICE // 31      </span><span class="comment">/* No Valid Disk Present */</span>
<a name="l00205"></a>00205 
<a name="l00206"></a>00206 <span class="comment">/* Arguments to SEEK */</span>
<a name="l00207"></a><a class="code" href="FatSim_8hpp.html#5b33d405a458db1db212d345b21454f8">00207</a> <span class="preprocessor">#define FS_SEEK_SET                    PSEEK_SET       </span><span class="comment">/* offset from begining of file */</span>
<a name="l00208"></a><a class="code" href="FatSim_8hpp.html#cf310c560f9076b5b4b6ab4192147211">00208</a> <span class="preprocessor">#define FS_SEEK_CUR                    PSEEK_CUR       </span><span class="comment">/* offset from current file pointer */</span>
<a name="l00209"></a><a class="code" href="FatSim_8hpp.html#ea9734cc236a73aefd3b35444d08d39d">00209</a> <span class="preprocessor">#define FS_SEEK_END                    PSEEK_END       </span><span class="comment">/* offset from end of file */</span>
<a name="l00210"></a>00210 
<a name="l00211"></a>00211 <span class="comment">/* File open flags */</span>
<a name="l00212"></a><a class="code" href="FatSim_8hpp.html#282024f5c039fe0c4137d1aa5b8c9ddf">00212</a> <span class="preprocessor">#define FS_RDONLY                      PO_RDONLY       </span><span class="comment">/* Open for read only */</span>
<a name="l00213"></a><a class="code" href="FatSim_8hpp.html#d2da612795b549a9897008d186fd0c06">00213</a> <span class="preprocessor">#define FS_WRONLY                      PO_WRONLY       </span><span class="comment">/* Open for write only */</span>
<a name="l00214"></a><a class="code" href="FatSim_8hpp.html#0e993fc439ace9c5f6328e97233ab884">00214</a> <span class="preprocessor">#define FS_RDWR                        PO_RDWR         </span><span class="comment">/* Read/write access allowed. */</span>
<a name="l00215"></a><a class="code" href="FatSim_8hpp.html#769cf3391a06620a2f0965fb2831595f">00215</a> <span class="preprocessor">#define FS_APPEND                      PO_APPEND       </span><span class="comment">/* Seek to eof on each write */</span>
<a name="l00216"></a><a class="code" href="FatSim_8hpp.html#9621bfa06908d4708e1fe8132d06c09c">00216</a> <span class="preprocessor">#define FS_CREAT                       PO_CREAT        </span><span class="comment">/* Create the file if it does not exist. */</span>
<a name="l00217"></a><a class="code" href="FatSim_8hpp.html#1f5b610d5fc385e926f9e354d503c46b">00217</a> <span class="preprocessor">#define FS_TRUNC                       PO_TRUNC        </span><span class="comment">/* Truncate the file if it already exists */</span>
<a name="l00218"></a><a class="code" href="FatSim_8hpp.html#adbcf66c8c3be5a877799458acca4d05">00218</a> <span class="preprocessor">#define FS_EXCL                        PO_EXCL         </span><span class="comment">/* Fail if creating and already exists */</span>
<a name="l00219"></a><a class="code" href="FatSim_8hpp.html#252821a8f48d333d1015d4a8f54082e5">00219</a> <span class="preprocessor">#define FS_TEXT                        PO_TEXT         </span><span class="comment">/* Ignored */</span>
<a name="l00220"></a><a class="code" href="FatSim_8hpp.html#9b7f1e2e90ca837bcc6ca390b78080ec">00220</a> <span class="preprocessor">#define FS_BINARY                      PO_BINARY       </span><span class="comment">/* Ignored. All file access is binary */</span>
<a name="l00221"></a><a class="code" href="FatSim_8hpp.html#be6ecfe50a7cc7e89700e421bb8eec5f">00221</a> <span class="preprocessor">#define FS_NOSHAREANY                  PO_NOSHAREANY   </span><span class="comment">/* Wants this open to fail if already open. Other opens will fail while this open is active */</span>
<a name="l00222"></a><a class="code" href="FatSim_8hpp.html#34ccf91d4d463e3f26455729081a8009">00222</a> <span class="preprocessor">#define FS_NOSHAREWRITE                PO_NOSHAREWRITE </span><span class="comment">/* Wants this opens to fail if already open for write. Other open for write calls will fail while this open is active. */</span>
<a name="l00223"></a>00223 
<a name="l00224"></a>00224 <span class="comment">/* File open modes */</span>
<a name="l00225"></a><a class="code" href="FatSim_8hpp.html#f96915dfc6b10d05f5a38aa72486130d">00225</a> <span class="preprocessor">#define FS_IWRITE                      PS_IWRITE </span><span class="comment">/* Write permitted */</span>
<a name="l00226"></a><a class="code" href="FatSim_8hpp.html#5899e46536151a98d1fe795d1f37b1dc">00226</a> <span class="preprocessor">#define FS_IREAD                       PS_IREAD  </span><span class="comment">/* Read permitted. (Always true anyway) */</span>
<a name="l00227"></a>00227 
<a name="l00228"></a><a class="code" href="structfs__registered__info__type.html">00228</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00229"></a>00229 <span class="keyword"></span>{
<a name="l00230"></a><a class="code" href="structfs__registered__info__type.html#7d45c23e714aad7fe5f2fb89e361e5bd">00230</a>     <a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">fs_device_type</a> device;
<a name="l00231"></a><a class="code" href="structfs__registered__info__type.html#9f7adc12de9da3ff71aa2819d590c685">00231</a>     <span class="keywordtype">char</span>           drive_letter;
<a name="l00232"></a><a class="code" href="structfs__registered__info__type.html#da352aaff9742e19c98d4e0e70c33739">00232</a>     <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a>           removable;
<a name="l00233"></a><a class="code" href="structfs__registered__info__type.html#53e4281cccdb350c8d73592a57f6658c">00233</a>     <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a>           indication;
<a name="l00234"></a><a class="code" href="structfs__registered__info__type.html#1addb74d867bc62d7ed406a162ed7f46">00234</a>     <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a>           media_present;
<a name="l00235"></a>00235     void           (*notification_func)(<a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">fs_device_type</a> device, <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> media_present, <span class="keywordtype">void</span> *client_arg);
<a name="l00236"></a><a class="code" href="structfs__registered__info__type.html#7e376e6b76b46ca16fb8923ddbc9bc7a">00236</a>     <span class="keywordtype">void</span>           *client_arg;
<a name="l00237"></a>00237 }  <a class="code" href="structfs__registered__info__type.html">fs_registered_info_type</a>;
<a name="l00238"></a>00238 
<a name="l00239"></a>00239 <span class="comment">/* Structure for user to do recursive search for files in a selected drive */</span>
<a name="l00240"></a><a class="code" href="FatSim_8hpp.html#2926e64d2095c6928889cfbf7f93cfc6">00240</a> <span class="keyword">typedef</span> <a class="code" href="structdstat.html">DSTAT</a> <a class="code" href="structdstat.html">fs_dstat_type</a>;
<a name="l00241"></a>00241 
<a name="l00242"></a>00242 <span class="comment">/*</span>
<a name="l00243"></a>00243 <span class="comment">** Structure for use by with file statistic.</span>
<a name="l00244"></a>00244 <span class="comment">*/</span>
<a name="l00245"></a><a class="code" href="FatSim_8hpp.html#94a2f1986b21eda9d857af87be8055b8">00245</a> <span class="keyword">typedef</span> <a class="code" href="structfs__stat.html">STAT</a> <a class="code" href="structfs__stat.html">fs_stat_type</a>;
<a name="l00246"></a>00246 
<a name="l00247"></a>00247 <span class="comment">/*</span>
<a name="l00248"></a>00248 <span class="comment">** File handle returned by FS_open and used in later file operations.</span>
<a name="l00249"></a>00249 <span class="comment">*/</span>
<a name="l00250"></a><a class="code" href="FatSim_8hpp.html#0709dbf3a697c6b13218d7e2d23ecde7">00250</a> <span class="keyword">typedef</span> <a class="code" href="FatSim_8hpp.html#8acffc923aee18eb92d5f87d7a402e65">PCFD</a> <a class="code" href="FatSim_8hpp.html#0709dbf3a697c6b13218d7e2d23ecde7">fs_fd_type</a>;
<a name="l00251"></a><a class="code" href="FatSim_8hpp.html#f0da73fa66bf6977f82378653cc1d4f1">00251</a> <span class="preprocessor">#define FS_INVALID_FILEHANDLE INVALID_PCFD</span>
<a name="l00252"></a>00252 <span class="preprocessor"></span>
<a name="l00253"></a>00253 <span class="comment">/*---------------------------------------*/</span>
<a name="l00254"></a>00254 <span class="comment">/* global functions.                     */</span>
<a name="l00255"></a>00255 <span class="comment">/*---------------------------------------*/</span>
<a name="l00256"></a>00256 
<a name="l00257"></a>00257 <span class="comment">//Init/deactivate functions:</span>
<a name="l00258"></a>00258 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#583f7ec91d1393f42e2d99ece4ad9345">FS_init_rtos</a>(<span class="keywordtype">void</span>);
<a name="l00259"></a>00259 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="FatSim_8cpp.html#3980e4b385b41c6ff6397bd5d38ce51f">FS_deactivate</a>(<span class="keywordtype">void</span>);
<a name="l00260"></a>00260 
<a name="l00261"></a>00261 <span class="comment">//Register devices</span>
<a name="l00262"></a>00262 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#5dd4f281954ce1405c92d62a427f839a">ubyte</a> <a class="code" href="FatSim_8cpp.html#42f190ff1323332eecbd1f773fee407e">FS_get_registered_devices</a>(<span class="keyword">const</span> <a class="code" href="structfs__registered__info__type.html">fs_registered_info_type</a> **device_list) ;
<a name="l00263"></a>00263 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#3d8ffec358df4d8ccb09424ab547f624">FS_assign_driveletter</a>(<a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">fs_device_type</a> device, <span class="keywordtype">char</span> drive_letter);
<a name="l00264"></a>00264 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#9d3a6538b8a8bc649508f2d83da70fc1">FS_register_media_status_notification</a>(<a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">fs_device_type</a> device, <span class="keywordtype">void</span> (*notify_func)(<a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">fs_device_type</a> device, <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> media_present, <span class="keywordtype">void</span> *client_arg), <span class="keywordtype">void</span> *client_arg);
<a name="l00265"></a>00265 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="FatSim_8cpp.html#b31a820d356c51413887e43f3ffbf535">FS_device_notify</a>(<span class="keywordtype">long</span> device_id, <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> media_present);
<a name="l00266"></a>00266 
<a name="l00267"></a>00267 <span class="comment">//Disk/device services:</span>
<a name="l00268"></a>00268 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#8e5a44bc8dcb386938087335b886b2f0">FS_diskopen</a>(<a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">fs_device_type</a> device);
<a name="l00269"></a>00269 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#eee9918fb486aca81cf4f19ab8b607aa">FS_diskflush</a>(<a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">fs_device_type</a> device);
<a name="l00270"></a>00270 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#cf994d024114273f204d71527a144ac1">FS_diskclose</a>(<a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">fs_device_type</a> device);
<a name="l00271"></a>00271 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="FatSim_8cpp.html#51b2a68327351629b50e0bd2d5481657">FS_diskabort</a>(<a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">fs_device_type</a> device);
<a name="l00272"></a>00272 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#b720a39a461fea9c9387eabfcfbc3bb6">FS_diskinfo</a>(<a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">fs_device_type</a> device, <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> *mounted, <a class="code" href="FatSim_8hpp.html#5dd4f281954ce1405c92d62a427f839a">ubyte</a> *nof_partitions);
<a name="l00273"></a>00273 
<a name="l00274"></a>00274 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#cd3aad5fc0bafc818474de21ffde9842">FS_format</a>(<a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">fs_device_type</a> device, <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> quick);
<a name="l00275"></a>00275 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> <a class="code" href="FatSim_8cpp.html#12fd337498dbb40cc3462b8acba61b02">FS_free</a>(<a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">fs_device_type</a> device);
<a name="l00276"></a>00276 
<a name="l00277"></a>00277 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">fs_device_type</a> <a class="code" href="FatSim_8cpp.html#f524e5f2fef820d44b7ef2431ec75c4c">FS_get_default_device</a>(<span class="keywordtype">void</span>);
<a name="l00278"></a>00278 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#3ca982de3e7a98bd5b5e97fc9613e308">FS_set_default_device</a>(<a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">fs_device_type</a> device);
<a name="l00279"></a>00279 
<a name="l00280"></a>00280 <span class="comment">//FS directory operating functions:</span>
<a name="l00281"></a>00281 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#13cc1e43f50ed0998b9d6df0a27ebd1b">FS_mkdir</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path);
<a name="l00282"></a>00282 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#1089200853eb9d16694bc617df70433c">FS_rmdir</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path);
<a name="l00283"></a>00283 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#bc39365eb377399b2f272b9a5dca77ac">FS_isdir</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path);
<a name="l00284"></a>00284 
<a name="l00285"></a>00285 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#9ae72522a35593cbd419479c536c91af">FS_getcwd</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *drive, <span class="keywordtype">char</span> *path);
<a name="l00286"></a>00286 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#59827f789d46ec55c24790ee96ac20e9">FS_setcwd</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path);
<a name="l00287"></a>00287 
<a name="l00288"></a>00288 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#34d2b2fc360b5d422cf493ae00041d4a">FS_findfirst</a>(<a class="code" href="structdstat.html">fs_dstat_type</a> *statobj, <span class="keyword">const</span> <span class="keywordtype">char</span> *pattern);
<a name="l00289"></a>00289 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#3e033338841db5a728a1f7cc8b4d1f05">FS_findnext</a>(<a class="code" href="structdstat.html">fs_dstat_type</a> *statobj);
<a name="l00290"></a>00290 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="FatSim_8cpp.html#d8c1903a9fc509f3e596a2f6d197154a">FS_finddone</a>(<a class="code" href="structdstat.html">fs_dstat_type</a> *statobj);
<a name="l00291"></a>00291 
<a name="l00292"></a>00292 <span class="comment">//FS file operating functions:</span>
<a name="l00293"></a>00293 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#0709dbf3a697c6b13218d7e2d23ecde7">fs_fd_type</a> <a class="code" href="FatSim_8cpp.html#bb658c9d136721df6968c58e77aa3a57">FS_open</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename, <a class="code" href="FatSim_8hpp.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a> <a class="code" href="VCard_8cpp.html#728eb72022b89e7952143c0ec8751b3b">flag</a>, <a class="code" href="FatSim_8hpp.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a> mode);
<a name="l00294"></a>00294 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#c4f12af6780ca2d0b8db51380e1e539e">FS_close</a>(<a class="code" href="FatSim_8hpp.html#0709dbf3a697c6b13218d7e2d23ecde7">fs_fd_type</a> fd);
<a name="l00295"></a>00295 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#6c623005dd20c11637badf7c8256c5ac">FS_read</a>(<a class="code" href="FatSim_8hpp.html#0709dbf3a697c6b13218d7e2d23ecde7">fs_fd_type</a> fd, <a class="code" href="FatSim_8hpp.html#5dd4f281954ce1405c92d62a427f839a">ubyte</a> <a class="code" href="FatSim_8hpp.html#0b6aafe63dd04b17cbd5858f0f72a129">huge</a> *buffer, <a class="code" href="FatSim_8hpp.html#718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> count);
<a name="l00296"></a>00296 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> <a class="code" href="FatSim_8cpp.html#22735b439570cdc43df5113f61836321">FS_read_max</a>(<a class="code" href="FatSim_8hpp.html#0709dbf3a697c6b13218d7e2d23ecde7">fs_fd_type</a> fd, <a class="code" href="FatSim_8hpp.html#5dd4f281954ce1405c92d62a427f839a">ubyte</a> <a class="code" href="FatSim_8hpp.html#0b6aafe63dd04b17cbd5858f0f72a129">huge</a> *buffer, <a class="code" href="FatSim_8hpp.html#718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> count);
<a name="l00297"></a>00297 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#413fccb0f5637a2a5125e32d7e99f588">FS_write</a>(<a class="code" href="FatSim_8hpp.html#0709dbf3a697c6b13218d7e2d23ecde7">fs_fd_type</a> fd, <span class="keyword">const</span> <a class="code" href="FatSim_8hpp.html#5dd4f281954ce1405c92d62a427f839a">ubyte</a> <a class="code" href="FatSim_8hpp.html#0b6aafe63dd04b17cbd5858f0f72a129">huge</a> *buffer, <a class="code" href="FatSim_8hpp.html#718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> count);
<a name="l00298"></a>00298 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#4fc27f1bd785423df3b8cdd605848a12">FS_flush</a>(<a class="code" href="FatSim_8hpp.html#0709dbf3a697c6b13218d7e2d23ecde7">fs_fd_type</a> fd);
<a name="l00299"></a>00299 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#906c1b0a4cd7a1bcc81a985060739aac">FS_truncate</a>(<a class="code" href="FatSim_8hpp.html#0709dbf3a697c6b13218d7e2d23ecde7">fs_fd_type</a> fd, <a class="code" href="FatSim_8hpp.html#718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> new_size);
<a name="l00300"></a>00300 
<a name="l00301"></a>00301 <span class="comment">//FS Streaming data</span>
<a name="l00302"></a>00302 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#596ea36e828e5ecb0b92f67736bb5320">FS_read_streaming</a>(<a class="code" href="FatSim_8hpp.html#0709dbf3a697c6b13218d7e2d23ecde7">fs_fd_type</a> fd, <a class="code" href="FatSim_8hpp.html#5dd4f281954ce1405c92d62a427f839a">ubyte</a> <a class="code" href="FatSim_8hpp.html#0b6aafe63dd04b17cbd5858f0f72a129">huge</a> *buffer, <a class="code" href="FatSim_8hpp.html#718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> count, <span class="keywordtype">void</span> (*callback)(<a class="code" href="FatSim_8hpp.html#7d14306b3dd8ed2968e138134117808e">sshort</a> result, <span class="keywordtype">void</span> *client_arg), <span class="keywordtype">void</span> *client_arg);
<a name="l00303"></a>00303 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#13fbde2e5c4bd6e991472b1f2b880651">FS_write_streaming</a>(<a class="code" href="FatSim_8hpp.html#0709dbf3a697c6b13218d7e2d23ecde7">fs_fd_type</a> fd, <span class="keyword">const</span> <a class="code" href="FatSim_8hpp.html#5dd4f281954ce1405c92d62a427f839a">ubyte</a> <a class="code" href="FatSim_8hpp.html#0b6aafe63dd04b17cbd5858f0f72a129">huge</a> *buffer, <a class="code" href="FatSim_8hpp.html#718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> count, <span class="keywordtype">void</span> (*callback)(<a class="code" href="FatSim_8hpp.html#7d14306b3dd8ed2968e138134117808e">sshort</a> result, <span class="keywordtype">void</span> *client_arg), <span class="keywordtype">void</span> *client_arg);
<a name="l00304"></a>00304 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#24955325c679fd18103011ab4c388a37">FS_get_file_length_streaming</a>(<a class="code" href="FatSim_8hpp.html#0709dbf3a697c6b13218d7e2d23ecde7">fs_fd_type</a> fd, <a class="code" href="FatSim_8hpp.html#718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> *file_size, <span class="keywordtype">void</span> (*callback)(<a class="code" href="FatSim_8hpp.html#7d14306b3dd8ed2968e138134117808e">sshort</a> result, <span class="keywordtype">void</span> *client_arg), <span class="keywordtype">void</span> *client_arg);
<a name="l00305"></a>00305 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#43ea320ea93d98f37eb22bb91d5b88f3">FS_get_file_pos_streaming</a>(<a class="code" href="FatSim_8hpp.html#0709dbf3a697c6b13218d7e2d23ecde7">fs_fd_type</a> fd, <a class="code" href="FatSim_8hpp.html#718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> *pos, <span class="keywordtype">void</span> (*callback)(<a class="code" href="FatSim_8hpp.html#7d14306b3dd8ed2968e138134117808e">sshort</a> result, <span class="keywordtype">void</span> *client_arg), <span class="keywordtype">void</span> *client_arg);
<a name="l00306"></a>00306 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#38e320a3d1ae1eb1a2c98939d67c1c5a">FS_set_file_pos_streaming</a>(<a class="code" href="FatSim_8hpp.html#0709dbf3a697c6b13218d7e2d23ecde7">fs_fd_type</a> fd, <a class="code" href="FatSim_8hpp.html#718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> pos, <span class="keywordtype">void</span> (*callback)(<a class="code" href="FatSim_8hpp.html#7d14306b3dd8ed2968e138134117808e">sshort</a> result, <span class="keywordtype">void</span> *client_arg), <span class="keywordtype">void</span> *client_arg);
<a name="l00307"></a>00307 
<a name="l00308"></a>00308 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#2c49a70a95b9a890ed1949ee7d2dff94">FS_rename</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *old_filename, <span class="keyword">const</span> <span class="keywordtype">char</span> *new_filename);
<a name="l00309"></a>00309 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#bab23069f7881d8e9ee6004fdf2996cd">FS_delete</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename);
<a name="l00310"></a>00310 
<a name="l00311"></a>00311 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#b18f155a95e8f34bf2e4a8132ab9bad3">FS_get_attributes</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename, <a class="code" href="FatSim_8hpp.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a> *attributes);
<a name="l00312"></a>00312 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#f812611f6fc00a7a206fec3f5061217c">FS_set_attributes</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename, <a class="code" href="FatSim_8hpp.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a> attributes);
<a name="l00313"></a>00313 
<a name="l00314"></a>00314 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> <a class="code" href="FatSim_8cpp.html#65e948e234c1a935197f51452b5ab7ee">FS_seek</a>(<a class="code" href="FatSim_8hpp.html#0709dbf3a697c6b13218d7e2d23ecde7">fs_fd_type</a> fd, <a class="code" href="FatSim_8hpp.html#ccbe241cf39621acc453f1588fd22d24">slong</a> offset, <a class="code" href="FatSim_8hpp.html#7d14306b3dd8ed2968e138134117808e">sshort</a> origin, <a class="code" href="FatSim_8hpp.html#7d14306b3dd8ed2968e138134117808e">sshort</a> *err_flag);
<a name="l00315"></a>00315 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8cpp.html#ed07313aa518b146422d1d3c86ec9514">FS_stat</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename, <a class="code" href="structfs__stat.html">fs_stat_type</a> *pstat);
<a name="l00316"></a>00316 
<a name="l00317"></a>00317 <span class="comment">//FS Errorhandling</span>
<a name="l00318"></a>00318 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#7d14306b3dd8ed2968e138134117808e">sshort</a> <a class="code" href="FatSim_8cpp.html#a5b46c06bb29f56c9838ac161ad64754">FS_get_last_error</a>(<span class="keywordtype">void</span>);
<a name="l00319"></a>00319 <span class="keyword">extern</span> <a class="code" href="FatSim_8hpp.html#7d14306b3dd8ed2968e138134117808e">sshort</a> <a class="code" href="FatSim_8cpp.html#10c4eaa621ef0229a5659ec6874f2b84">FS_get_last_device_error</a>(<a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">fs_device_type</a> device);
<a name="l00320"></a>00320 
<a name="l00321"></a>00321 <span class="comment">/****************************************************************************/</span>
<a name="l00322"></a>00322 <span class="comment">/*              \dwddrv\FS\src\fs_massstorage_APOXI.h                       */</span>
<a name="l00323"></a>00323 <span class="comment">/****************************************************************************/</span>
<a name="l00324"></a>00324 
<a name="l00325"></a><a class="code" href="FatSim_8hpp.html#66513072647c657801d01bec3737a050">00325</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00326"></a>00326     <a class="code" href="FatSim_8hpp.html#66513072647c657801d01bec3737a050aee4e967801b73526ab8731d22b29767">FS_MS_connect</a>,
<a name="l00327"></a>00327     <a class="code" href="FatSim_8hpp.html#66513072647c657801d01bec3737a050e904daba4a29f23a2d072a5756406601">FS_MS_disconnect</a>
<a name="l00328"></a>00328 } <a class="code" href="FatSim_8hpp.html#66513072647c657801d01bec3737a050">ConnectType</a>;
<a name="l00329"></a>00329 
<a name="l00330"></a><a class="code" href="FatSim_8hpp.html#96be08eb7d220263f0f12e84d47a962c">00330</a> <span class="keyword">typedef</span> <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> (*<a class="code" href="FatSim_8hpp.html#96be08eb7d220263f0f12e84d47a962c">FS_MS_StatusNotificationFunction_type</a>)(
<a name="l00331"></a>00331     <a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">fs_device_type</a> drive_id,
<a name="l00332"></a>00332     ConnectType request,
<a name="l00333"></a>00333     <span class="keywordtype">void</span> *user_data);
<a name="l00334"></a>00334 
<a name="l00335"></a>00335 <a class="code" href="FatSim_8hpp.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="FatSim_8hpp.html#b5e0e5dc1b9928e8e6afd6c4eea58ed7">FS_MS_AssignStatusNotificationFunction</a>(<a class="code" href="FatSim_8hpp.html#96be08eb7d220263f0f12e84d47a962c">FS_MS_StatusNotificationFunction_type</a> notification_function, <span class="keywordtype">void</span> *user_data);
<a name="l00336"></a>00336 
<a name="l00337"></a>00337 <span class="comment">/****************************************************************************/</span>
<a name="l00338"></a>00338 <span class="comment">/*              non-driver related interface                                */</span>
<a name="l00339"></a>00339 <span class="comment">/****************************************************************************/</span>
<a name="l00340"></a>00340 
<a name="l00341"></a>00341 <span class="preprocessor">#include &lt;<a class="code" href="SimpleMap_8hpp.html">Auxiliary/SimpleMap.hpp</a>&gt;</span>
<a name="l00342"></a>00342 <span class="preprocessor">#include &lt;<a class="code" href="String_8hpp.html">Auxiliary/String.hpp</a>&gt;</span>
<a name="l00343"></a>00343 <span class="preprocessor">#include &lt;<a class="code" href="NiSharedPtr_8hpp.html">Auxiliary/NiSharedPtr.hpp</a>&gt;</span>
<a name="l00344"></a>00344 
<a name="l00345"></a>00345 <span class="comment">// The host storage device descriptor.</span>
<a name="l00346"></a><a class="code" href="structHostFatFsDeviceDescriptor.html">00346</a> <span class="keyword">struct </span><a class="code" href="structHostFatFsDeviceDescriptor.html">HostFatFsDeviceDescriptor</a> {
<a name="l00347"></a><a class="code" href="structHostFatFsDeviceDescriptor.html#821024467e770ac97d15c46a5c76594e">00347</a>     <a class="code" href="classString.html">String</a> <a class="code" href="structHostFatFsDeviceDescriptor.html#821024467e770ac97d15c46a5c76594e">m_device_id</a>;
<a name="l00348"></a><a class="code" href="structHostFatFsDeviceDescriptor.html#cac069f929b8dbc70e7e64aa91c0650b">00348</a>     <a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">fs_device_type</a> <a class="code" href="structHostFatFsDeviceDescriptor.html#cac069f929b8dbc70e7e64aa91c0650b">m_device</a>;
<a name="l00349"></a>00349 
<a name="l00350"></a><a class="code" href="structHostFatFsDeviceDescriptor.html#2c69163acbe252ea4fde68a5bc5bf1f5">00350</a>     <a class="code" href="structHostFatFsDeviceDescriptor.html#2c69163acbe252ea4fde68a5bc5bf1f5">HostFatFsDeviceDescriptor</a>() : <a class="code" href="structHostFatFsDeviceDescriptor.html#cac069f929b8dbc70e7e64aa91c0650b">m_device</a>(static_cast&lt;<a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">fs_device_type</a>&gt;(0))
<a name="l00351"></a>00351     { }
<a name="l00352"></a>00352 
<a name="l00353"></a><a class="code" href="structHostFatFsDeviceDescriptor.html#814878888d1209b2668aa253f2f72c31">00353</a>     <a class="code" href="structHostFatFsDeviceDescriptor.html#2c69163acbe252ea4fde68a5bc5bf1f5">HostFatFsDeviceDescriptor</a>(
<a name="l00354"></a>00354         <span class="keyword">const</span> <a class="code" href="classString.html">String</a> &amp;<a class="code" href="structHostFatFsDeviceDescriptor.html#821024467e770ac97d15c46a5c76594e">m_device_id</a>,
<a name="l00355"></a>00355         <a class="code" href="FatSim_8hpp.html#1c97bab478a459cd5ee583fdc31e5e85">fs_device_type</a> <a class="code" href="structHostFatFsDeviceDescriptor.html#cac069f929b8dbc70e7e64aa91c0650b">m_device</a>)
<a name="l00356"></a>00356     :
<a name="l00357"></a>00357         <a class="code" href="structHostFatFsDeviceDescriptor.html#821024467e770ac97d15c46a5c76594e">m_device_id</a>(<a class="code" href="structHostFatFsDeviceDescriptor.html#821024467e770ac97d15c46a5c76594e">m_device_id</a>),
<a name="l00358"></a>00358         m_device(m_device)
<a name="l00359"></a>00359     { }
<a name="l00360"></a>00360 };
<a name="l00361"></a>00361 
<a name="l00362"></a>00362 <span class="comment">// Maps the drive letter to the according host storage device descriptor.</span>
<a name="l00363"></a><a class="code" href="FatSim_8hpp.html#785db17d0d564b150d6bbc3fba6935b7">00363</a> <span class="keyword">typedef</span> <a class="code" href="classSimpleMap.html">SimpleMap&lt;const CHAR, HostFatFsDeviceDescriptor&gt;</a> <a class="code" href="classSimpleMap.html">HostFatFsDeviceDescMap</a>;
<a name="l00364"></a>00364 
<a name="l00365"></a>00365 <span class="comment">// Shared pointer to the host storage device descriptor map.</span>
<a name="l00366"></a><a class="code" href="FatSim_8hpp.html#813bba62fca700d87233079b0f0b976d">00366</a> <span class="keyword">typedef</span> <a class="code" href="classNiSharedPtr.html">NiSharedPtr&lt;HostFatFsDeviceDescMap&gt;</a> <a class="code" href="classNiSharedPtr.html">HostFatFsDeviceDescMapPtr</a>;
<a name="l00367"></a>00367 
<a name="l00368"></a>00368 <span class="comment">// Initializes the host simulator with the available storage devices.</span>
<a name="l00369"></a>00369 <span class="keywordtype">void</span> <a class="code" href="FatSim_8cpp.html#561952d287719068f1b16bb4b8db2a7d">HostInitFatFsStorageDevices</a>(<span class="keyword">const</span> HostFatFsDeviceDescMapPtr &amp;device_map);
<a name="l00370"></a>00370 
<a name="l00371"></a>00371 <span class="preprocessor">#endif  // Apoxi_FatSim_hpp</span>
<a name="l00372"></a>00372 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Jan 24 14:44:54 2006 for APOXI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO </small></address>
</body>
</html>
