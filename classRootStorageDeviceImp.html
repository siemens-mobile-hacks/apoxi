<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>APOXI: RootStorageDeviceImp Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul></div>
<h1>RootStorageDeviceImp Class Reference<br>
<small>
[<a class="el" href="group__AFSRFS.html">Virtual Root File System support</a>]</small>
</h1><!-- doxytag: class="RootStorageDeviceImp" --><!-- doxytag: inherits="StorageDevice" -->Storage device implementation for virtual root storage device.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="AddOns_2AfsRfs_2RootStorageDeviceImp_8hpp-source.html">Apoxi/AddOns/AfsRfs/RootStorageDeviceImp.hpp</a>&gt;</code>
<p>
Inheritance diagram for RootStorageDeviceImp:<p><center><img src="classRootStorageDeviceImp__inherit__graph.png" border="0" usemap="#RootStorageDeviceImp__inherit__map" alt="Inheritance graph"></center>
<map name="RootStorageDeviceImp__inherit__map">
<area href="classStorageDevice.html" shape="rect" coords="32,7,141,34" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for RootStorageDeviceImp:<p><center><img src="classRootStorageDeviceImp__coll__graph.png" border="0" usemap="#RootStorageDeviceImp__coll__map" alt="Collaboration graph"></center>
<map name="RootStorageDeviceImp__coll__map">
<area href="classStorageDevice.html" shape="rect" coords="216,204,325,231" alt="">
<area href="classBitVector.html" shape="rect" coords="7,98,295,124" alt="">
<area href="classBitVector.html" shape="rect" coords="96,7,205,34" alt="">
<area href="classWString.html" shape="rect" coords="319,98,388,124" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRootStorageDeviceImp.html#03175518b90fb62e4888e74e146c087b">Exists</a> (const <a class="el" href="classPathname.html">Pathname</a> &amp;pathname) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRootStorageDeviceImp.html#6dcfc3318a54ffdf619b3c1e237955a8">Format</a> (BOOLEAN quick=<a class="el" href="Kernel_2Types_8hpp.html#bf218ebc7e2ed90798d1f23a29b7ad09">FALSE</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual UINT8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRootStorageDeviceImp.html#865840773ddf7140c69a95526e124df8">GetDefaultChunkSize</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual UINT32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRootStorageDeviceImp.html#875d02de5d7c29ae069213f9d96ff81c">GetFreeVolumeSize</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classFile.html#8c6b206914397c84793d847749a6f8e4">File::Error</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRootStorageDeviceImp.html#fdf9df17aec6238aba333e44548e8c39">GetLastError</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classWString.html">WString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRootStorageDeviceImp.html#82cc504e8039b4c5a75c21905eb45c79">GetNativeDirectoryPathname</a> (const <a class="el" href="classPathname.html">Pathname</a> &amp;pathname) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classWString.html">WString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRootStorageDeviceImp.html#bcf6bc4a38ea240f042efa961146ef9b">GetNativeFilePathname</a> (const <a class="el" href="classPathname.html">Pathname</a> &amp;pathname) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRootStorageDeviceImp.html#66da7c30d36c6fab77de1692dbf9bb90">GetOpenFilesCounter</a> (UINT &amp;counter) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual UINT32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRootStorageDeviceImp.html#10358cf993a30a348091c41d1610abf6">GetTotalVolumeSize</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual UINT32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRootStorageDeviceImp.html#9c545ee49274789a79c4e1d57f61764a">GetUsedVolumeSize</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRootStorageDeviceImp.html#c3ab146ec2b4686735a5bcc53ffb93e6">IsDirectory</a> (const <a class="el" href="classPathname.html">Pathname</a> &amp;pathname) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRootStorageDeviceImp.html#e8f3a34ec2e962fed16328e8bbe5eed6">IsReady</a> () const </td></tr>

<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static const <a class="el" href="classWString.html">WString</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRootStorageDeviceImp.html#b5547533eb16454db29a9298282d3a55">GetId</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the storage device ID string.  <a href="#b5547533eb16454db29a9298282d3a55"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classNiSharedPtr.html">DirectoryIteratorPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRootStorageDeviceImp.html#c299acb2ffac8481de4e2a8b75bae74a">CreateDirectoryIterator</a> (const <a class="el" href="classPathname.html">Pathname</a> &amp;dir_pathname, const <a class="el" href="classNiSharedPtr.html">FileFilterPtr</a> &amp;filter) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classNiSharedPtr.html">FilePtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRootStorageDeviceImp.html#bdb6db1b702615fbd0d8dd38deb99654">CreateFileObject</a> (const <a class="el" href="classPathname.html">Pathname</a> &amp;pathname) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRootStorageDeviceImp.html#2655dabe5ca45e5b55b2f1cf8699f414">RootStorageDeviceImp</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new root storage device object.  <a href="#2655dabe5ca45e5b55b2f1cf8699f414"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRootStorageDeviceImp.html#32704a8e78bae79dd685d2883d01c402">~RootStorageDeviceImp</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Static Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRootStorageDeviceImp.html#3970d7c7304924d8c5da4cbddace68a3">Setup</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRootStorageDeviceImp.html#339270f565eaa3ba5044f0458aa3b836">RootFileSystem</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Storage device implementation for virtual root storage device. 
<p>
Class <a class="el" href="classRootStorageDeviceImp.html">RootStorageDeviceImp</a> implements the storage device interface for the virtual root storage device which unifies all other storage devices that are actually registered to the root file system. Each registered storage device is available as first-level subdirectory of the root directory and is named like the short name of the storage device. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="2655dabe5ca45e5b55b2f1cf8699f414"></a><!-- doxytag: member="RootStorageDeviceImp::RootStorageDeviceImp" ref="2655dabe5ca45e5b55b2f1cf8699f414" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">RootStorageDeviceImp::RootStorageDeviceImp           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new root storage device object. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="32704a8e78bae79dd685d2883d01c402"></a><!-- doxytag: member="RootStorageDeviceImp::~RootStorageDeviceImp" ref="32704a8e78bae79dd685d2883d01c402" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">RootStorageDeviceImp::~RootStorageDeviceImp           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destroys this root storage device and unregisters it from the root file system.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="c299acb2ffac8481de4e2a8b75bae74a"></a><!-- doxytag: member="RootStorageDeviceImp::CreateDirectoryIterator" ref="c299acb2ffac8481de4e2a8b75bae74a" args="(const Pathname &amp;dir_pathname, const FileFilterPtr &amp;filter) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classNiSharedPtr.html">DirectoryIteratorPtr</a> RootStorageDeviceImp::CreateDirectoryIterator           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classPathname.html">Pathname</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>dir_pathname</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classNiSharedPtr.html">FileFilterPtr</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>filter</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new directory iterator object for the specified pathname.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dir_pathname</em>&nbsp;</td><td>The pathname of the directory. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>filter</em>&nbsp;</td><td>The filter which selects the files the iterator shall return.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A DirectoryIteratorPtr wrapping either a new directory iterator object or <code>0</code> if there is not enough memory left. </dd></dl>

<p>
Implements <a class="el" href="classStorageDevice.html#147076d1cf054ac710ed8f974bb046dc">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="bdb6db1b702615fbd0d8dd38deb99654"></a><!-- doxytag: member="RootStorageDeviceImp::CreateFileObject" ref="bdb6db1b702615fbd0d8dd38deb99654" args="(const Pathname &amp;pathname) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classNiSharedPtr.html">FilePtr</a> RootStorageDeviceImp::CreateFileObject           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classPathname.html">Pathname</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pathname</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new file object for the specified pathname.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pathname</em>&nbsp;</td><td>The pathname.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A FilePtr wrapping either a new file object or <code>0</code> if there is not enough memory left. </dd></dl>

<p>
Implements <a class="el" href="classStorageDevice.html#ec97689f1990968c695952cbedcf67b8">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="03175518b90fb62e4888e74e146c087b"></a><!-- doxytag: member="RootStorageDeviceImp::Exists" ref="03175518b90fb62e4888e74e146c087b" args="(const Pathname &amp;pathname) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN RootStorageDeviceImp::Exists           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classPathname.html">Pathname</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pathname</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Tells if pathname exists. If it exists it may either be a file or a directory. 
<p>
Implements <a class="el" href="classStorageDevice.html#07d95a598ca4fad561ad07e7181dbe99">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="6dcfc3318a54ffdf619b3c1e237955a8"></a><!-- doxytag: member="RootStorageDeviceImp::Format" ref="6dcfc3318a54ffdf619b3c1e237955a8" args="(BOOLEAN quick=FALSE)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN RootStorageDeviceImp::Format           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">BOOLEAN&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>quick</em> = <code><a class="el" href="Kernel_2Types_8hpp.html#bf218ebc7e2ed90798d1f23a29b7ad09">FALSE</a></code>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The virtual root storage device cannot be formatted. It is only possible to format real devices. 
<p>
Implements <a class="el" href="classStorageDevice.html#bea176a6818e4172ae68950213118a81">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="865840773ddf7140c69a95526e124df8"></a><!-- doxytag: member="RootStorageDeviceImp::GetDefaultChunkSize" ref="865840773ddf7140c69a95526e124df8" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">UINT8 RootStorageDeviceImp::GetDefaultChunkSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the default chunk size for operating in chunk mode on files stored on this storage device.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classFile.html#bcdae671e255001d18aa9039f04ae2c3">File::GetChunkSize()</a> <p>
<a class="el" href="classFile.html#91e94b7e5ba4c125cf82fd6b3a760c24">File::SetChunkSize()</a> </dd></dl>

<p>
Implements <a class="el" href="classStorageDevice.html#516c38d4de2cb55fd86adfc2876d3e58">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="875d02de5d7c29ae069213f9d96ff81c"></a><!-- doxytag: member="RootStorageDeviceImp::GetFreeVolumeSize" ref="875d02de5d7c29ae069213f9d96ff81c" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">UINT32 RootStorageDeviceImp::GetFreeVolumeSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the free volume size of the device in bytes.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The free volume size of the device in bytes. </dd></dl>

<p>
Implements <a class="el" href="classStorageDevice.html#a186b9312b8ed2cd74286ab9fa9f81d2">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="b5547533eb16454db29a9298282d3a55"></a><!-- doxytag: member="RootStorageDeviceImp::GetId" ref="b5547533eb16454db29a9298282d3a55" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const <a class="el" href="classWString.html">WString</a> &amp; RootStorageDeviceImp::GetId           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the storage device ID string. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="fdf9df17aec6238aba333e44548e8c39"></a><!-- doxytag: member="RootStorageDeviceImp::GetLastError" ref="fdf9df17aec6238aba333e44548e8c39" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual <a class="el" href="classFile.html#8c6b206914397c84793d847749a6f8e4">File::Error</a> RootStorageDeviceImp::GetLastError           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the error occurred by the last operation. 
<p>
Reimplemented from <a class="el" href="classStorageDevice.html#2967932fcd7bcef822816b216fd41a5c">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="82cc504e8039b4c5a75c21905eb45c79"></a><!-- doxytag: member="RootStorageDeviceImp::GetNativeDirectoryPathname" ref="82cc504e8039b4c5a75c21905eb45c79" args="(const Pathname &amp;pathname) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classWString.html">WString</a> RootStorageDeviceImp::GetNativeDirectoryPathname           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classPathname.html">Pathname</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pathname</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns pathname in native directory name format. The native directory name format may differ from storage device to storage device. 
<p>
Implements <a class="el" href="classStorageDevice.html#17f9c26410fc7e311cde57862e850c65">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="bcf6bc4a38ea240f042efa961146ef9b"></a><!-- doxytag: member="RootStorageDeviceImp::GetNativeFilePathname" ref="bcf6bc4a38ea240f042efa961146ef9b" args="(const Pathname &amp;pathname) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classWString.html">WString</a> RootStorageDeviceImp::GetNativeFilePathname           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classPathname.html">Pathname</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pathname</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns pathname in native file name format. The native file name format may differ from storage device to storage device. 
<p>
Implements <a class="el" href="classStorageDevice.html#b70a41f566862fb3da8b25cec92821de">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="66da7c30d36c6fab77de1692dbf9bb90"></a><!-- doxytag: member="RootStorageDeviceImp::GetOpenFilesCounter" ref="66da7c30d36c6fab77de1692dbf9bb90" args="(UINT &amp;counter) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN RootStorageDeviceImp::GetOpenFilesCounter           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>counter</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the number of currently open file handles. 
<p>
Reimplemented from <a class="el" href="classStorageDevice.html#b6096522ea501f0a84df0f5c00f75558">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="10358cf993a30a348091c41d1610abf6"></a><!-- doxytag: member="RootStorageDeviceImp::GetTotalVolumeSize" ref="10358cf993a30a348091c41d1610abf6" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">UINT32 RootStorageDeviceImp::GetTotalVolumeSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the total volume size of the device in bytes.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The total volume size of the device in bytes. </dd></dl>

<p>
Implements <a class="el" href="classStorageDevice.html#097a7534619ace08e436852c2ec533e8">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="9c545ee49274789a79c4e1d57f61764a"></a><!-- doxytag: member="RootStorageDeviceImp::GetUsedVolumeSize" ref="9c545ee49274789a79c4e1d57f61764a" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">UINT32 RootStorageDeviceImp::GetUsedVolumeSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the used volume size of the device in bytes. Note that this size is usually larger than the sum of the sizes of all stored files, since meta information to control the directory structure is stored on the device, too.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The used volume size of the device in bytes. </dd></dl>

<p>
Implements <a class="el" href="classStorageDevice.html#4edb7a4c02f76e3992669a9d16b2e74c">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="c3ab146ec2b4686735a5bcc53ffb93e6"></a><!-- doxytag: member="RootStorageDeviceImp::IsDirectory" ref="c3ab146ec2b4686735a5bcc53ffb93e6" args="(const Pathname &amp;pathname) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN RootStorageDeviceImp::IsDirectory           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classPathname.html">Pathname</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pathname</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Tells if pathname is a directory. This base implementation returns <code>TRUE</code> only for the root pathname, since every storage device is at least organized in a flat manner which we interpret as having a single root directory. The method is declared as abstract for when implementing a new storage device you can't forget to deal with this issue. If the derived storage device is organized in a flat manner, then the override of this abstract method might be a simple call to this base class implementation. If a derived class supports directories then implement this method accordingly. 
<p>
Implements <a class="el" href="classStorageDevice.html#e5c52062a17037f13874132c15e43c71">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="e8f3a34ec2e962fed16328e8bbe5eed6"></a><!-- doxytag: member="RootStorageDeviceImp::IsReady" ref="e8f3a34ec2e962fed16328e8bbe5eed6" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN RootStorageDeviceImp::IsReady           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The virtual root storage device is ready to be used when at least one of the currently registered devices is ready to be used. 
<p>
Implements <a class="el" href="classStorageDevice.html#69b1fb730dbe1aac7864a0803b64eee0">StorageDevice</a>.    </td>
  </tr>
</table>
<a class="anchor" name="3970d7c7304924d8c5da4cbddace68a3"></a><!-- doxytag: member="RootStorageDeviceImp::Setup" ref="3970d7c7304924d8c5da4cbddace68a3" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN RootStorageDeviceImp::Setup           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static, protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets up the storage device for usage. The method must be called before using the root storage device. It can be called as many times as convenient, however, only the first call does the work. If there is a setup problem <code>FALSE</code> is returned.     </td>
  </tr>
</table>
<hr><h2>Friends And Related Function Documentation</h2>
<a class="anchor" name="339270f565eaa3ba5044f0458aa3b836"></a><!-- doxytag: member="RootStorageDeviceImp::RootFileSystem" ref="339270f565eaa3ba5044f0458aa3b836" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">friend class <a class="el" href="classRootFileSystem.html">RootFileSystem</a><code> [friend]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Reimplemented from <a class="el" href="classStorageDevice.html#339270f565eaa3ba5044f0458aa3b836">StorageDevice</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>AddOns/AfsRfs/<a class="el" href="AddOns_2AfsRfs_2RootStorageDeviceImp_8hpp-source.html">RootStorageDeviceImp.hpp</a><li>AddOns/AfsRfs/<a class="el" href="RootStorageDeviceImp_8cpp.html">RootStorageDeviceImp.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jan 25 01:46:34 2006 for APOXI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO </small></address>
</body>
</html>
