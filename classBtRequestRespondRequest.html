<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>APOXI: BtRequestRespondRequest Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul></div>
<h1>BtRequestRespondRequest Class Reference<br>
<small>
[<a class="el" href="group__Bluetooth.html">Bluetooth</a>]</small>
</h1><!-- doxytag: class="BtRequestRespondRequest" --><!-- doxytag: inherits="BtUncancelablePointToPointRequest" --><code>#include &lt;<a class="el" href="BtRequestRespondRequest_8hpp-source.html">Apoxi/Bluetooth/BtRequestRespondRequest.hpp</a>&gt;</code>
<p>
Inheritance diagram for BtRequestRespondRequest:<p><center><img src="classBtRequestRespondRequest__inherit__graph.png" border="0" usemap="#BtRequestRespondRequest__inherit__map" alt="Inheritance graph"></center>
<map name="BtRequestRespondRequest__inherit__map">
<area href="classBtRespondAuthorizationRequest.html" shape="rect" coords="55,455,271,482" alt="">
<area href="classBtSendPasskeyRequest.html" shape="rect" coords="327,455,492,482" alt="">
<area href="classBtUncancelablePointToPointRequest.html" shape="rect" coords="150,306,390,332" alt="">
<area href="classBtUncancelableRequest.html" shape="rect" coords="187,231,352,258" alt="">
<area href="classBtLocalRequest.html" shape="rect" coords="212,156,327,183" alt="">
<area href="classBtRequest.html" shape="rect" coords="168,82,251,108" alt="">
<area href="classUserDispatcher.html" shape="rect" coords="275,82,387,108" alt="">
<area href="classDispatcher.html" shape="rect" coords="288,7,374,34" alt="">
<area href="classBtApplicationRespondAuthorizationRequest.html" shape="rect" coords="7,530,287,556" alt="">
<area href="classBtApplicationSendPasskeyRequest.html" shape="rect" coords="311,530,540,556" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for BtRequestRespondRequest:<p><center><img src="classBtRequestRespondRequest__coll__graph.png" border="0" usemap="#BtRequestRespondRequest__coll__map" alt="Collaboration graph"></center>
<map name="BtRequestRespondRequest__coll__map">
<area href="classBtUncancelablePointToPointRequest.html" shape="rect" coords="53,524,293,551" alt="">
<area href="classBtUncancelableRequest.html" shape="rect" coords="7,434,172,460" alt="">
<area href="classBtLocalRequest.html" shape="rect" coords="32,343,147,370" alt="">
<area href="classBtRequest.html" shape="rect" coords="11,266,93,292" alt="">
<area href="classMutex.html" shape="rect" coords="13,175,72,202" alt="">
<area href="classNonCloneable.html" shape="rect" coords="51,7,157,34" alt="">
<area href="classSemaphore.html" shape="rect" coords="59,84,149,111" alt="">
<area href="classUserDispatcher.html" shape="rect" coords="136,266,248,292" alt="">
<area href="classDispatcher.html" shape="rect" coords="160,175,245,202" alt="">
<area href="classBtDevice.html" shape="rect" coords="196,434,271,460" alt="">
<area href="classBtDeviceAddress.html" shape="rect" coords="171,343,296,370" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBtRequestRespondRequest.html#ea6f0f894087aeee51ea3e9e5bf247a9">BtRequestRespondRequest</a> (const <a class="el" href="classBtDevice.html">BtDevice</a> &amp;device)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#ea6f0f894087aeee51ea3e9e5bf247a9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBtRequestRespondRequest.html#f0e5d5bcc60eb17e4b84a598e942c04a">~BtRequestRespondRequest</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#f0e5d5bcc60eb17e4b84a598e942c04a"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="group__Bluetooth.html#g678219fc8a75446f0444709b898ef6ee">BtRequestState</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBtRequestRespondRequest.html#c2acab814b0231d36f24b8e938a47cfc">ChangeRequestState</a> (BOOLEAN success)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the new state depending on the success.  <a href="#c2acab814b0231d36f24b8e938a47cfc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBtRequestRespondRequest.html#4ff9d3235501c4d72a070b8bbbd4281f">EvaluateMessageResult</a> (const <a class="el" href="classBtRequestMessage.html">BtRequestMessage</a> &amp;message)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check the result parameter of the callback functions.  <a href="#4ff9d3235501c4d72a070b8bbbd4281f"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Under certain conditions there could be the situation, that the Bluetooth stack needs some information during the execution of partikular operations. To implement a posibility to send the requested information to the stack the <em><a class="el" href="classBtRequestRespondRequest.html">BtRequestRespondRequest</a></em> is introduced. This is a request that could be executed during another request is running.<br>
 In the case of such request, the noification sequence of the Bluetooth stack differs slightly from normal requests. This changes are reflected in a slightly different state machine for these requests. To handle this new state machine the to state changing functions <em>ChangeRequestState</em> and <em>EvaluateMessageResult</em> have to be overwritten. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="ea6f0f894087aeee51ea3e9e5bf247a9"></a><!-- doxytag: member="BtRequestRespondRequest::BtRequestRespondRequest" ref="ea6f0f894087aeee51ea3e9e5bf247a9" args="(const BtDevice &amp;device)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BtRequestRespondRequest::BtRequestRespondRequest           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classBtDevice.html">BtDevice</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>device</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="f0e5d5bcc60eb17e4b84a598e942c04a"></a><!-- doxytag: member="BtRequestRespondRequest::~BtRequestRespondRequest" ref="f0e5d5bcc60eb17e4b84a598e942c04a" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BtRequestRespondRequest::~BtRequestRespondRequest           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor. 
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="c2acab814b0231d36f24b8e938a47cfc"></a><!-- doxytag: member="BtRequestRespondRequest::ChangeRequestState" ref="c2acab814b0231d36f24b8e938a47cfc" args="(BOOLEAN success)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__Bluetooth.html#g678219fc8a75446f0444709b898ef6ee">BtRequestState</a> BtRequestRespondRequest::ChangeRequestState           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">BOOLEAN&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>success</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the new state depending on the success. 
<p>
<em>ChangeRequestState</em> is a function that is used by the <em>ExecuteRequest</em> and the <em>EvaluateMessageResult</em> functions to do the change of the request state. Depending on the current state and the passed in success, this function sets the right new state. The passed in success parameter can be on the one hand the result of a function call, on the other hand the result parameter of a message sent up to the request by the apropriate controller. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>success</em>&nbsp;</td><td>A <em>BOOLEAN</em> indicating the success of the operation execution stage corresponding to the current state. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A <em>BtRequestState</em> containing the new request state after doing the state transition. </dd></dl>

<p>
Reimplemented from <a class="el" href="classBtRequest.html#94062b9627e546fea5425a860a40a4a8">BtRequest</a>.    </td>
  </tr>
</table>
<a class="anchor" name="4ff9d3235501c4d72a070b8bbbd4281f"></a><!-- doxytag: member="BtRequestRespondRequest::EvaluateMessageResult" ref="4ff9d3235501c4d72a070b8bbbd4281f" args="(const BtRequestMessage &amp;message)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN BtRequestRespondRequest::EvaluateMessageResult           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classBtRequestMessage.html">BtRequestMessage</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>message</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Check the result parameter of the callback functions. 
<p>
When a callback function is invoked one parameter is a result code indicatint the state of the ongoing stack operation. Ths result code is interpreted and the if necessary the <em>ChangeRequestState</em> function is called to do the right state change.<br>
 This function is a helper function and has to be used be the implementations of a concrete request when it handles the arrived message in the <em>OnMessage</em> function. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>message</em>&nbsp;</td><td>A reference to a <em><a class="el" href="classBtRequestMessage.html">BtRequestMessage</a></em> that references the Bluetooth message received by the <em>OnMessage</em> function. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><table border="0>" cellspacing="3" cellpadding="3">
<tr>
<td><em>TRUE:</em> </td><td>The was a state transition. </td></tr>
<tr>
<td><em>FALSE:</em> </td><td>The was <b>no</b> state transition. </td></tr>
</table>
</dd></dl>

<p>
Reimplemented from <a class="el" href="classBtLocalRequest.html#0a8a13af6edc51fcf86ef703e9f35818">BtLocalRequest</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>Bluetooth/<a class="el" href="BtRequestRespondRequest_8hpp-source.html">BtRequestRespondRequest.hpp</a><li>Bluetooth/<a class="el" href="BtRequestRespondRequest_8cpp.html">BtRequestRespondRequest.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jan 25 01:02:25 2006 for APOXI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO </small></address>
</body>
</html>
