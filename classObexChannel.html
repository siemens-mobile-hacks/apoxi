<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>APOXI: ObexChannel Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul></div>
<h1>ObexChannel Class Reference<br>
<small>
[<a class="el" href="group__OBEX.html">OBEX</a>]</small>
</h1><!-- doxytag: class="ObexChannel" -->Internal association class used to address an OBEX transport channel.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="ObexChannel_8hpp-source.html">Apoxi/Obex/ObexChannel.hpp</a>&gt;</code>
<p>
Collaboration diagram for ObexChannel:<p><center><img src="classObexChannel__coll__graph.png" border="0" usemap="#ObexChannel__coll__map" alt="Collaboration graph"></center>
<map name="ObexChannel__coll__map">
<area href="classBitField.html" shape="rect" coords="9,97,108,124" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">UINT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__OBEX.html#g3b0fa01d9ac873bfe30f315051fc3972">GetIndex</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the index specified at construction time.  <a href="group__OBEX.html#g3b0fa01d9ac873bfe30f315051fc3972"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__OBEX.html#g82470f6a9b902947df809854fe935d12">ObexProtocolId</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__OBEX.html#gab0f92a624e17d08ad5f7a8e1078b012">GetProtocolId</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the type of the associated protocol implementation.  <a href="group__OBEX.html#gab0f92a624e17d08ad5f7a8e1078b012"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__OBEX.html#g600b47b47493a092cb9f108f25077d5e">ObexTransportId</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__OBEX.html#gf772ab3aaf54dea69344ae21b6887a64">GetTransportId</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the object id of the associated transport implementation.  <a href="group__OBEX.html#gf772ab3aaf54dea69344ae21b6887a64"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__OBEX.html#g2490c45bc18b51783762373244563b2f">Invalidate</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Invalidate channel. Initialize the channel as if it had just beed default-constructed.  <a href="group__OBEX.html#g2490c45bc18b51783762373244563b2f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__OBEX.html#g9e81898062b62fa3358a495fdebbcfbd">IsClient</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tells if the channel is associated with a client.  <a href="group__OBEX.html#g9e81898062b62fa3358a495fdebbcfbd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__OBEX.html#g3d6e4d7c34feda413538ad817b4a9d5d">IsServer</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tells if the channel is associated with a server.  <a href="group__OBEX.html#g3d6e4d7c34feda413538ad817b4a9d5d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__OBEX.html#g33a67835b490ffd5ba4a0dd05b726806">IsUnique</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tells if the channel uniquely identifies an OBEX connection.  <a href="group__OBEX.html#g33a67835b490ffd5ba4a0dd05b726806"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__OBEX.html#g8ef43be55a2b6155bb944727c6e8753f">IsValid</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tells if the connection is valid.  <a href="group__OBEX.html#g8ef43be55a2b6155bb944727c6e8753f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__OBEX.html#g1d720810fc5d2be8344aebac998bf614">ObexChannel</a> (const <a class="el" href="classObexChannel.html">ObexChannel</a> &amp;)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy constructor.  <a href="group__OBEX.html#g1d720810fc5d2be8344aebac998bf614"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObexChannel.html#e55d55c2d68d3e7178deb1c375f8b401">ObexChannel</a> (<a class="el" href="group__OBEX.html#g600b47b47493a092cb9f108f25077d5e">ObexTransportId</a> transport_id, <a class="el" href="group__OBEX.html#g82470f6a9b902947df809854fe935d12">ObexProtocolId</a> protocol_id, BOOLEAN is_server, BOOLEAN is_unique, UINT16 impl_index)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor intended to by used by ObexTransport.  <a href="#e55d55c2d68d3e7178deb1c375f8b401"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__OBEX.html#g882092b5a6d897d977b36e5db831d9ac">ObexChannel</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default constructor. Constructs an invalid 'empty'<em> channel. </em> <a href="group__OBEX.html#g882092b5a6d897d977b36e5db831d9ac"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classObexChannel.html">ObexChannel</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__OBEX.html#g37e1c47da1343bf8f405f2048f596cca">operator=</a> (const <a class="el" href="classObexChannel.html">ObexChannel</a> &amp;)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assignment operator.  <a href="group__OBEX.html#g37e1c47da1343bf8f405f2048f596cca"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObexChannel.html#1878b6b20f1b76c702647421e315c073">operator!=</a> (const <a class="el" href="classObexChannel.html">ObexChannel</a> &amp;lhs, const <a class="el" href="classObexChannel.html">ObexChannel</a> &amp;rhs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Comparison for inequality.  <a href="#1878b6b20f1b76c702647421e315c073"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOLEAN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObexChannel.html#864b11c46c974d68b8171b16dc6f5e54">operator==</a> (const <a class="el" href="classObexChannel.html">ObexChannel</a> &amp;lhs, const <a class="el" href="classObexChannel.html">ObexChannel</a> &amp;rhs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Comparison for equality.  <a href="#864b11c46c974d68b8171b16dc6f5e54"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Internal association class used to address an OBEX transport channel. 
<p>
<b><em>Warning;</em></b><br>
 This is an internal interface and must not be used outside APOXI at all. However, developers of Transport Adapters for APOXI OBEX will need to understand the concepts explained in the following paragraphs.<p>
<a class="el" href="classObexChannel.html">ObexChannel</a> instances serve as associations used by the OBEX API classes to refer to a transport connection at Transport Adapter level.<p>
<a class="el" href="classObexChannel.html">ObexChannel</a> objects are constructed by the factory methods <code><a class="el" href="classObexProtocol.html#f27520cab5365171b3b8c8fce2c3310b">ObexProtocol::AcquireClientChannel</a></code> and <code><a class="el" href="classObexProtocol.html#f27520cab5365171b3b8c8fce2c3310b">ObexProtocol::AcquireClientChannel</a></code> which must be implemented by each Transport Adapter implementation. At construction time, the protocol implementation must supply the transport type, the protocol type and an index which can be freely chosen by the implementation class.<p>
<b>Concepts:</b><p>
<b>Mutual exclusive execution of OBEX operations:</b><p>
One <a class="el" href="classObexChannel.html">ObexChannel</a> instance can have only one pending OBEX operation at a time, even if a channel is shared by multiple OBEX connections.<p>
<b><a class="el" href="classObexChannel.html">ObexChannel</a> instances come in two flavours:</b><p>
<ul>
<li><em>Shared</em> channels (<em>'is_unique'</em> parameter in constructor set to <code>'FALSE'</code>) permit multiple OBEX connections to share one transport connection. Dispatching of incoming server requests is then performed by examining OBEX headers, mainly the MIME type of the object and possibly a <em>TARGET</em> or <em>CONNECTION ID</em>.</li><li><em>Unique</em> channels (<em>'is_unique'</em> parameter in constructor set to <code>'TRUE'</code>), permit exactly one OBEX connection per channel instance. In this case, dispatching can be performed solely by comparing channels.</li></ul>
<p>
<b>Channel lifetime:</b><p>
Each time a channel is created it is assigned an internal 'serial number' which causes 2 channels seperately created specifying the same constructor parameters to appear different from each other. Therefore, when a channel is created within a Transport Adapter, it should be stored in a member variable until <code><a class="el" href="classObexProtocol.html#f27520cab5365171b3b8c8fce2c3310b">ObexProtocol::AcquireClientChannel()</a></code> is called to request its deletion. Then, after having performed necessary internal cleanup actions, <a class="el" href="group__OBEX.html#g2490c45bc18b51783762373244563b2f">Invalidate()</a> should be called on the corresponding <a class="el" href="classObexChannel.html">ObexChannel</a> instance. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="e55d55c2d68d3e7178deb1c375f8b401"></a><!-- doxytag: member="ObexChannel::ObexChannel" ref="e55d55c2d68d3e7178deb1c375f8b401" args="(ObexTransportId transport_id, ObexProtocolId protocol_id, BOOLEAN is_server, BOOLEAN is_unique, UINT16 impl_index)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ObexChannel::ObexChannel           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__OBEX.html#g600b47b47493a092cb9f108f25077d5e">ObexTransportId</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>transport_id</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__OBEX.html#g82470f6a9b902947df809854fe935d12">ObexProtocolId</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>protocol_id</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>is_server</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>is_unique</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT16&nbsp;</td>
          <td class="mdname" nowrap> <em>impl_index</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor intended to by used by ObexTransport. 
<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classObexProtocol.html#62289138e06813383e6de0ab1bd488d3">ObexProtocol::AcquireServerChannel()</a> <p>
<a class="el" href="classObexProtocol.html#f27520cab5365171b3b8c8fce2c3310b">ObexProtocol::AcquireClientChannel()</a></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>transport_id</em>&nbsp;</td><td>Pass &lt;your_transport&gt;.GetObjectId() </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>protocol_id</em>&nbsp;</td><td>Pass &lt;your_protocol&gt;.GetTypeId() </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>is_server</em>&nbsp;</td><td>Pass <code>'TRUE'</code> for a server channel, <code>'FALSE'</code> otherwise. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>impl_index</em>&nbsp;</td><td>Pass an integer you would like to act as a reference to internal resources of your implementation used by this channel. For example, it can be used as an index into an internal array or vector of strcutures associated with a transport channel at stack level. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Friends And Related Function Documentation</h2>
<a class="anchor" name="1878b6b20f1b76c702647421e315c073"></a><!-- doxytag: member="ObexChannel::operator!=" ref="1878b6b20f1b76c702647421e315c073" args="(const ObexChannel &amp;lhs, const ObexChannel &amp;rhs)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN operator!=           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classObexChannel.html">ObexChannel</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>lhs</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classObexChannel.html">ObexChannel</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>rhs</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [friend]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Comparison for inequality. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="864b11c46c974d68b8171b16dc6f5e54"></a><!-- doxytag: member="ObexChannel::operator==" ref="864b11c46c974d68b8171b16dc6f5e54" args="(const ObexChannel &amp;lhs, const ObexChannel &amp;rhs)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOLEAN operator==           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classObexChannel.html">ObexChannel</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>lhs</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classObexChannel.html">ObexChannel</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>rhs</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [friend]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Comparison for equality. 
<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>Obex/<a class="el" href="ObexChannel_8hpp-source.html">ObexChannel.hpp</a><li>Obex/<a class="el" href="ObexChannel_8cpp.html">ObexChannel.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jan 25 01:32:15 2006 for APOXI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO </small></address>
</body>
</html>
